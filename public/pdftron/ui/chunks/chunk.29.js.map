{"version":3,"sources":["webpack:///./src/ui/src/components/Note/Context.js","webpack:///./src/ui/src/helpers/setAnnotationRichTextStyle.js","webpack:///./src/ui/src/helpers/convertNewlinesToParagraphs.js","webpack:///./src/ui/src/helpers/quillModules.js","webpack:///./src/ui/src/components/NoteTextarea/CommentTextarea/CommentTextarea.js","webpack:///./src/ui/src/components/NoteTextarea/NoteTextarea.js","webpack:///./src/ui/src/components/NoteTextarea/index.js","webpack:///./src/ui/src/helpers/NoteStateUtils.js","webpack:///./src/ui/src/components/NoteTextPreview/NoteTextPreview.js","webpack:///./src/ui/src/components/ModularComponents/NoteStateFlyout/NoteStateFlyout.js","webpack:///./src/ui/src/components/ModularComponents/NoteStateFlyout/index.js","webpack:///./src/ui/src/helpers/isAnnotationRenderedInDisplayMode.js","webpack:///./src/ui/src/components/NoteTextPreview/NoteTextPreview.scss?6a7c","webpack:///./src/ui/src/components/NoteTextPreview/NoteTextPreview.scss","webpack:///./src/ui/src/constants/quill.scss?4fa3","webpack:///./src/ui/src/constants/quill.scss","webpack:///./src/ui/src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss?cd6a","webpack:///./src/ui/src/components/NoteTextarea/CommentTextarea/CommentTextarea.scss","webpack:///./src/ui/src/components/NotePopup/NotePopup.scss?6702","webpack:///./src/ui/src/components/NotePopup/NotePopup.scss","webpack:///./src/ui/src/components/NoteHeader/NoteHeader.scss?3127","webpack:///./src/ui/src/components/NoteHeader/NoteHeader.scss","webpack:///./src/ui/src/components/ReplyAttachmentList/ReplyAttachmentList.scss?f20c","webpack:///./src/ui/src/components/ReplyAttachmentList/ReplyAttachmentList.scss","webpack:///./src/ui/src/components/NoteContent/NoteContent.scss?4f20","webpack:///./src/ui/src/components/NoteContent/NoteContent.scss","webpack:///./src/ui/src/components/Note/ReplyArea/ReplyArea.scss?000c","webpack:///./src/ui/src/components/Note/ReplyArea/ReplyArea.scss","webpack:///./src/ui/src/components/AnnotationNoteConnectorLine/AnnotationNoteConnectorLine.scss?4116","webpack:///./src/ui/src/components/AnnotationNoteConnectorLine/AnnotationNoteConnectorLine.scss","webpack:///./src/ui/src/components/Note/Note.scss?84a5","webpack:///./src/ui/src/components/Note/Note.scss","webpack:///./src/ui/src/components/NotesPanel/ReplyAttachmentPicker.js","webpack:///./src/ui/src/components/NotePopup/NotePopup.js","webpack:///./src/ui/src/components/NotePopup/NotePopupContainer.js","webpack:///./src/ui/src/components/NotePopup/index.js","webpack:///./src/ui/src/components/NoteState/NoteState.js","webpack:///./src/ui/src/components/NoteState/NoteStateContainer.js","webpack:///./src/ui/src/components/NoteState/index.js","webpack:///./src/ui/src/components/NoteUnpostedCommentIndicator/NoteUnpostedCommentIndicator.js","webpack:///./src/ui/src/components/NoteUnpostedCommentIndicator/NoteUnpostedCommentIndicatorContainer.js","webpack:///./src/ui/src/components/NoteUnpostedCommentIndicator/index.js","webpack:///./src/ui/src/components/NoteHeader/NoteHeader.js","webpack:///./src/ui/src/components/NoteHeader/index.js","webpack:///./src/ui/src/components/NoteTextPreview/NoteTextPreviewContainer.js","webpack:///./src/ui/src/components/NoteTextPreview/index.js","webpack:///./src/ui/src/helpers/ReplyAttachmentManager.js","webpack:///./src/ui/src/helpers/sanitizeSVG.js","webpack:///./src/ui/src/components/ReplyAttachmentList/ReplyAttachmentList.js","webpack:///./src/ui/src/components/ReplyAttachmentList/index.js","webpack:///./src/ui/src/helpers/setReactQuillContent.js","webpack:///./src/ui/src/components/NoteContent/NoteContent.js","webpack:///./src/ui/src/components/NoteContent/index.js","webpack:///./src/ui/src/components/Note/ReplyArea/ReplyArea.js","webpack:///./src/ui/src/components/Note/ReplyArea/index.js","webpack:///./src/ui/src/components/Note/NoteGroupSection.js","webpack:///./src/ui/src/components/AnnotationNoteConnectorLine/AnnotationNoteConnectorLine.js","webpack:///./src/ui/src/helpers/annotationNoteConnectorLineHelper.js","webpack:///./src/ui/src/components/AnnotationNoteConnectorLine/index.js","webpack:///./src/ui/src/components/Note/Note.js","webpack:///./src/ui/src/components/Note/index.js","webpack:///./src/ui/src/components/InlineCommentingPopup/InlineCommentingPopup.scss?7d9f","webpack:///./src/ui/src/components/InlineCommentingPopup/InlineCommentingPopup.scss","webpack:///./src/ui/src/components/InlineCommentingPopup/InlineCommentingPopup.js","webpack:///./src/ui/src/components/InlineCommentingPopup/InlineCommentingPopupContainer.js","webpack:///./src/ui/src/components/InlineCommentingPopup/index.js"],"names":["NoteContext","React","createContext","setAnnotationRichTextStyle","editor","annotation","richTextStyle","ops","getContents","breakpoint","forEach","item","_item$insert","attributes","isMention","insert","mention","value","denotationChar","cssStyle","undefined","bold","italic","color","underline","strike","concat","size","font","length","setRichTextStyle","convertNewlinesToParagraphs","valueSplit","split","map","text","join","Clipboard","Quill","quillShadowDOMWorkaround","window","Core","QuillPasteExtra","_Clipboard","quill","options","_classCallCheck","_callSuper","_inherits","_createClass","Keyboard","CustomKeyboard","_Keyboard","arguments","_defineProperty","_objectSpread","DEFAULTS","bindings","BlurInputModule","_this$noteContainer","_this","event","key","blurQuill","shouldSkipInput","preventDefault","moveFocus","shiftKey","this","noteContainer","root","closest","addEventListener","handleKeyDown","bind","blur","container","tabIndex","focus","backwards","_focusableElements$ne","focusableElements","Array","from","querySelectorAll","currentIndex","indexOf","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","globalUserData","formats","register","Mention","MentionBlot","mentionModule","allowedChars","mentionDenotationChars","mentionContainerClass","mentionListClass","listItemClass","renderItem","div","document","createElement","innerText","email","para","className","appendChild","source","searchTerm","renderList","_callee","mentionsSearchFunction","foundUsers","_context","mentionsManager","getMentionLookupCallback","apply","_next","_throw","CommentTextarea","forwardRef","_ref","ref","_ref$value","onChange","onKeyDown","onBlur","onFocus","userData","isReply","_slicedToArray","useTranslation","isAddReplyAttachmentDisabled","useSelector","state","selectors","isElementDisabled","DataElements","NotesPanel","ADD_REPLY_ATTACHMENT_BUTTON","transformTextForQuill","baseModule","blurInput","onClick","stopPropagation","onScroll","ReactQuill","style","overflowY","ele","getEditor","ariaLabel","modules","theme","placeholder","Button","dataElement","img","title","_getRootNode$querySel","getRootNode","querySelector","click","propTypes","PropTypes","string","func","isRequired","onSubmit","NoteTextarea","props","forwardedRef","_useSelector2","getUserData","isNoteSubmissionWithEnterEnabled","getAutoFocusNoteOnAnnotationSelection","getIsNoteEditing","shallowEqual","canSubmitByEnter","resize","useContext","textareaRef","useRef","prevHeightRef","useLayoutEffect","_textareaRef$current","_textareaRef$current$","boxDOMElement","current","firstElementChild","boundingBox","getBoundingClientRect","height","textareaProps","el","throttle","content","delta","replace","getText","trim","target","doesDeltaContainMention","_textareaRef$current2","formattedText","getFormattedTextFromDeltas","mentionData","extractMentionDataFromStr","totalTextLength","plainTextValue","textareaEditor","setTimeout","setSelection","which","isSubmittingByEnter","isSubmittingByCtrlEnter","metaKey","ctrlKey","Fragment","createStateAnnotation","documentViewerKey","stateAnnotation","Annotations","StickyAnnotation","core","getCurrentUser","enableSkipAutoLink","displayAuthor","getDisplayAuthor","stateMessage","i18next","toLowerCase","contents","setContents","NoteTextPreview","children","panelWidth","linesToBreak","renderRichText","_props$comment","comment","_props$beforeContent","beforeContent","_useState2","useState","expanded","setExpand","_useState4","previewElementWidth","setPreviewWidth","_useState6","charsPerLine","setCharsperLine","_useState8","showPrompt","setShowPrompt","textToDisplay","substring","prompt","noteTextPreviewClass","classNames","useEffect","textNodeWidth","clientWidth","textWidth","context","getContext","measureText","width","getTextWidth","averageCharWidth","Math","floor","aria-live","number","any","bool","createFlyoutItem","option","icon","label","noteStateFlyoutItems","NoteStateFlyout","noteId","_props$handleStateCha","handleStateChange","_props$isMultiSelectM","isMultiSelectMode","dispatch","useDispatch","selectorSuffix","flyoutSelector","NOTE_STATE_FLYOUT","currentFlyout","getFlyout","noteStateFlyout","items","noteState","actions","updateFlyout","addFlyout","isAnnotationRenderedInDisplayMode","isAnnotationInVisiblePages","getDisplayModeObject","getVisiblePages","includes","PageNumber","isContinuousDisplayMode","api","__esModule","default","module","styleTag","isApryseWebViewerWebComponent","head","webComponents","getElementsByTagName","findNestedWebComponents","tagName","elements","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","ReplyAttachmentPicker","annotationId","addAttachments","replyAttachmentHandler","getReplyAttachmentHandler","_ref2","file","attachment","url","files","name","type","_x","id","display","notePopupFlyoutItems","handleEdit","handleDelete","isEditable","isDeletable","noop","NotePopup","_props$handleEdit","_props$handleDelete","customizableUI","_selectors$getFeature","getFeatureFlags","NOTE_POPUP_FLYOUT","notePopupButtonClass","optionsClass","ToggleElementButton","toggleElement","disabled","NotePopupFlyout","handleClick","selection","filter","notePopupFlyout","NotePopupContainer","activeDocumentViewerKey","getActiveDocumentViewerKey","setIsEditing","noteIndex","_React$useState2","canModify","setCanModify","_React$useState4","canModifyContents","setCanModifyContents","onUpdateAnnotationPermission","removeEventListener","passProps","useCallback","FreeTextAnnotation","getAnnotationManager","isFreeTextEditingEnabled","trigger","deleteAnnotations","_toConsumableArray","getGroupedChildren","NoDelete","Id","_extends","object","NoteState","annotationState","getStatus","NoteStateContainer","isNoteStateDisabled","useFocusOnClose","newValue","addReply","annotationManager","addAnnotation","getRootAnnotation","pendingEditTextMap","pendingReplyMap","pendingAttachmentMap","NoteUnpostedCommentIndicator","hasUnpostedComment","setHasUnpostedComment","hasUnpostedReply","setHasUnpostedReply","hasUnpostedAttachment","setHasUnpostedAttachment","_pendingEditTextMap$a","_pendingReplyMap$anno","_pendingAttachmentMap","data-element","Tooltip","Icon","glyph","NoteUnpostedCommentIndicatorContainer","isDisabled","_React$useContext","iconColor","fillColor","language","noteDateFormat","isSelected","notesShowLastUpdatedDate","isUnread","renderAuthorName","isEditing","sortStrategy","activeTheme","isMultiSelected","handleMultiSelect","isGroupMember","showAnnotationNumbering","isTrackedChange","NoteHeader","_annotation$iconColor","_annotation$iconColor2","date","timezone","dateCreated","NotesPanelSortStrategy","MODIFIED_DATE","CREATED_DATE","getLatestActivityDate","DateCreated","datetimeStr","toLocaleString","timeZone","Date","noteDateAndTime","dayjs","locale","format","numberOfReplies","getReplies","toHexString","Theme","DARK","isDarkColorHex","COMMON_COLORS","LIGHT","isLightColorHex","getColor","FillColor","annotationAssociatedNumber","getAssociatedNumber","annotationDisplayedAssociatedNumber","authorAndDateClass","noteHeaderClass","parent","Choice","aria-label","checked","trackedChangeId","getCustomData","OFFICE_EDITOR_TRACKED_CHANGE_KEY","getOfficeEditor","acceptTrackedChange","iconClassName","rejectTrackedChange","NoteTextPreviewContainer","notePanelWidth","getNotesPanelWidth","_asyncToGenerator","icons","FileAttachmentUtils","decompressFileContent","_decompressFileContent","decompressWithFlateDecode","setAnnotationAttachments","_x2","_setAnnotationAttachments","_callee2","_args2","_context2","setAttachments","isImage","startsWith","getAttachmentIcon","_file$name","pop","readAsText","svg","toString","fileReader","FileReader","result","isSVG","sanitizeSVG","svgText","forbiddenTags","clean","DOMPurify","addHook","_","hookEvent","allowedTags","sanitize","Blob","isDirty","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","slice","constructor","test","_unsupportedIterableToArray","_nonIterableRest","ImagePreview","src","setSrc","isDirtySVG","setIsDirtySvg","fileToSanitize","isImageFromPDF","_yield$sanitizeSVG","File","URL","createObjectURL","processImagePreview","ReplyAttachmentList","_ref3","fileDeleted","getTabManager","isReplyAttachmentPreviewEnabled","tabManager","previewEnabled","_ref4","fileData","console","warn","addTab","filename","setActive","saveCurrentActiveTabState","onDownload","_ref5","_callee3","_t","_context3","saveAs","_x3","_x4","onDelete","getAttributtes","element","attr","decoration","setReactQuillContent","getRichTextStyle","indexes","keys","isNaN","lastIndex","textSlice","extend","LocalizedFormat","isNonReplyNoteRead","onReplyClicked","handleNoteClick","NoteContent","_customData","_ref$handleNoteClick","getNoteDateFormat","getIconColor","mapAnnotationToKey","getCurrentLanguage","canCollapseTextPreview","isNotesPanelTextCollapsingEnabled","canCollapseReplyPreview","isNotesPanelRepliesCollapsingEnabled","getActiveTheme","getTimezone","_useContext","searchInput","onTopNoteContentClicked","setPendingEditText","annotationMapKeys","TRACKED_CHANGE","attachments","getAttachments","annotationChangedListener","annotations","action","annot","useDidUpdate","finishNoteEditing","customData","highlightSearchInput","skipAutoLink","getSkipAutoLink","renderContents","fontColor","autolinkerContent","Autolinker","link","stripPrefix","stripTrailingSlash","replaceFn","match","href","getAnchorHref","anchorText","getAnchorText","offset","getOffset","getType","start","end","getMatchedText","highlightResult","fontWeight","contentToRender","strIdx","anchorData","forIdx","rel","getDataWithKey","JSON","parse","escape","sanitizeContent","contentsToRender","Link","getLinkDestination","textColor","Color","textAreaValue","thereIsNoUnpostedEdit","handleContentsClicked","_window$getSelection","getSelection","noteContentClass","unread","clicked","useMemo","contentStyle","ContentArea","onTextAreaValueChange","pendingText","textPreview","highlightSearchResult","shouldCollapseAnnotationText","isString","DataElementWrapper","paddingRight","header","getIsMentionEnabled","INLINE_COMMENT_POPUP","isElementOpen","NOTES_PANEL","isAnyCustomPanelOpen","autoFocusNoteOnAnnotationSelection","isMentionEnabled","isInlineCommentDisabled","isInlineCommentOpen","isNotesPanelOpen","_useContext2","setCurAnnotId","deleteAttachment","clearAttachments","shouldNotFocusOnInput","isMobile","setText","_mentionsManager$extr","ids","textLength","getLength","pendingAttachments","_mentionsManager$extr2","disableSkipAutoLink","extractMentionDataFromAnnot","mentions","setCustomData","stringify","drawAnnotationsFromList","contentClassName","_e$relatedTarget","_e$relatedTarget$getA","relatedTarget","getAttribute","getRichTextSpan","fontStyle","textDecoration","styles","indices","Number","sort","b","index","min","max","styleIndices","fullText","loweredText","loweredSearchInput","lastFoundInstance","allFoundPositions","regexSafeSearchInput","RegExp","position","idx","ReplyArea","onPendingReplyChange","_selectors$getIsReply","isDocumentReadOnly","getIsReplyDisabled","isReadOnly","isReplyDisabled","isReplyDisabledForAnnotation","isNoteEditingTriggeredByAnnotationPopup","isContentEditable","setPendingReply","isExpandedFromSearch","scrollToSelectedAnnot","isFocused","setIsFocused","postReply","replyText","replyAnnotation","_replyAnnotation","createMentionReply","addAnnotations","createAnnotationReply","ifReplyNotAllowed","replyAreaClass","onMouseDown","handleNoteTextareaChange","isSubmitType","groupAnnotations","array","NoteGroupSection","isViewingGroupAnnots","setIsViewingGroupAnnots","ViewAllAnnotsButton","CloseAllAnnotsButton","groupAnnotation","selectAnnotation","jumpToAnnotation","openElement","LineConnectorPortal","mount","setAttribute","ANNOTATION_NOTE_CONNECTOR_LINE","removeChild","createPortal","noteContainerRef","isCustomPanelOpen","AnnotationNoteConnectorLine","getIsCustomUIEnabled","getTopHeadersHeight","getBottomHeadersHeight","getDocumentContainerWidth","getDocumentContainerHeight","isCustomUIEnabled","topHeadersHeight","bottomHeadersHeight","lineIsOpen","notePanelIsOpen","isLineDisabled","documentContainerWidth","documentContainerHeight","rightHorizontalLineWidth","setRightHorizontalLineWidth","rightHorizontalLineTop","setRightHorizontalLineTop","rightHorizontalLineRight","setRightHorizontalLineRight","leftHorizontalLineWidth","setLeftHorizontalLineWidth","_useState0","leftHorizontalLineTop","setLeftHorizontalLineTop","_useState10","leftHorizontalLineRight","setLeftHorizontalLineRight","notesPanelResizeBarWidth","RESIZE_BAR_WIDTH","_getAnnotationPositio","getAnnotationPosition","annotationBottomRight","bottomRight","annotationTopLeft","topLeft","getAnnotationLineOffset","Subject","onPageNumberUpdated","closeElement","_core$getScrollViewEl","getScrollViewElement","scrollTop","scrollLeft","isWebComponent","annotationWidth","x","viewerWidth","host","innerWidth","distanceToAnnotation","annotationXPosition","notePanelPadding","_calculateRightHorizo","notesContainerTop","viewerOffsetTop","_ref2$lineWidthRatio","lineWidthRatio","rightHorizontalLineRightOffset","rightHorizontalLineTopOffset","rightHorizontalLineLength","calculateRightHorizontalLineProperties","top","offsetTop","_calculateLeftHorizon","isAnnotationNoZoom","annotationNoZoomReferencePoint","annotationHeight","annotationTopLeftY","annotationLineOffset","noZoomRefShiftX","leftHorizontalLineRightOffset","leftHorizontalLineTopOffset","leftHorizontalLineLength","calculateLeftHorizontalLineProperties","NoZoom","getNoZoomReferencePoint","_calculateMiddleVerti","bottomHeaderTop","verticalLineTop","verticalLineHeight","abs","isAnnotationAboveViewer","isAnnotationBelow","isAnnotationOffScreen","calculateMiddleVerticalLineProperties","clientHeight","right","visibility","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","isInNotesPanel","currId","Note","shouldHideConnectorLine","containerRef","containerHeightRef","isEditingMap","setIsEditingMap","unreadReplyIdSet","Set","getNoteTransformFunction","getCustomNoteSelectionFunction","getUnreadAnnotationIdSet","isCommentThreadExpansionEnabled","isRightClickAnnotationPopupEnabled","getIsOfficeEditorMode","getOfficeEditorEditMode","noteTransformFunction","customNoteSelectionFunction","unreadAnnotationIdSet","shouldExpandCommentThread","isOfficeEditorMode","officeEditorEditMode","replies","has","add","setAnnotationReadState","isRead","prevHeight","currHeight","round","notesPanelElement","child","parentNode","_document","deselectAllAnnotations","OfficeEditorEditMode","PREVIEW","ANNOTATION_POPUP","moveCursorToTrackedChange","freezeMainCursor","hasUnreadReplies","noteClass","repliesClass","hidden","reply","showReplyArea","values","some","val","handleReplyClicked","markAllRepliesRead","repliesSetToRead","selectAnnotations","getGroupAnnotations","isGroup","lastReplyId","isRenderableInCurrentDisplayMode","isRenderingConnectorLine","ariaLabelledby","ariaCurrent","isUndraggable","isNotesPanelClosed","popupRef","closeAndReset","commentingAnnotation","contextValue","annotationForAttachment","InlineCommentingPopup","isExpanded","setExpanded","inlineCommentPopup","Popup","open","trackedChangePopup","onMouseMove","INLINE_COMMENT_POPUP_EXPAND_BUTTON","INLINE_COMMENT_POPUP_CLOSE_BUTTON","Provider","Draggable","cancel","InlineCommentingPopupContainer","getNotesInLeftPanel","LEFT_PANEL","getActiveLeftPanel","isAnnotationNumberingEnabled","getSortStrategy","notesInLeftPanel","isLeftPanelOpen","activeLeftPanel","left","setPosition","isPhone","isMobileDevice","isIE","isNotesPanelOpenOrActive","useOnClickOutside","notesPanel","clickedInNotesPanel","contains","clickedInNoteStateFlyout","datePicker","getDatePicker","warningModal","getOpenedWarningModal","colorPicker","getOpenedColorPicker","setPopupPosition","getPopupPosition","handleResize","debounce","setPendingAttachmentMap","annotationID","setAnnotationForAttachment","setPendingEditTextMap","setPendingReplyMap","pendingReply","_core$getDocument","getDocument","workerTypes","OFFICE_EDITOR","attachmentList","splice"],"mappings":"4FAAA,WAEMA,EAFN,OAEoBC,EAAMC,gBAEXF,O,wECyCAG,IA7CoB,SAACC,EAAQC,GAC1C,IAAMC,EAAgB,GAChBC,EAAMH,EAAOI,cAAcD,IAC7BE,EAAa,EACjBF,EAAIG,SAAQ,SAACC,GAAS,IAAAC,EACdC,EAAaF,EAAKE,WAClBC,EAAuB,QAAdF,EAAGD,EAAKI,cAAM,IAAAH,OAAA,EAAXA,EAAaI,QAC3BC,EAAQN,EAAKI,OACjB,GAAID,EAAW,CACb,IAAME,EAAUL,EAAKI,OAAOC,QAC5BC,EAAQD,EAAQE,eAAiBF,EAAQC,MAE3C,IAAME,EAAW,IACbN,aAAkDO,EAAYP,EAAWQ,QAC3EF,EAAS,eAAiB,SAExBN,aAAkDO,EAAYP,EAAWS,UAC3EH,EAAS,cAAgB,WAEvBN,aAAkDO,EAAYP,EAAWU,SAC3EJ,EAAgB,MAAIN,EAAWU,QAE7BV,aAAkDO,EAAYP,EAAWW,aAC3EL,EAAS,mBAAqB,SAE5BN,aAAkDO,EAAYP,EAAWY,UACvEN,EAAS,mBACXA,EAAS,mBAAqB,GAAHO,OAAMP,EAAS,mBAAkB,iBAE5DA,EAAS,mBAAqB,iBAG9BN,aAAkDO,EAAYP,EAAWc,QAC3ER,EAAS,aAAeN,EAAWc,OAEjCd,aAAkDO,EAAYP,EAAWe,QAC3ET,EAAS,eAAiBN,EAAWe,MAGvCtB,EAAcG,GAAcU,EAC5BV,GAAcQ,EAAMY,UAEtBxB,EAAWyB,iBAAiBxB,K,uYClBfyB,MAdf,SAAqCd,GACnC,IAAKA,EACH,OAAOA,EAET,IAAMe,EAAaf,EAAMgB,MAAM,MAE/B,OADyBD,EAAWH,OAAS,EAKxBG,EACDE,KAAI,SAACC,GAAI,YAAAT,OAAWS,GAAQ,OAAM,WAAQC,KAAK,IAJ1DnB,G,goFCdX,IAAMoB,EAAYC,IAAK,OAAQ,qBACvBC,EAA6BC,OAAOC,KAApCF,yBAEKG,EAAe,SAAAC,GAC1B,SAAAD,EAAYE,EAAOC,GACe,OADNC,EAAA,KAAAJ,GAC1BH,EAAyBK,GAAOG,EAAA,KAAAL,EAAA,CAC1BE,EAAOC,IACd,OAAAG,EAAAN,EAAAC,GAAAM,EAAAP,GAJyB,CAASL,GAQ/Ba,EAAWZ,IAAK,OAAQ,oBAEjBa,EAAc,SAAAC,GAAA,SAAAD,IAAA,OAAAL,EAAA,KAAAK,GAAAJ,EAAA,KAAAI,EAAAE,WAAA,OAAAL,EAAAG,EAAAC,GAAAH,EAAAE,GAAA,CAASD,GAQnCI,EARYH,EAAc,WAAAI,IAAA,GAEpBL,EAASM,UAAQ,IACpBC,SAAQF,IAAA,GACHL,EAASM,SAASC,UAAQ,IAC7B,qBAAiBrC,OAKhB,IAAMsC,EAAe,WAOzB,OAAAT,GAND,SAAAS,EAAYd,GAAO,IAAAe,EAAAC,EAAA,KAAAd,EAAA,KAAAY,GAAAJ,EAAA,sBAQH,SAACO,GACG,WAAdA,EAAMC,IACRF,EAAKG,YACkB,QAAdF,EAAMC,KAAiBF,EAAKI,kBACrCH,EAAMI,iBACNL,EAAKM,UAAUL,EAAMM,cAZvBC,KAAKxB,MAAQA,EACbwB,KAAKC,cAAgBzB,EAAM0B,KAAKC,QAAQ,SACxCH,KAAKJ,iBAAkB,EAEL,QAAlBL,EAAAS,KAAKC,qBAAa,IAAAV,GAAlBA,EAAoBa,iBAAiB,UAAWJ,KAAKK,cAAcC,KAAKN,SACzE,EAAAN,IAAA,YAAA7C,MAWD,WACEmD,KAAKJ,iBAAkB,EACvBI,KAAKxB,MAAM+B,OACXP,KAAKxB,MAAMgC,UAAUC,SAAW,EAChCT,KAAKxB,MAAMgC,UAAUE,UACtB,CAAAhB,IAAA,YAAA7C,MAED,SAAU8D,GAER,IAKyBC,EALnBC,EAAoBC,MAAMC,KAC9Bf,KAAKC,cAAce,iBAAiB,6CAEhCC,EAAeJ,EAAkBK,QAAQlB,KAAKxB,MAAMgC,YAEpC,IAAlBS,IAEyB,QAA3BL,EAAAC,EADiBF,EAAYM,EAAe,EAAIA,EAAe,UACpC,IAAAL,GAA3BA,EAA6BF,SAG/BV,KAAKJ,iBAAkB,EACvBI,KAAKxB,MAAMgC,UAAUC,UAAY,MAtCT,G,o5ECzB5B,IAAAU,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,EAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,EAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,EAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,EAAAH,EAAA,cAAAgB,GAAAb,EAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,EAAAa,EAAAtB,EAAA,qBAAAS,EAAAH,GAAAG,EAAAH,EAAAN,EAAA,aAAAS,EAAAH,EAAAR,GAAA,0BAAAW,EAAAH,EAAA,sDAAAqB,EAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,EAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,EAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,EAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,EAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAcA,IAAIuC,EAAiB,GAIfC,EAAU,CACd,aACA,OACA,QACA,OACA,OACA,SACA,OACA,OACA,SACA,SACA,YACA,aACA,SACA,SACA,OACA,QACA,YACA,aACA,UACA,WAGF/F,IAAMgG,SAAS,mBAAoBnF,GAAgB,GACnDb,IAAMgG,SAAS,oBAAqB5F,GAAiB,GACrDJ,IAAMgG,SAAS,oBAAqB5E,GAEpCpB,IAAMgG,SAAS,CACb,kBAAmBC,IACnB,gBAAiBC,MAInB,IAAMC,EAAgB,CACpBzH,QAAS,CACP0H,aAAc,4BACdC,uBAAwB,CAAC,IAAK,KAC9BC,sBAAuB,mBACvBC,iBAAkB,6BAClBC,cAAe,6BACfC,WAAU,SAACpI,GAET,IAAMqI,EAAMC,SAASC,cAAc,OAEnC,GADAF,EAAIG,UAAYxI,EAAKM,MACjBN,EAAKyI,MAAO,CACd,IAAMC,EAAOJ,SAASC,cAAc,KACpCG,EAAKF,UAAYxI,EAAKyI,MACtBC,EAAKC,UAAY,QACjBN,EAAIO,YAAYF,GAElB,OAAOL,GAEHQ,OAAM,SAACC,EAAYC,GAAY,OAtEzC/D,EAsEyC6B,IAAAE,GAAA,SAAAiC,IAAA,IAAAC,EAAAC,EAAA,OAAArC,IAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OACsC,OAAnEiE,EAAyBG,IAAgBC,2BAA0BF,EAAAnE,EAAA,EAChDiE,EAAuBxB,EAAgBqB,GAAW,OAArEI,EAAUC,EAAAnD,EAChB+C,EAAWG,EAAYJ,GAAY,cAAAK,EAAAlD,EAAA,MAAA+C,MAzEzC,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,EAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,EAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,cAAAvE,KA8EMyE,EAAkBnK,IAAMoK,YAC5B,SAAAC,EAUEC,GACG,IAAAC,EAAAF,EATDrJ,aAAK,IAAAuJ,EAAG,GAAEA,EACVC,EAAQH,EAARG,SACAC,EAASJ,EAATI,UACAC,EAAML,EAANK,OACAC,EAAON,EAAPM,QACAC,EAAQP,EAARO,SACAC,EAAOR,EAAPQ,QAIKtF,EAAqBuF,EAAhBC,cAAgB,GAApB,GAEFC,EAA+BC,aAAY,SAACC,GAAK,OAAKC,IAAUC,kBAAkBF,EAAOG,IAAaC,WAAWC,gCAEvHpD,EAAiByC,EAgBjB5J,EAAQwK,EAAsBxK,GAC9B,IAAMyK,EAAa,CAAEC,UAAW,IAGhC,OACE1L,IAAAiJ,cAAA,OAAKI,UAAU,mBAAmBqB,OAAQA,EAAQC,QAASA,EAASgB,QAftD,SAACrG,GACfA,EAAEtB,iBACFsB,EAAEsG,mBAaoFC,SAVvE,SAACvG,GAChBA,EAAEtB,iBACFsB,EAAEsG,oBASA5L,IAAAiJ,cAAC6C,IAAU,CACTzC,UAAU,0CACV0C,MAAO,CAAEC,UAAW,WACpB1B,IAAK,SAAC2B,GAIJ,OAHIA,IACFA,EAAIC,YAAY7H,KAAK8H,UAAY,GAAH1K,OAAgB8D,EAAVsF,EAAY,eAAoB,oBAE/DP,EAAI2B,IAEbG,QAASxB,GAAYA,EAAShJ,OAAS,EAAC0B,IAAA,GAAQmI,GAAejD,GAAkBiD,EACjFY,MAAM,OACNrL,MAAOA,EACPsL,YAAW,GAAA7K,OAAe8D,EAAVsF,EAAY,eAAoB,kBAAiB,OACjEL,SAAUA,EACVC,UAAWA,EACXrC,QAASA,IAEVyC,IAAYG,GACXhL,IAAAiJ,cAACsD,IAAM,CACLlD,UAAU,iBACVmD,YAAanB,IAAaC,WAAWC,4BACrCkB,IAAI,yBACJC,MAAK,GAAAjL,OAAK8D,EAAE,cAAa,KAAA9D,OAAI8D,EAAE,+BAC/BoG,QA3Cc,WAAM,IAAAgB,EAC6B,QAAvDA,EAAAC,cAAcC,cAAc,mCAA2B,IAAAF,GAAvDA,EAAyDG,eAiD/D3C,EAAgB7C,YAAc,kBAEf6C,Q,4tEC7If,IAAM4C,GAAY,CAEhB/L,MAAOgM,IAAUC,OAEjBX,YAAaU,IAAUC,OAEvBzC,SAAUwC,IAAUE,KAAKC,WAEzBzC,OAAQsC,IAAUE,KAElBvC,QAASqC,IAAUE,KAEnBE,SAAUJ,IAAUE,MAGhBG,GAAerN,IAAMoK,YAAW,SAACkD,EAAOC,GAC5C,IAWCC,EAAA1C,GARGG,aACF,SAACC,GAAK,MAAK,CACTC,IAAUsC,YAAYvC,GACtBC,IAAUuC,iCAAiCxC,GAC3CC,IAAUwC,sCAAsCzC,GAChDC,IAAUyC,iBAAiB1C,MAE7B2C,KACD,GAVCjD,EAAQ4C,EAAA,GACRM,EAAgBN,EAAA,GAWVO,EAAWC,qBAAWjO,KAAtBgO,OACFE,EAAcC,mBACdC,EAAgBD,mBAEtBE,2BAAgB,WAAM,IAAAC,EAAAC,EAGdC,EAAmC,QAAtBF,EAAGJ,EAAYO,eAAO,IAAAH,GAAQ,QAARC,EAAnBD,EAAqBlO,cAAM,IAAAmO,OAAR,EAAnBA,EAA6B3J,UAAU8J,kBACvDC,GAAcH,aAAa,EAAbA,EAAeI,0BAA2B,GAC1DR,EAAcK,SAAWL,EAAcK,UAAYE,EAAYE,QACjEb,IAEFI,EAAcK,QAAUE,EAAYE,SAGnC,CAACtB,EAAMtM,MAAO+M,IAGjB,IA8CMc,EAAavL,MAAA,GACdgK,GAAK,IACRhD,IAAK,SAACwE,GACJb,EAAYO,QAAUM,EACtBvB,EAAauB,IAEftE,SAAUuE,KAvCS,SAACC,EAASC,EAAO1F,EAAQpJ,GAI5C,GAFA6O,EAAUA,EAAQE,QAAQ,UAAW,KAEjCjB,EAAYO,QAAS,CAIvB,IACIxN,EAAQ,GAaZ,GAdgBb,GAAsC,KAA5BA,EAAOgP,UAAUC,QAA6B,gBAAZJ,IAI1DhO,EAAQgO,EAAQK,OAASL,EAAQK,OAAOrO,MAAQgO,GAElD1B,EAAM9C,SAASxJ,GAMc8I,IAAgBwF,wBAAwBL,EAAM3O,KAEjD,KAAAiP,EAClBC,EAAgB1F,IAAgB2F,2BAA2BR,EAAM3O,KACjEoP,EAAc5F,IAAgB6F,0BAA0BH,GAExDI,EADkBzP,EAAOgP,UACSvN,OAAS8N,EAAYG,eAAejO,OACtEkO,EAAoC,QAAtBP,EAAGtB,EAAYO,eAAO,IAAAe,OAAA,EAAnBA,EAAqBpP,OAC5C4P,YAAW,kBAAMD,aAAc,EAAdA,EAAgBE,aAAaJ,EAAiBA,KAAkB,OAWpD,KACjCnF,UArDoB,SAACnF,GAGrB,GAFiB,KACOA,EAAE2K,MACL,CACnB,IAAMC,EAAsBpC,EACtBqC,EAA2B7K,EAAE8K,SAAW9K,EAAE+K,SAE5CH,GAAuBC,IACzB7C,EAAMF,SAAS9H,KA8CnBsF,aAGF,OACE5K,IAAAiJ,cAAAjJ,IAAAsQ,SAAA,KACEtQ,IAAAiJ,cAACkB,EAAoB0E,OAK3BxB,GAAa/F,YAAc,eAC3B+F,GAAaN,UAAYA,GAEVM,UCzHAA,Q,6FCCf,SAASkD,EAAsBnQ,EAAY8K,GAA8B,IAAvBsF,EAAiBpN,UAAAxB,OAAA,QAAAT,IAAAiC,UAAA,GAAAA,UAAA,GAAG,EAO9DqN,EAAkB,IAAIlO,OAAOC,KAAKkO,YAAYC,iBAEpDF,EAA2B,UAAIrQ,EAAe,GAC9CqQ,EAAmB,EAAIrQ,EAAc,EACrCqQ,EAAmB,EAAIrQ,EAAc,EACrCqQ,EAA4B,WAAIrQ,EAAuB,WACvDqQ,EAAyB,QAAI,cAC7BA,EAAwB,OAAIG,IAAKC,iBACjCJ,EAAuB,MAAIvF,EAC3BuF,EAA4B,WAAc,WAAVvF,GAAgC,aAAVA,EAAuB,SAAW,SACxFuF,EAAwB,QAAI,EAC5BA,EAAgBK,qBAEhB,IAAMC,EAAgBH,IAAKI,iBAAiBP,EAAwB,OAAGD,GACjES,EAAeC,IAAQ3L,EAAE,gBAAD9D,OAAiByJ,EAAMiG,gBAC/CC,EAAW,GAAH3P,OAAMwP,EAAY,KAAAxP,OAAIyP,IAAQ3L,EAAE,sBAAqB,KAAA9D,OAAIsP,GAGvE,OAFAN,EAAgBY,YAAYD,GAErBX,I,isCCrBT,SAASa,EAAgBhE,GAEvB,IAAMpL,EAAOoL,EAAMiE,SAASrC,QAAQ,MAAO,IAEzCsC,EASElE,EATFkE,WACAC,EAQEnE,EARFmE,aACAC,EAOEpE,EAPFoE,eACArR,EAMEiN,EANFjN,cACA0N,EAKET,EALFS,OACAhC,EAIEuB,EAJFvB,MAAK4F,EAIHrE,EAFFsE,eAAO,IAAAD,GAAQA,EAAAE,EAEbvE,EADFwE,qBAAa,IAAAD,EAAG,aAAQA,EAEmBE,EAAAjH,EAAfkH,oBAAS,GAAM,GAAtCC,EAAQF,EAAA,GAAEG,EAASH,EAAA,GACmCI,EAAArH,EAAdkH,mBAAS,MAAK,GAAtDI,EAAmBD,EAAA,GAAEE,EAAeF,EAAA,GACWG,EAAAxH,EAAdkH,mBAAS,MAAK,GAA/CO,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACeG,EAAA3H,EAAfkH,oBAAS,GAAM,GAA5CU,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAC1BnI,EAAMtK,IAAMkO,OAAO,MACjB3I,EAAMwF,cAANxF,EAQFqN,EAAgBX,EAAW/P,EAAOA,EAAK2Q,UAAU,EAAGN,EAAed,GACnEqB,EAAoBvN,EAAX0M,EAAa,kBAAuB,mBAC7Cc,EAAuBC,IAAW,oBAAqB,CAAE,kBAAmBpB,IA0BlF,OAxBAqB,qBAAU,WACR,IAAMC,EAAgB5I,EAAIkE,QAAQ2E,YAClCd,EAAgBa,KACf,CAAC1B,IAGJpD,2BAAgB,WASd,IAAMgF,EARN,SAAsBlR,GACpB,IACMmR,EADSrK,SAASC,cAAc,UACfqK,WAAW,MAGlC,OAFAD,EAAQ1R,KAAO,kBAER0R,EAAQE,YAAYrR,GAAMsR,MAGjBC,CAAavR,GACzBwR,EAAmBN,EAAYlR,EAAKN,OACpC2Q,EAAeoB,KAAKC,MAAMxB,EAAsBsB,GACtDlB,EAAgBD,GAGhBI,EADmBS,EAAYhB,EACJX,KAC1B,CAACvP,EAAMkQ,IAGRpS,IAAAiJ,cAAA,OAAKI,UAAW0J,EAAsBzI,IAAKA,EAAKyB,MAAOA,EAAO8H,YAAU,UACrE/B,IACAJ,GAAkBrR,EACfqR,EAAekB,EAAevS,EAAe,GAC7CuS,EAAc,IAAEF,GAAc1S,IAAAiJ,cAAA,UAAQI,UAAU,2BAA2BsC,QAvC5D,SAAC/H,GACtBA,EAAMgI,kBACNsG,GAAWD,GACXlE,GAAUA,MAoCiG+E,IAK/GxB,EAAgBvE,UAAY,CAC1ByE,WAAYxE,IAAU8G,OACtBrC,aAAczE,IAAU8G,OACxBpC,eAAgB1E,IAAUE,KAC1B7M,cAAe2M,IAAU+G,IACzBhG,OAAQf,IAAUE,KAClBnB,MAAOiB,IAAU+G,IACjBnC,QAAS5E,IAAUgH,KACnBlC,cAAe9E,IAAUE,MAGZoE,O,o6CC5Ef,IAAM2C,EAAmB,SAACC,EAAQC,EAAM3H,GAAW,MAAM,CACvD2H,OACAC,MAAO,gBAAF3S,OAAkByS,EAAO/C,eAC9BzE,MAAO,gBAAFjL,OAAkByS,EAAO/C,eAC9B+C,SACA1H,gBAGW6H,EAAuB,CAClCJ,EAAiB,WAAY,kCAAmC,iCAChEA,EAAiB,WAAY,kCAAmC,iCAChEA,EAAiB,YAAa,mCAAoC,kCAClEA,EAAiB,YAAa,mCAAoC,kCAClEA,EAAiB,OAAQ,8BAA+B,6BACxDA,EAAiB,SAAU,gCAAiC,+BAC5DA,EAAiB,WAAY,kCAAmC,kCAG5DK,EAAkB,SAAChH,GACvB,IACEiH,EAGEjH,EAHFiH,OAAMC,EAGJlH,EAFFmH,yBAAiB,IAAAD,EAAG,aAAQA,EAAAE,EAE1BpH,EADFqH,yBAAiB,IAAAD,GAAQA,EAGrBE,EAAWC,cAEXC,EAAiBH,EAAoB,GAAK,IAAHlT,OAAO8S,GAC9CQ,EAAiB,GAAHtT,OAAM4J,IAAa2J,mBAAiBvT,OAAGqT,GACrDG,EAAgBhK,aAAY,SAACC,GAAK,OAAKC,IAAU+J,UAAUhK,EAAO6J,MAyBxE,OAnBA3G,2BAAgB,WACd,IAAM+G,EAAkB,CACtB3I,YAAauI,EACb1L,UAAW,kBACX+L,MAAOf,EAAqBpS,KAAI,SAACvB,GAC/B,OAAA4C,IAAA,GACK5C,GAAI,IACPiL,QAAS,WAAF,OAXM0J,EAWc3U,EAAKwT,YAVtCO,EAAkBY,GADA,IAACA,SAmBjBT,EAHGK,EAGMK,IAAQC,aAAaJ,EAAgB3I,YAAa2I,GAFlDG,IAAQE,UAAUL,MAI5B,CAACV,IAEG,MAGTH,EAAgBvH,UAAY,CAC1BwH,OAAQvH,IAAUC,OAClBwH,kBAAmBzH,IAAUE,KAC7ByH,kBAAmB3H,IAAUgH,MAGhBM,QCpEAA,O,oFCFFmB,EAAoC,SAAC7E,EAAMxQ,GACtD,IACMsV,EADe9E,EAAK+E,uBAAuBC,kBACDC,SAASzV,EAAW0V,YAEpE,OADwClF,EAAKmF,4BAA+BnF,EAAKmF,2BAA6BL,I,qBCHhH,IAAIM,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEzBlB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,4xBAA6xB,M,qBCLtzB,IAAIkQ,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEzBlB,EAAOiB,QAAU,EAAQ,GAAR,EAA+D,IAKlFR,KAAK,CAACT,EAAOrQ,EAAI,0/rBAAmnsB,M,qBCL5osB,IAAIkQ,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAqE,IAKxFR,KAAK,CAACT,EAAOrQ,EAAI,4zFAA6zF,KAGt1FsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,s1GAAu1G,KAGh3GsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,gmJAAimJ,KAG1nJsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEzBlB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,4qDAA6qD,M,qBCLtsD,IAAIkQ,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,+sLAAgtL,KAGzuLsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAqE,IAKxFR,KAAK,CAACT,EAAOrQ,EAAI,ojFAAqjF,KAG9kFsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,6iDAA8iD,KAGvkDsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,qBCVvB,IAAIrB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,0+FAA2+F,KAGpgGsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,6SCTvB,IAAA/R,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,EAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,EAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,EAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,EAAAH,EAAA,cAAAgB,GAAAb,EAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,EAAAa,EAAAtB,EAAA,qBAAAS,EAAAH,GAAAG,EAAAH,EAAAN,EAAA,aAAAS,EAAAH,EAAAR,GAAA,0BAAAW,EAAAH,EAAA,sDAAAqB,EAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,EAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,EAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,EAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,EAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAoCe0R,IAjCe,SAAHjN,GAAyC,IAAnCkN,EAAYlN,EAAZkN,aAAcC,EAAcnN,EAAdmN,eACvCC,EAAyBxM,aAAY,SAACC,GAAK,OAAKC,IAAUuM,0BAA0BxM,MAEpFV,EAAQ,eANhB9E,EAMgBiS,GANhBjS,EAMgB6B,IAAAE,GAAG,SAAAiC,EAAOpE,GAAC,IAAAsS,EAAAC,EAAAC,EAAA,OAAAvQ,IAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OACO,KAAxBkS,EAAOtS,EAAE+J,OAAO0I,MAAM,IAClB,CAAFlO,EAAAnE,EAAA,QACe,GAAjBmS,EAAaD,GACbH,EAAwB,CAAF5N,EAAAnE,EAAA,eAAAmE,EAAAnE,EAAA,EACN+R,EAAuBG,GAAK,OAAxCE,EAAGjO,EAAAnD,EACTmR,EAAa,CACXC,MACAE,KAAMJ,EAAKI,KACXtW,KAAMkW,EAAKlW,KACXuW,KAAML,EAAKK,MACX,OAEJT,EAAeD,EAAc,CAACM,IAAa,cAAAhO,EAAAlD,EAAA,MAAA+C,MAnBjD,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,EAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,EAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,QAqBG,gBAfaiO,GAAA,OAAAP,EAAA3N,MAAA,KAAA5G,YAAA,GAiBd,OACEpD,IAAAiJ,cAAA,SACEkP,GAAG,0BACHF,KAAK,OACLlM,MAAO,CAAEqM,QAAS,QAClB5N,SAAUA,EACVmB,QAAS,SAACrG,GACRA,EAAE+J,OAAOrO,MAAQ,Q,+uFCpBzB,IAAMiT,EAAmB,SAACC,EAAQC,EAAM3H,GAAW,MAAM,CACvD2H,OACAC,MAAO,UAAF3S,OAAYyS,EAAO/C,eACxBzE,MAAO,UAAFjL,OAAYyS,EAAO/C,eACxB+C,SACA1H,gBAGW6L,EAAuB,CAClCpE,EAAiB,OAAQ,GAAI,iBAC7BA,EAAiB,SAAU,GAAI,oBAG3BlH,EAAY,CAChBuL,WAAYtL,IAAUE,KACtBqL,aAAcvL,IAAUE,KACxBsL,WAAYxL,IAAUgH,KACtByE,YAAazL,IAAUgH,KACvBO,OAAQvH,IAAUC,QAGpB,SAASyL,KAET,SAASC,EAAUrL,GACjB,IAAAsL,EAOItL,EANFgL,kBAAU,IAAAM,EAAGF,EAAIE,EAAAC,EAMfvL,EALFiL,oBAAY,IAAAM,EAAGH,EAAIG,EACnBL,EAIElL,EAJFkL,WACAC,EAGEnL,EAHFmL,YACA5N,EAEEyC,EAFFzC,QACA0J,EACEjH,EADFiH,OAGIuE,EAAiB7N,aAAY,SAACC,GAAK,IAAA6N,EAAA,OAAqC,QAArCA,EAAK5N,IAAU6N,gBAAgB9N,UAAM,IAAA6N,OAAA,EAAhCA,EAAkCD,kBAC1E/D,EAAiB,GAAHtT,OAAM4J,IAAa4N,kBAAiB,KAAAxX,OAAI8S,GACrDhP,EAAqBuF,EAAhBC,cAAgB,GAApB,GAUR,IAAKyN,IAAeC,EAClB,OAAO,KAGT,IAAMS,EAAuBlG,IAAW,sCAClCmG,EAAenG,IAAW,uCAAwC,CAAE,gBAAiBnI,EAAS,aAAciO,IAClH,OACE9Y,IAAAiJ,cAAA,OAAKI,UAAW8P,GACdnZ,IAAAiJ,cAACmQ,IAAmB,CAClB5M,YAAW,aAAA/K,OAAe8S,GAC1BlL,UAAW6P,EACXzM,IAAI,kBACJC,MAAOnH,EAAE,oCACT8T,cAAetE,EACfuE,UAAU,IAEZtZ,IAAAiJ,cAACsQ,EAAe,CACdxE,eAAgBA,EAChByE,YA1Bc,SAACC,GACD,SAAdA,EACFnB,IACuB,WAAdmB,GACTlB,KAuBEC,WAAYA,EACZC,YAAaA,KAOrB,IAAMc,EAAkB,SAAHlP,GAKf,IAJJ0K,EAAc1K,EAAd0K,eACAyE,EAAWnP,EAAXmP,YACAhB,EAAUnO,EAAVmO,WACAC,EAAWpO,EAAXoO,YAEM7D,EAAWC,cACXI,EAAgBhK,aAAY,SAACC,GAAK,OAAKC,IAAU+J,UAAUhK,EAAO6J,MACjExP,EAAqBuF,EAAhBC,cAAgB,GAApB,GA8BR,OA5BAqD,2BAAgB,WACd,IAAIgH,EAAQiD,EACPG,EAEOC,IACVrD,EAAQA,EAAMsE,QAAO,SAAChZ,GAAI,MAAqB,WAAhBA,EAAKwT,WAFpCkB,EAAQA,EAAMsE,QAAO,SAAChZ,GAAI,MAAqB,SAAhBA,EAAKwT,UAKtC,IAAMyF,EAAkB,CACtBnN,YAAauI,EACb1L,UAAW,kBACX+L,MAAOA,EAAMnT,KAAI,SAACvB,GAChB,OAAA4C,IAAA,GACK5C,GAAI,IACP0T,MAAO7O,EAAE7E,EAAK0T,OACd1H,MAAOnH,EAAE7E,EAAKgM,OACdf,QAAS,WAAF,OAAQ6N,EAAY9Y,EAAKwT,eAQpCU,EAHGK,EAGMK,IAAQC,aAAaoE,EAAgBnN,YAAamN,GAFlDrE,IAAQE,UAAUmE,MAI5B,CAACnB,EAAYC,IAET,MAGTc,EAAgBxM,UAAY,CAC1BgI,eAAgB/H,IAAUC,OAC1BuM,YAAaxM,IAAUE,KACvBsL,WAAYxL,IAAUgH,KACtByE,YAAazL,IAAUgH,MAGzB2E,EAAU5L,UAAYA,EAEP4L,Q,qkDC3EAiB,ICxDAA,EDIf,SAA4BtM,GAC1B,IACEuM,EAGA/O,EAFEG,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAU2O,2BAA2B5O,OACrC,GAHuB,GAIjB9K,EAAwCkN,EAAxClN,WAAY2Z,EAA4BzM,EAA5ByM,aAAcC,EAAc1M,EAAd0M,UAE0CC,EAAAnP,EAA1C9K,IAAMgS,SAASpB,IAAKsJ,UAAU9Z,IAAY,GAArE8Z,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACsEG,EAAAtP,EAAlD9K,IAAMgS,SAASpB,IAAKyJ,kBAAkBja,IAAY,GAA7Fia,EAAiBD,EAAA,GAAEE,EAAoBF,EAAA,GAE9Cpa,IAAMiT,WAAU,WACd,SAASsH,IACPJ,EAAavJ,IAAKsJ,UAAU9Z,EAAYyZ,IACxCS,EAAqB1J,IAAKyJ,kBAAkBja,EAAYyZ,IAK1D,OAFAU,IACA3J,IAAKrM,iBAAiB,6BAA8BgW,OAA8BpZ,EAAW0Y,GACtF,kBAAMjJ,IAAK4J,oBAAoB,6BAA8BD,EAA8BV,MACjG,CAACzZ,EAAYyZ,IAEhB,IAiBMY,EAAY,CAChBnC,WAlBiBtY,IAAM0a,aAAY,WAChBta,aAAsBmC,OAAOC,KAAKkO,YAAYiK,oBAC/C/J,IAAKgK,qBAAqBf,GAAyBgB,2BACnEjK,IAAKgK,qBAAqBf,GAAyBiB,QAAQ,0BAA2B1a,GAEtF2Z,GAAa,EAAMC,KAEpB,CAAC5Z,EAAY2Z,EAAcC,IAY5BzB,aAVmBvY,IAAM0a,aAAY,WACrC9J,IAAKmK,kBAAkB,CAAC3a,GAAUqB,OAAAuZ,EAAK5a,EAAW6a,4BAAuB9Z,EAAW0Y,KACnF,CAACzZ,IASFoY,WAPiB6B,EAQjB5B,YAPkByB,KAAc9Z,WAAY8a,UAQ5C3G,OAPcnU,EAAcA,EAAW+a,GAAK,IAU9C,OACEnb,IAAAiJ,cAAC0P,EAASyC,EAAA,GAAK9N,EAAWmN,K,0gCE/C9B,IAAM1N,EAAY,CAChB3M,WAAY4M,IAAUqO,OAAOlO,WAC7BsH,kBAAmBzH,IAAUE,MAG/B,SAASoO,EAAUhO,GACjB,IACElN,EAEEkN,EAFFlN,WAAUoU,EAERlH,EADFmH,yBAAiB,IAAAD,EAAG,aAASA,EAGxBjP,EAAqBuF,EAAhBC,cAAgB,GAApB,GAEFwQ,EAAkBnb,EAAWob,YAC7BrH,EAAO,0BAAH1S,OAAiD,KAApB8Z,EAAyB,OAASA,EAAgBpK,eACnFgH,EAAK/X,EAAW+a,GAEtB,OACEnb,IAAAiJ,cAAAjJ,IAAAsQ,SAAA,KACEtQ,IAAAiJ,cAACmQ,IAAmB,CAClB5M,YAAW,aAAA/K,OAAe0W,GAC1BzL,MAAOnH,EAAE,4BACTkH,IAAK0H,EACLkF,cAAa,GAAA5X,OAAK4J,IAAa2J,kBAAiB,KAAAvT,OAAI0W,KAEtDnY,IAAAiJ,cAACqL,IAAe,CACdC,OAAQ4D,EACR1D,kBAAmBA,KAM3B6G,EAAUvO,UAAYA,EAEPuO,Q,4OChCf,IAAMvO,GAAY,CAChB3M,WAAY4M,IAAUqO,QAGxB,SAASI,GAAmBnO,GAC1B,IAAMuM,EAA0B5O,aAAY,SAACC,GAAK,OAAKC,IAAU2O,2BAA2B5O,MACtFwQ,EAAsBzQ,aAAY,SAACC,GAAK,OAAKC,IAAUC,kBAAkBF,EAAO,gBAE9E9K,EAAekN,EAAflN,WAEFqU,EAAoBkH,YAAgBjB,uBAAY,SAAmCkB,GACvF,IAAMnL,EAAkBF,YAAsBnQ,EAAYwb,EAAU/B,GACpEzZ,EAAWyb,SAASpL,GACpB,IAAMqL,EAAoBlL,IAAKgK,qBAAqBf,GACpDiC,EAAkBC,cAActL,GAChCqL,EAAkBhB,QAAQ,WAAY,CAACrK,EAAiBrQ,EAAY0b,EAAkBE,kBAAkB5b,OACvG,CAACA,EAAYyZ,KAEhB,OAAS6B,GACP1b,IAAAiJ,cAAA,WACEjJ,IAAAiJ,cAACqS,EAASF,GAAA,CAAC3G,kBAAmBA,GAAuBnH,KAK3DmO,GAAmB1O,UAAYA,GAChB0O,IClCAA,GDkCAA,G,uhCE9Bf,IAAM1O,GAAY,CAChBwK,aAAcvK,IAAUC,OACxBd,UAAWa,IAAUC,OACrBgP,mBAAoBjP,IAAUqO,OAC9Ba,gBAAiBlP,IAAUqO,OAC3Bc,qBAAsBnP,IAAUqO,QAG5Be,GAA+B,SAAH/R,GAA+F,IAAzFkN,EAAYlN,EAAZkN,aAAcpL,EAAS9B,EAAT8B,UAAW8P,EAAkB5R,EAAlB4R,mBAAoBC,EAAe7R,EAAf6R,gBAAiBC,EAAoB9R,EAApB8R,qBAC5F5W,EAAMwF,cAANxF,EAC2DwM,EAAAjH,GAAfkH,oBAAS,GAAM,GAA5DqK,EAAkBtK,EAAA,GAAEuK,EAAqBvK,EAAA,GACeI,EAAArH,GAAfkH,oBAAS,GAAM,GAAxDuK,EAAgBpK,EAAA,GAAEqK,EAAmBrK,EAAA,GAC6BG,EAAAxH,GAAfkH,oBAAS,GAAM,GAAlEyK,EAAqBnK,EAAA,GAAEoK,EAAwBpK,EAAA,GAQtD,OANAW,qBAAU,WAAM,IAAA0J,EAAAC,EAAAC,EACdP,GAAsD,QAAhCK,EAAAV,EAAmB1E,UAAa,IAAAoF,OAAA,EAAhCA,EAAkC/a,QAAS,GACjE4a,GAAiD,QAA7BI,EAAAV,EAAgB3E,UAAa,IAAAqF,OAAA,EAA7BA,EAA+Bhb,QAAS,GAC5D8a,GAA2D,QAAlCG,EAAAV,EAAqB5E,UAAa,IAAAsF,OAAA,EAAlCA,EAAoCjb,QAAS,KACrE,CAACqa,EAAoBC,EAAiBC,IAGtCE,GAAsBE,GAAoBE,EACzCzc,IAAAiJ,cAAA,OAAK6T,eAAa,4BAChB9c,IAAAiJ,cAAC8T,KAAO,CAAC/N,QAASzJ,EAAE,4BAClBvF,IAAAiJ,cAAA,WACEjJ,IAAAiJ,cAAC+T,KAAI,CAAC3T,UAAU,YAAY4T,MAAO,wBAAyB9Q,UAAWA,OAI7E,MAINiQ,GAA6BrP,UAAYA,GAE1BqP,UClCTrP,GAAY,CAChBwK,aAAcvK,IAAUC,OACxBd,UAAWa,IAAUC,QAGjBiQ,GAAwC,SAAH7S,GAAoC,IAA9BkN,EAAYlN,EAAZkN,aAAcpL,EAAS9B,EAAT8B,UACvDgR,EAAalS,aAAY,SAACC,GAAK,OAAKC,IAAUC,kBAAkBF,EAAO,+BAC7EkS,EAAsEpd,IAAMgO,WAAWjO,KAA/Ekc,EAAkBmB,EAAlBnB,mBAAoBC,EAAekB,EAAflB,gBAAiBC,EAAoBiB,EAApBjB,qBAE7C,OAAIgB,EACK,KAGPnd,IAAAiJ,cAACmT,GAA4B,CAC3B7E,aAAcA,EACdpL,UAAWA,EACX8P,mBAAoBA,EACpBC,gBAAiBA,EACjBC,qBAAsBA,KAI5Be,GAAsCnQ,UAAYA,GAEnCmQ,IC7BAA,GD6BAA,G,omCEPf,IAAMnQ,GAAY,CAChBoH,KAAMnH,IAAUC,OAChBoQ,UAAWrQ,IAAUC,OACrB3L,MAAO0L,IAAUC,OACjBqQ,UAAWtQ,IAAUC,OACrB7M,WAAY4M,IAAUqO,OACtBkC,SAAUvQ,IAAUC,OACpBuQ,eAAgBxQ,IAAUC,OAC1BwQ,WAAYzQ,IAAUgH,KACtB+F,aAAc/M,IAAUE,KACxBwQ,yBAA0B1Q,IAAUgH,KACpC2J,SAAU3Q,IAAUgH,KACpB4J,iBAAkB5Q,IAAUE,KAC5BwO,oBAAqB1O,IAAUgH,KAC/B6J,UAAW7Q,IAAUgH,KACrBgG,UAAWhN,IAAU8G,OACrBgK,aAAc9Q,IAAUC,OACxB8Q,YAAa/Q,IAAUC,OACvB+Q,gBAAiBhR,IAAUgH,KAC3BW,kBAAmB3H,IAAUgH,KAC7BiK,kBAAmBjR,IAAUE,KAC7BgR,cAAelR,IAAUgH,KACzBmK,wBAAyBnR,IAAUgH,KACnCoK,gBAAiBpR,IAAUgH,MAG7B,SAASqK,GAAW/Q,GAAO,IAAAgR,EAAAC,EA6BrBC,EA3BFrK,EAuBE7G,EAvBF6G,KACAkJ,EAsBE/P,EAtBF+P,UACAjd,EAqBEkN,EArBFlN,WACAmd,EAoBEjQ,EApBFiQ,SACAC,EAmBElQ,EAnBFkQ,eACAC,EAkBEnQ,EAlBFmQ,WACA1D,EAiBEzM,EAjBFyM,aACA2D,EAgBEpQ,EAhBFoQ,yBACA7S,EAeEyC,EAfFzC,QACA8S,EAcErQ,EAdFqQ,SACAC,EAaEtQ,EAbFsQ,iBACAlC,EAYEpO,EAZFoO,oBACAmC,EAWEvQ,EAXFuQ,UACA7D,EAUE1M,EAVF0M,UACA8D,EASExQ,EATFwQ,aACAC,EAQEzQ,EARFyQ,YACAC,EAOE1Q,EAPF0Q,gBACArJ,EAMErH,EANFqH,kBACAsJ,EAKE3Q,EALF2Q,kBACAC,EAIE5Q,EAJF4Q,cACAC,EAGE7Q,EAHF6Q,wBACAM,EAEEnR,EAFFmR,SACAL,EACE9Q,EADF8Q,gBAGK7Y,EAAqBuF,GAAhBC,cAAgB,GAApB,GAGF2T,EAAeZ,IAAiBa,KAAuBC,eAAkBlB,GAA4BI,IAAiBa,KAAuBE,aAAiBC,aAAsB1e,GAAcA,EAAW2e,YACnN,GAAIN,GAAYC,EAAa,CAC3B,IAAMM,EAAcN,EAAYO,eAAe,QAAS,CAAEC,SAAUT,IACpED,EAAO,IAAIW,KAAKH,QAEhBR,EAAOE,EAGT,IAAMU,EAAkBZ,EAAOa,IAAMb,GAAMc,OAAO/B,GAAUgC,OAAO/B,GAAkBjY,EAAE,wCAEjFia,EAAkBpf,EAAWqf,aAAa7d,OAC5CN,EAA6B,QAAxBgd,EAAGle,EAAWid,UAAU,IAAAiB,GAAa,QAAbC,EAArBD,EAAuBoB,mBAAW,IAAAnB,OAAb,EAArBA,EAAAxX,KAAAuX,GAERP,IAAgB4B,KAAMC,MAAQte,GAASue,aAAeve,GACxDA,EAAQwe,KAAqB,MACpB/B,IAAgB4B,KAAMI,OAASze,GAAS0e,aAAgB1e,KACjEA,EAAQwe,KAAqB,OAG/B,IAAMxC,EAAY2C,aAAS7f,EAAW8f,WAChCC,EAA6B/f,EAAWggB,sBACxCC,EAAsC,IAAH5e,OAAO0e,EAA0B,OAEpEG,EAAqBtN,IAAW,kBAAmB,CAAEnI,YACrD0V,EAAkBvN,IAAW,aAAc,CAAEwN,QAAS3V,IAAYqT,IAWxE,OACEle,IAAAiJ,cAAA,OAAKI,UAAWkX,IACZ1V,GACA7K,IAAAiJ,cAAA,OAAKI,UAAU,uBACZsU,GACC3d,IAAAiJ,cAAA,OAAKI,UAAU,wBAEjBrJ,IAAAiJ,cAAC+T,KAAI,CAAC3T,UAAU,YAAY4T,MAAO9I,EAAM7S,MAAOA,EAAOgc,UAAWA,KAGtEtd,IAAAiJ,cAAA,OAAKI,UAAWiX,GACdtgB,IAAAiJ,cAAA,OAAKI,UAAU,uBACbrJ,IAAAiJ,cAAA,OAAKI,UAAU,mBACbrJ,IAAAiJ,cAAA,OAAKI,UAAU,UACZ8U,QAA0Dhd,IAA/Bgf,GAC1BngB,IAAAiJ,cAAA,QAAMI,UAAU,qBAAqBgX,GAEtCzC,EAAiBxd,IAEpBJ,IAAAiJ,cAAA,OAAKI,UAAU,wBACbrJ,IAAAiJ,cAAA,OAAKI,UAAU,iBACZ+V,EACAlB,GAAiB,UAAJzc,OAAcrB,EAAW0V,WAAU,MAElD0J,EAAkB,IAAM/B,GACvBzd,IAAAiJ,cAAA,OAAKI,UAAU,yBACbrJ,IAAAiJ,cAAC+T,KAAI,CAAC3T,UAAU,iBAAiB4T,MAAM,qBACvCjd,IAAAiJ,cAAA,OAAKI,UAAU,eAAemW,MAItCxf,IAAAiJ,cAAA,OAAKI,UAAU,sBACZsL,IAAsBuJ,IAAkBrT,GACvC7K,IAAAiJ,cAACwX,KAAM,CACLtI,GAAE,4BAAA1W,OAA8BrB,EAAW+a,IAC3CuF,aAAA,GAAAjf,OAAemc,EAAiBxd,GAAW,KAAAqB,OAAI8D,EAAE,wCACjDob,QAAS3C,EACTrS,QAAS,SAACrG,GACRA,EAAEtB,iBACFsB,EAAEsG,kBACFqS,GAAmBD,MAIzBhe,IAAAiJ,cAACmT,GAA4B,CAC3B7E,aAAcnX,EAAW+a,GACzBhP,UAAS,qBAAA1K,OAAuBmc,EAAiBxd,GAAW,MAAAqB,OAAK2d,MAEjE1D,IAAwB7Q,IAAY8J,IAAsBuJ,IAAkBE,GAC5Epe,IAAAiJ,cAACqS,GAAS,CACRlb,WAAYA,EACZqd,WAAYA,KAGdI,GAAaJ,IAAe9I,IAAsBuJ,IAAkBE,GACpEpe,IAAAiJ,cAAC0P,EAAS,CACRqB,UAAWA,EACX5Z,WAAYA,EACZ2Z,aAAcA,EACdlP,QAASA,IAGZ4S,GAAcW,IAAoBzJ,GACjC3U,IAAAiJ,cAAAjJ,IAAAsQ,SAAA,KACEtQ,IAAAiJ,cAACsD,KAAM,CACLG,MAAOnH,EAAE,uBACTkH,IAAK,sBACLpD,UAAU,qCACVsC,QAAS,WAAF,OA5EfiV,EA4E2CxgB,EA5ENygB,cAAcC,WACzDlQ,IAAKmQ,kBAAkBC,oBAAoBJ,GAFjB,IACpBA,GA6EQK,cAAc,wBAEhBjhB,IAAAiJ,cAACsD,KAAM,CACLG,MAAOnH,EAAE,uBACTkH,IAAK,aACLpD,UAAU,qCACVsC,QAAS,WAAF,OA/EfiV,EA+E2CxgB,EA/ENygB,cAAcC,WACzDlQ,IAAKmQ,kBAAkBG,oBAAoBN,GAFjB,IACpBA,GAgFQK,cAAc,6BAWhC5C,GAAWtR,UAAYA,GAERsR,IC1MAA,GD0MAA,G,wuCE1LA8C,IChBAA,GDGf,SAAkC7T,GAChC,IAAO8T,EAKNtW,GALwBG,aACvB,SAACC,GAAK,MAAK,CACTC,IAAUkW,mBAAmBnW,MAE/B2C,KACD,GALoB,GAOrB,OACE7N,IAAAiJ,cAACqI,KAAe8J,GAAA,GAAK9N,EAAK,CAAEkE,WAAY4P,M,wNEb5C,IAAA9b,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAAA,SAAA0b,GAAA5b,GAAA,sBAAAH,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,OADA,IAAMsX,GACC,cADDA,GAEG,cAFHA,GAGC,cAHDA,GAIC,cAJDA,GAKC,cALDA,GAMC,cANDA,GAOK,cAGLC,GAAsBjf,OAAOC,KAAKkO,YAAY8Q,oBAE7C,SAAeC,GAAqBvJ,GAAA,OAAAwJ,GAAA1X,MAAC,KAAD5G,WAE1C,SAAAse,KAAA,OAAAA,GAAAJ,GAAA/Z,KAAAE,GAFM,SAAAiC,EAAqCkO,GAAI,OAAArQ,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,cAAAmE,EAAAlD,EAAA,EACvC6a,GAAoBG,0BAA0B/J,EAAK5I,QAAS4I,EAAKK,UAAKvO,QAC9EM,MAAA,KAAA5G,WAEM,SAAewe,GAAwBC,GAAA,OAAAC,GAAA9X,MAAC,KAAD5G,WAE7C,SAAA0e,KAAA,OAAAA,GAAAR,GAAA/Z,KAAAE,GAFM,SAAAsa,EAAwC3hB,GAAU,IAAA2X,EAAAiK,EAAA5e,UAAA,OAAAmE,KAAAC,GAAA,SAAAya,GAAA,cAAAA,EAAAvc,GAAA,OAAY,OAAVqS,EAAKiK,EAAApgB,OAAA,QAAAT,IAAA6gB,EAAA,GAAAA,EAAA,GAAG,GAAEC,EAAAvc,EAAA,EAC7DtF,EAAW8hB,eAAenK,GAAM,cAAAkK,EAAAtb,EAAA,MAAAob,QACvC/X,MAAA,KAAA5G,WAEM,SAAS+e,GAAQvK,GACtB,SAAIA,EAAKK,OAAQL,EAAKK,KAAKmK,WAAW,WAMjC,SAASC,GAAkBzK,GAAM,IAAA0K,EACtC,GAAIH,GAAQvK,GACV,OAAO2J,GAGT,OAD2B,QAAZe,EAAG1K,EAAKI,YAAI,IAAAsK,OAAA,EAATA,EAAWtgB,MAAM,KAAKugB,MAAMpR,eAE5C,IAAK,MACH,OAAOoQ,GACT,IAAK,MACH,OAAOA,GACT,IAAK,MACL,IAAK,OACH,OAAOA,GACT,IAAK,MACL,IAAK,OACH,OAAOA,GACT,IAAK,MACL,IAAK,OACH,OAAOA,GACT,QACE,OAAOA,I,0MC9Cb,IAAAjc,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GACA,IAOM4c,GAAa,SAACC,GAClB,OAAO,IAAIza,SAAQ,SAACC,GAClB,QANmB9G,IAMFshB,EANP/gB,KAORuG,EAAQwa,EAAIC,SAAS,cAChB,CACL,IAAMC,EAAa,IAAIC,WACvBD,EAAW3L,OAAS,kBAAM/O,EAAQ0a,EAAWE,SAC7CF,EAAWH,WAAWC,QAKfK,GAAQ,SAAClL,GACpB,MApBoB,kBAoBbA,EAAKK,MAGD8K,GAAW,eAxBxBrd,EAwBwB2E,GAxBxB3E,EAwBwB6B,KAAAE,GAAG,SAAAiC,EAAOkO,GAAI,IAAAoL,EAAAC,EAAAC,EAAAT,EAAA,OAAAlb,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,cAAAmE,EAAAnE,EAAA,EACd8c,GAAW5K,GAAK,OAAzB,GAAPoL,EAAOnZ,EAAAnD,EACC,CAAFmD,EAAAnE,EAAA,eAAAmE,EAAAlD,EAAA,EACH,CAAE8b,IAAK7K,IAAM,OAYgC,OAThDqL,EAAgB,GACtBE,KAAUC,QAAQ,uBAAuB,SAACC,EAAGC,GAC3C,IAAQ5M,EAAyB4M,EAAzB5M,QAAyB4M,EAAhBC,YACA7M,IACfuM,EAAcrM,KAAKF,MAIjBwM,EAAQC,KAAUK,SAASR,GAC3BP,EAAM,IAAIgB,KAAK,CAACP,GAAQ,CAAEjL,KAtCZ,kBAsCkCpO,EAAAlD,EAAA,EAC/C,CAAE8b,MAAKiB,QAAST,EAAcrhB,OAAS,OAAG8H,MAxCnD,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,QAyCC,gBAjBuBiO,GAAA,OAAA7N,EAAAL,MAAA,KAAA5G,YAAA,G,wLCxBxB,IAAAkC,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAAA,SAAA0b,GAAA5b,GAAA,sBAAAH,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,gBAAAa,GAAAtF,EAAAF,GAAA,gBAAAE,GAAA,GAAAP,MAAA0e,QAAAne,GAAA,OAAAA,EAAAoe,CAAApe,IAAA,SAAAA,EAAAqB,GAAA,IAAAtB,EAAA,MAAAC,EAAA,yBAAAC,QAAAD,EAAAC,OAAAE,WAAAH,EAAA,uBAAAD,EAAA,KAAAD,EAAAI,EAAAI,EAAAI,EAAAS,EAAA,GAAAL,GAAA,EAAAV,GAAA,SAAAE,GAAAP,IAAAwB,KAAAvB,IAAAqe,KAAA,IAAAhd,EAAA,IAAAV,OAAAZ,OAAA,OAAAe,GAAA,cAAAA,GAAAhB,EAAAQ,EAAAiB,KAAAxB,IAAAyB,QAAAL,EAAAiQ,KAAAtR,EAAAtE,OAAA2F,EAAA/E,SAAAiF,GAAAP,GAAA,UAAAd,GAAAI,GAAA,EAAAF,EAAAF,EAAA,gBAAAc,GAAA,MAAAf,EAAA,SAAAW,EAAAX,EAAA,SAAAY,OAAAD,QAAA,kBAAAN,EAAA,MAAAF,GAAA,OAAAiB,GAAAmd,CAAAte,EAAAF,IAAA,SAAAE,EAAAmB,GAAA,GAAAnB,EAAA,qBAAAA,EAAA,OAAAue,GAAAve,EAAAmB,GAAA,IAAApB,EAAA,GAAAmd,SAAA3b,KAAAvB,GAAAwe,MAAA,uBAAAze,GAAAC,EAAAye,cAAA1e,EAAAC,EAAAye,YAAAjM,MAAA,QAAAzS,GAAA,QAAAA,EAAAN,MAAAC,KAAAM,GAAA,cAAAD,GAAA,2CAAA2e,KAAA3e,GAAAwe,GAAAve,EAAAmB,QAAA,GAAAwd,CAAA3e,EAAAF,IAAA,qBAAAwB,UAAA,6IAAAsd,GAAA,SAAAL,GAAAve,EAAAmB,IAAA,MAAAA,KAAAnB,EAAA5D,UAAA+E,EAAAnB,EAAA5D,QAAA,QAAA0D,EAAA,EAAAI,EAAAT,MAAA0B,GAAArB,EAAAqB,EAAArB,IAAAI,EAAAJ,GAAAE,EAAAF,GAAA,OAAAI,EAaA,IAAM2e,GAAe,SAAHha,GAAiB,IAAXuN,EAAIvN,EAAJuN,KACfrS,EAAqBuF,GAAhBC,cAAgB,GAApB,GAEwBgH,EAAAjH,GAAVkH,qBAAU,GAAzBsS,EAAGvS,EAAA,GAAEwS,EAAMxS,EAAA,GACiCI,EAAArH,GAAfkH,oBAAS,GAAM,GAA5CwS,EAAUrS,EAAA,GAAEsS,EAAatS,EAAA,GAyBhC,OAvBAc,qBAAU,YACiB,eAAA0E,EAAA2J,GAAA/Z,KAAAE,GAAG,SAAAiC,IAAA,IAAAgb,EAAAC,EAAAC,EAAAnC,EAAAiB,EAAA,OAAAnc,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OAIiC,GAH3D+e,GAAc,GACVC,EAAiB9M,IAEf+M,IAAmB/M,aAAgBiN,MAAUjN,EAAKE,MACpC,CAAFjO,EAAAnE,EAAA,eAAAmE,EAAAnE,EAAA,EACO+b,GAAsB7J,GAAK,OAAlD8M,EAAc7a,EAAAnD,EAAA,YAGZkR,aAAgBiN,MAAQF,GAAc,CAAA9a,EAAAnE,EAAA,YACpCod,GAAMlL,GAAO,CAAF/N,EAAAnE,EAAA,eAAAmE,EAAAnE,EAAA,EACkBqd,GAAY2B,GAAe,OAAAE,EAAA/a,EAAAnD,EAAlD+b,EAAGmC,EAAHnC,IAAKiB,EAAOkB,EAAPlB,QACba,EAAOO,IAAIC,gBAAgBtC,IAC3BgC,EAAcf,GAAS7Z,EAAAnE,EAAA,eAEvB6e,EAAOO,IAAIC,gBAAgBL,IAAiB,cAAA7a,EAAAlD,EAAA,MAAA+C,OAGjD,kBAlBwB,OAAAiO,EAAA3N,MAAA,KAAA5G,aAAA,EAmBzB4hB,KACC,CAACpN,IAGF5X,IAAAiJ,cAAA,OAAKI,UAAW2J,IAAW,CACzB,4BAA4B,EAC5B,MAASwR,KAETxkB,IAAAiJ,cAAA,OAAKqb,IAAKA,IACTE,GAAcxkB,IAAAiJ,cAAA,QAAMI,UAAU,oCAAoC9D,EAAE,2BC/C5D0f,GDoDa,SAAHC,GAA0C,IAApCnN,EAAKmN,EAALnN,MAAO8F,EAASqH,EAATrH,UAAWsH,EAAWD,EAAXC,YAI7C3X,EAAA1C,GAHmCG,aAAY,SAACC,GAAK,MAAK,CAC1DC,IAAUia,cAAcla,GACxBC,IAAUka,gCAAgCna,OAC1C,GAHKoa,EAAU9X,EAAA,GAAE+X,EAAc/X,EAAA,GAI1BjI,EAAqBuF,GAAhBC,cAAgB,GAApB,GAEFY,EAAO,eAAA6Z,EAAAlE,GAAA/Z,KAAAE,GAAG,SAAAsa,EAAOzc,EAAGsS,GAAI,IAAA6N,EAAA,OAAAle,KAAAC,GAAA,SAAAya,GAAA,cAAAA,EAAAvc,GAAA,OAER,GADpBJ,EAAEtB,iBACFsB,EAAEsG,kBAEG0Z,EAAY,CAAFrD,EAAAvc,EAAA,eAAAuc,EAAAtb,EAAA,EACN+e,QAAQC,KAAK,gDAA+C,YAIjE/N,aAAgBiN,MAAI,CAAA5C,EAAAvc,EAAA,QACtB+f,EAAW7N,EAAKqK,EAAAvc,EAAA,mBACPkS,EAAKE,IAAK,CAAFmK,EAAAvc,EAAA,QACjB+f,EAAW7N,EAAKE,IAAImK,EAAAvc,EAAA,sBAAAuc,EAAAvc,EAAA,EAEH+b,GAAsB7J,GAAK,OAA5C6N,EAAQxD,EAAAvb,EAAA,OAGV+e,GAAYH,EAAWM,OAAOH,EAAU,CACtCI,SAAUjO,EAAKI,KACf8N,WAAW,EACXC,2BAA2B,IAC1B,cAAA9D,EAAAtb,EAAA,MAAAob,OACJ,gBAtBY7J,EAAA2J,GAAA,OAAA2D,EAAAxb,MAAA,KAAA5G,YAAA,GA+BP4iB,EAAU,eAAAC,EAAA3E,GAAA/Z,KAAAE,GAAG,SAAAye,EAAO5gB,EAAGsS,GAAI,IAAA6N,EAAAU,EAAA,OAAA5e,KAAAC,GAAA,SAAA4e,GAAA,cAAAA,EAAA1gB,GAAA,OAEX,GADpBJ,EAAEtB,iBACFsB,EAAEsG,mBAEegM,EAAKE,IAAG,CAAAsO,EAAA1gB,EAAA,QAAAygB,EAAGvO,EAAKE,IAAGsO,EAAA1gB,EAAA,sBAAA0gB,EAAA1gB,EAAA,EAAS+b,GAAsB7J,GAAK,OAAAuO,EAAAC,EAAA1f,EAAA,OAAlE+e,EAAQU,EACdE,kBAAOZ,EAAU7N,EAAKI,MAAM,cAAAoO,EAAAzf,EAAA,MAAAuf,OAC7B,gBANeI,EAAAC,GAAA,OAAAN,EAAAjc,MAAA,KAAA5G,YAAA,GAQhB,OACEpD,IAAAiJ,cAAA,OAAKI,UAAU,yBACZ0O,EAAM9V,KAAI,SAAC2V,EAAM9R,GAAC,OACjB9F,IAAAiJ,cAAA,OACEI,UAAU,mBACVxF,IAAKiC,EACL6F,QAAS,SAACrG,GAAC,OAAKqG,EAAQrG,EAAGsS,KAE1B2N,GAAkBpD,GAAQvK,IACzB5X,IAAAiJ,cAACob,GAAY,CAACzM,KAAMA,IAEtB5X,IAAAiJ,cAAA,OAAKI,UAAU,yBACbrJ,IAAAiJ,cAAC+T,KAAI,CACH3T,UAAU,wBACV4T,MAAOoF,GAAkBzK,KAE3B5X,IAAAiJ,cAAC8T,KAAO,CAAC/N,QAAS4I,EAAKI,MACrBhY,IAAAiJ,cAAA,OAAKI,UAAU,mBAAmBuO,EAAKI,OAExC6F,EACC7d,IAAAiJ,cAACsD,KAAM,CACLlD,UAAU,oBACVqD,MAAK,GAAAjL,OAAK8D,EAAE,iBAAgB,KAAA9D,OAAI8D,EAAE,+BAClCkH,IAAI,aACJd,QAAS,SAACrG,GAAC,OAvCR,SAACA,EAAGsS,GACnBtS,EAAEtB,iBACFsB,EAAEsG,kBAEFuZ,EAAYvN,GAmCgB4O,CAASlhB,EAAGsS,MAG9B5X,IAAAiJ,cAACsD,KAAM,CACLlD,UAAU,oBACVqD,MAAK,GAAAjL,OAAK8D,EAAE,mBAAkB,KAAA9D,OAAI8D,EAAE,+BACpCkH,IAAI,gBACJd,QAAS,SAACrG,GAAC,OAAK0gB,EAAW1gB,EAAGsS,a,+BErGxC6O,GAAiB,SAACC,GACtB,IAAMC,EAAO,GAUb,GATID,EAAQ,gBAA6C,WAA3BA,EAAQ,iBACpCC,EAAW,MAAI,GAEbD,EAAQ,eAA2C,WAA1BA,EAAQ,gBACnCC,EAAa,QAAI,GAEfD,EAAe,QACjBC,EAAY,MAAID,EAAe,OAE7BA,EAAQ,mBAAoB,CAC9B,IAAME,EAAaF,EAAQ,mBAAmB1kB,MAAM,KAEhD4kB,EAAW/Q,SAAS,kBACtB8Q,EAAa,QAAI,GAEfC,EAAW/Q,SAAS,UACtB8Q,EAAgB,WAAI,GAIxB,OAAOA,GAGME,GAlDc,SAACzmB,EAAYD,GAOxC,IANA,IAAME,EAAgBD,EAAW0mB,mBAC3BC,EAAU5gB,OAAO6gB,KAAK3mB,GACtBmP,EAAgB1F,KAAgB2F,2BAA2BtP,EAAOI,eAClE2B,EAAO4H,KAAgB6F,0BAA0BH,GAAeK,eAChEvP,EAAM,GAEHwF,EAAI,EAAGA,EAAIihB,EAAQnlB,OAAQkE,IAAK,CACvC,IAAM4gB,EAAUrmB,EAAc0mB,EAAQjhB,IAChC6gB,EAAOF,GAAeC,GAE5B,IAAIO,MAAMF,EAAQjhB,IAAlB,CAIA,IAAMohB,EAAYD,MAAMF,EAAQjhB,EAAI,IAAM5D,EAAKN,OAASmlB,EAAQjhB,EAAI,GAC9DqhB,EAAYjlB,EAAK8hB,MAAM+C,EAAQjhB,GAAIohB,GAEzC5mB,EAAIsW,KAAK,CAAE9V,OAAQqmB,EAAWvmB,WAAY+lB,KAG5CxmB,EAAOkR,YAAY/Q,GACnBH,EAAO6P,aAAa9N,EAAKN,OAAQ,I,6NC1BnC,IAAA0D,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAAA,SAAAkF,GAAAtF,EAAAF,GAAA,gBAAAE,GAAA,GAAAP,MAAA0e,QAAAne,GAAA,OAAAA,EAAAoe,CAAApe,IAAA,SAAAA,EAAAqB,GAAA,IAAAtB,EAAA,MAAAC,EAAA,yBAAAC,QAAAD,EAAAC,OAAAE,WAAAH,EAAA,uBAAAD,EAAA,KAAAD,EAAAI,EAAAI,EAAAI,EAAAS,EAAA,GAAAL,GAAA,EAAAV,GAAA,SAAAE,GAAAP,IAAAwB,KAAAvB,IAAAqe,KAAA,IAAAhd,EAAA,IAAAV,OAAAZ,OAAA,OAAAe,GAAA,cAAAA,GAAAhB,EAAAQ,EAAAiB,KAAAxB,IAAAyB,QAAAL,EAAAiQ,KAAAtR,EAAAtE,OAAA2F,EAAA/E,SAAAiF,GAAAP,GAAA,UAAAd,GAAAI,GAAA,EAAAF,EAAAF,EAAA,gBAAAc,GAAA,MAAAf,EAAA,SAAAW,EAAAX,EAAA,SAAAY,OAAAD,QAAA,kBAAAN,EAAA,MAAAF,GAAA,OAAAiB,GAAAmd,CAAAte,EAAAF,IAAA,SAAAE,EAAAmB,GAAA,GAAAnB,EAAA,qBAAAA,EAAA,OAAAue,GAAAve,EAAAmB,GAAA,IAAApB,EAAA,GAAAmd,SAAA3b,KAAAvB,GAAAwe,MAAA,uBAAAze,GAAAC,EAAAye,cAAA1e,EAAAC,EAAAye,YAAAjM,MAAA,QAAAzS,GAAA,QAAAA,EAAAN,MAAAC,KAAAM,GAAA,cAAAD,GAAA,2CAAA2e,KAAA3e,GAAAwe,GAAAve,EAAAmB,QAAA,GAAAwd,CAAA3e,EAAAF,IAAA,qBAAAwB,UAAA,6IAAAsd,GAAA,SAAAL,GAAAve,EAAAmB,IAAA,MAAAA,KAAAnB,EAAA5D,UAAA+E,EAAAnB,EAAA5D,QAAA,QAAA0D,EAAA,EAAAI,EAAAT,MAAA0B,GAAArB,EAAAqB,EAAArB,IAAAI,EAAAJ,GAAAE,EAAAF,GAAA,OAAAI,EAoCA2Z,IAAM+H,OAAOC,KAEb,IAAMta,GAAY,CAChB3M,WAAY4M,IAAUqO,OAAOlO,WAC7B0Q,UAAW7Q,IAAUgH,KACrB+F,aAAc/M,IAAUE,KACxB8M,UAAWhN,IAAU8G,OACrB6J,SAAU3Q,IAAUgH,KACpBsT,mBAAoBta,IAAUgH,KAC9BuT,eAAgBva,IAAUE,KAC1B8Q,gBAAiBhR,IAAUgH,KAC3BW,kBAAmB3H,IAAUgH,KAC7BiK,kBAAmBjR,IAAUE,KAC7BgR,cAAelR,IAAUgH,KACzBwT,gBAAiBxa,IAAUE,MAGvBua,GAAc,SAAHpd,GAaX,IAAAqd,EAZJtnB,EAAUiK,EAAVjK,WACAyd,EAASxT,EAATwT,UACA9D,EAAY1P,EAAZ0P,aACAC,EAAS3P,EAAT2P,UACA2D,EAAQtT,EAARsT,SACA2J,EAAkBjd,EAAlBid,mBACAC,EAAcld,EAAdkd,eACAvJ,EAAe3T,EAAf2T,gBACArJ,EAAiBtK,EAAjBsK,kBACAsJ,EAAiB5T,EAAjB4T,kBACAC,EAAa7T,EAAb6T,cAAayJ,EAAAtd,EACbmd,uBAAe,IAAAG,EAAG,aAAQA,EAGpBnK,EAAiBvS,aAAY,SAACC,GAAK,OAAKC,IAAUyc,kBAAkB1c,MACpEmS,EAAYpS,aAAY,SAACC,GAAK,OAAKC,IAAU0c,aAAa3c,EAAO4c,aAAmB1nB,GAAayN,QACjG6N,EAAsBzQ,aAAY,SAACC,GAAK,OAAKC,IAAUC,kBAAkBF,EAAO,sBAChFqS,EAAWtS,aAAY,SAACC,GAAK,OAAKC,IAAU4c,mBAAmB7c,MAC/DwS,EAA2BzS,aAAY,SAACC,GAAK,OAAKC,IAAUuS,yBAAyBxS,MACrF8c,EAAyB/c,aAAY,SAACC,GAAK,OAAKC,IAAU8c,kCAAkC/c,MAC5Fgd,EAA0Bjd,aAAY,SAACC,GAAK,OAAKC,IAAUgd,qCAAqCjd,MAChG6S,EAAc9S,aAAY,SAACC,GAAK,OAAKC,IAAUid,eAAeld,MAC9DuT,EAAWxT,aAAY,SAACC,GAAK,OAAKC,IAAUkd,YAAYnd,MACxD4N,EAAiB7N,aAAY,SAACC,GAAK,IAAA6N,EAAA,OAAqC,QAArCA,EAAK5N,IAAU6N,gBAAgB9N,UAAM,IAAA6N,OAAA,EAAhCA,EAAkCD,kBAEhFwP,EASIta,qBAAWjO,KARb0d,EAAU6K,EAAV7K,WACA8K,EAAWD,EAAXC,YACAxa,EAAMua,EAANva,OACAkO,EAAkBqM,EAAlBrM,mBACAuM,EAAuBF,EAAvBE,wBACA1K,EAAYwK,EAAZxK,aACAK,EAAuBmK,EAAvBnK,wBACAsK,EAAkBH,EAAlBG,mBAGI7T,EAAWC,cACVtP,EAAqBuF,GAAhBC,cAAgB,GAApB,GAEFF,EAAUzK,EAAWyK,UACrBuT,EAAkB0J,aAAmB1nB,KAAgBsoB,KAAkBC,eAE3B5W,EAAAjH,GAAZkH,mBAAS,IAAG,GAA3C4W,EAAW7W,EAAA,GAAEmQ,EAAcnQ,EAAA,GAElCkB,qBAAU,WACRiP,EAAe9hB,EAAWyoB,oBACzB,CAACzoB,IAEJ6S,qBAAU,WACR,IAAM6V,EAA4B,SAACC,EAAaC,GAC/B,WAAXA,GACFD,EAAYtoB,SAAQ,SAACwoB,GACfA,EAAM9N,KAAO/a,EAAW+a,IAC1B+G,EAAe+G,EAAMJ,sBAO7B,OAFAjY,IAAKrM,iBAAiB,oBAAqBukB,GAEpC,WACLlY,IAAK4J,oBAAoB,oBAAqBsO,MAE/C,CAAC1oB,IAEJ8oB,cAAa,WACNrL,GACHjJ,EAASU,IAAQ6T,qBAGnBpb,MACC,CAAC8P,IAEJ,IAuIIuL,EAvIExL,GAAmBlD,uBACvB,SAACta,GACC,IAAM4X,EAAOpH,IAAKI,iBAAiB5Q,EAAmB,QAEtD,OAAO4X,EACLqR,GAAqBrR,EAAMuQ,GAE3BhjB,EAAE,0CAGN,CAACgjB,IAGGe,GAAelpB,EAAWmpB,iBAAmBnpB,EAAWmpB,kBAExDC,GAAiB9O,uBACrB,SAACtJ,EAAU/Q,EAAeopB,EAAWH,GACnC,IAAMI,EAAoB,GAyB1B,GAxBKJ,GACHK,IAAWC,KAAKxY,EAAU,CACxByY,aAAa,EACbC,oBAAoB,EACpBC,UAAS,SAACC,GACR,IAAMC,EAAOD,EAAME,gBACbC,EAAaH,EAAMI,gBACnBC,EAASL,EAAMM,YAErB,OAAQN,EAAMO,WACZ,IAAK,MACL,IAAK,QACL,IAAK,QACHb,EAAkB9S,KAAK,CACrBqT,OACA/nB,KAAMioB,EACNK,MAAOH,EACPI,IAAKJ,EAASL,EAAMU,iBAAiB9oB,cAO5C8nB,EAAkB9nB,OAAQ,CAC7B,IAAM+oB,EAAkBtB,GAAqBjY,EAAUmX,EAAaloB,GAQpE,IAAKkoB,KAPiC1d,GAAWmd,GACrBnd,GAAWqd,GAMoC,CAWzE,OACEloB,IAAAiJ,cAACqI,GAAe,CACdG,aAAc,EACdG,SAAO,EACPF,eAAgBA,GAChBrR,cAAeA,EACf0N,OAAQA,EACRhC,MAAO0d,EACP3X,cAlBkB,WACpB,IAAKsM,EACH,OAAO,KAET,IAAMlc,EAA2C,IAApC9B,EAA8B,kBAAUmF,EAAE,sBAAwBA,EAAE,wBACjF,OACEvF,IAAAiJ,cAAA,QAAM8C,MAAO,CAAEzK,MAAOlB,EAAW8f,UAAUwC,WAAYkI,WAAY,MAAQ1oB,KAc1EkP,GAIP,OAAOuZ,EAET,IAAME,EAAkB,GACpBC,EAAS,EAkDb,OA9CApB,EAAkBjpB,SAAQ,SAACsqB,EAAYC,GACrC,IAAQR,EAAqBO,EAArBP,MAAOC,EAAcM,EAAdN,IAAKR,EAASc,EAATd,KAChBa,EAASN,GACXK,EAAgBjU,KACd5W,IAAAiJ,cAAA,QAAMpF,IAAG,QAAApC,OAAUupB,IAEf3B,GACEjY,EACAmX,EACAloB,EACAyqB,EACAN,KAMVK,EAAgBjU,KACd5W,IAAAiJ,cAAA,KACEghB,KAAMA,EACN5a,OAAO,SACP4b,IAAI,sBACJpnB,IAAG,KAAApC,OAAOupB,IAGR3B,GACEjY,EACAmX,EACAloB,EACAmqB,EACAC,KAKRK,EAASL,KAGPK,EAAS1Z,EAASxP,OAAS,GAC7BipB,EAAgBjU,KAAKyS,GACnBjY,EACAmX,EACAloB,EACAyqB,IAGGD,IAET,CAACtC,IAGGpU,GAAO+W,aAAepD,aAAmB1nB,IAAa+T,KAE5D,IACEiV,EAAa+B,KAAKC,MAAMhrB,EAAWygB,cAAc,gBACjD,MAAOvb,GACP8jB,EAAahpB,EAAWygB,cAAc,eAGxC,IAAIzP,IAAqB,QAAVsW,EAAA0B,SAAU,IAAA1B,OAAA,EAAVA,EAAYtW,WAAYhR,EAAWG,cAClD6Q,GAugBF,SAAyBpC,GACvB,OAAOA,EAAUqc,IAAOrc,GAAWA,EAxgBxBsc,CAAgBla,IAG3B,IAAMma,GAAmBnrB,aAAsBmC,OAAOC,KAAKkO,YAAY8a,KAAOC,aAAmBrrB,GAAcA,EAAWG,cAEpHF,GAAgBD,EAAW0mB,mBAC7B4E,GAAYtrB,EAAsB,UAEtC,GAAI2d,IAAgB4B,KAAMC,KACpB8L,IAAa7L,aAAe6L,GAAUhM,iBACxCgM,GAAY,IAAInpB,OAAOC,KAAKkO,YAAYib,MAAM,IAAK,IAAK,IAAK,IAG3DtrB,IACe8F,OAAO6gB,KAAK3mB,IACpBI,SAAQ,SAACkG,GACZtG,GAAcsG,GAAU,OAAKkZ,aAAexf,GAAcsG,GAAU,SACtEtG,GAAcsG,GAAU,MAAImZ,KAAqB,eAIlD,GAAI/B,IAAgB4B,KAAMI,MAAO,CAKtC,GAJI2L,IAAa1L,aAAgB0L,GAAUhM,iBACzCgM,GAAY,IAAInpB,OAAOC,KAAKkO,YAAYib,MAAM,EAAG,EAAG,EAAG,IAGrDtrB,GACe8F,OAAO6gB,KAAK3mB,IACpBI,SAAQ,SAACkG,GACZtG,GAAcsG,GAAU,OAAKqZ,aAAgB3f,GAAcsG,GAAU,SACvEtG,GAAcsG,GAAU,MAAImZ,KAAqB,UAQzD,IACI8L,GADEC,QAAqE,IAAtC5P,EAAmB7b,EAAW+a,IAGjEyQ,GADExa,IAAYya,GACEza,GAEA6K,EAAmB7b,EAAW+a,IAGhD,IAWM2Q,GAAwB,SAACxmB,GAAM,IAAAymB,EACV,QAAzBA,EAAIxpB,OAAOypB,sBAAc,IAAAD,GAArBA,EAAuBrJ,aACzBpd,WAAGsG,mBAEL4b,EAAgBliB,IAGZ2mB,GAAmBjZ,IAAW,CAClCyU,aAAa,EACb5c,UACAqhB,OAAQvO,EACRwO,QAAS7E,EACT,aAAcxO,IAGV9J,GAAUod,mBACd,WACE,IAAMC,EAAe,GAKrB,OAJIX,KACFW,EAAa/qB,MAAQoqB,GAAUhM,eAI/B1f,IAAAiJ,cAAAjJ,IAAAsQ,SAAA,KACIuN,GAAaJ,EACbzd,IAAAiJ,cAACqjB,GAAW,CACVlsB,WAAYA,EACZ4Z,UAAWA,EACXD,aAAcA,EACd6R,cAAeA,GACfW,sBAAuB9D,EACvB+D,YAAavQ,EAAmB7b,EAAW+a,MAG7CoQ,IACEvrB,IAAAiJ,cAAA,OAAKI,UAAW2J,IAAW,YAAa,CAAE,gBAAiBnI,IAAYc,QAASmgB,IAC7EjhB,GAAY+d,EAAYhnB,OAAS,GAChC5B,IAAAiJ,cAACgc,GAAmB,CAClBlN,MAAO6Q,EACP/K,WAAW,IAGd2L,GAAe+B,GAAkBlrB,GAAegsB,EAAc/C,QAO3E,CAAClpB,EAAYqd,EAAYI,EAAW9D,EAAc3I,GAAUoY,GAAgBoC,GAAenD,EAAoBG,IAG3G1mB,GAAO9B,EAAWygB,cAAc,qBAChC4L,GAAcL,mBAClB,WACE,GAAa,KAATlqB,GACF,OAAO,KAGT,IAAMwqB,EAAwBrD,GAAqBnnB,GAAMqmB,GACnDoE,GAAgC9hB,GAAWmd,EAGjD,OAAI4E,IAASF,IAA0BC,EAEnC3sB,IAAAiJ,cAAC4jB,KAAkB,CACjBlhB,QAAS6b,EACTne,UAAU,wBACVmD,YAAY,4BACZxM,IAAAiJ,cAACqI,GAAe,CAACG,aAAc,GAAE,IAAAhQ,OAC1BirB,EAAqB,OAMhC1sB,IAAAiJ,cAAA,OAAKI,UAAU,wBAAwB0C,MAAO,CAAE+gB,aAAc,SAC3DJ,KAGJ,CAACxqB,GAAMqmB,IAENwE,GAASX,mBACb,WACE,OACEpsB,IAAAiJ,cAACoV,GAAU,CACTlK,KAAMA,GACNkJ,UAAWA,EACXjd,WAAYA,EACZmd,SAAUA,EACVC,eAAgBA,EAChBC,WAAYA,EACZ1D,aAAcA,EACd2D,yBAA0BA,EAC1B7S,QAASA,EACT8S,SAAUA,EACVC,iBAAkBA,GAClBlC,oBAAqBA,EACrBmC,UAAWA,EACX7D,UAAWA,EACX8D,aAAcA,EACdC,YAAaA,EACbE,kBAAmBA,EACnBD,gBAAiBA,EACjBrJ,kBAAmBA,EACnBuJ,cAAeA,EACfC,wBAAyBA,EACzBM,SAAUA,EACVL,gBAAiBA,MAGpB,CAACjK,GAAMkJ,EAAWjd,EAAYmd,EAAUC,EAAgBC,EAAY1D,EAAc2D,EAA0B7S,EAAS8S,EAAUC,GAAkBhN,IAAKI,iBAAiB5Q,EAAmB,QAAIsb,EAAqBmC,EAAW7D,EAAW8E,aAAsB1e,GAAa0d,EAAcG,EAAmBD,EAAiBrJ,EAAmBuJ,EAAeO,EAAUL,IAG/W,OACEpe,IAAAiJ,cAAA,OAAKI,UAAW4iB,GAAkBtgB,QA9HH,WAC1BuS,IACCrT,EACF0c,EAAennB,GACLyd,GAEV2K,OAyHDuE,GACAN,GACAzd,KAKPyY,GAAY1a,UAAYA,GAET0a,UAGT6E,GAAc,SAAH3U,GAOX,IANJvX,EAAUuX,EAAVvX,WACA4Z,EAASrC,EAATqC,UACAD,EAAYpC,EAAZoC,aACA6R,EAAajU,EAAbiU,cACAW,EAAqB5U,EAArB4U,sBACAC,EAAW7U,EAAX6U,YAkBEhf,EAAA1C,GAREG,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAUwC,sCAAsCzC,GAChDC,IAAU6hB,oBAAoB9hB,GAC9BC,IAAUC,kBAAkBF,EAAOG,IAAa4hB,sBAChD9hB,IAAU+hB,cAAchiB,EAAOG,IAAa4hB,sBAC5C9hB,IAAU+hB,cAAchiB,EAAOG,IAAa8hB,aAC5ChiB,IAAU2O,2BAA2B5O,GACrCC,IAAUiiB,qBAAqBliB,OAC/B,GAfAmiB,EAAkC7f,EAAA,GAClC8f,EAAgB9f,EAAA,GAChB+f,EAAuB/f,EAAA,GACvBggB,EAAmBhgB,EAAA,GACnBigB,EAAgBjgB,EAAA,GAChBqM,EAAuBrM,EAAA,GACvB4f,EAAoB5f,EAAA,GAUfjI,EAAqBuF,GAAhBC,cAAgB,GAApB,GACFkD,EAAcC,mBACdrD,EAAUzK,EAAWyK,UAC3B6iB,EAMI1f,qBAAWjO,KALb4tB,EAAaD,EAAbC,cACAxR,EAAoBuR,EAApBvR,qBACAyR,EAAgBF,EAAhBE,iBACAC,EAAgBH,EAAhBG,iBACArW,EAAckW,EAAdlW,eAGIsW,GAAyBP,GAA2BC,GAAuBO,eAEjF9a,qBAAU,WAER,GAAIma,IAAyBK,GAAoBD,IAAwBvf,EAAYO,QAAS,CAC5F,IAAMrO,EAAS8N,EAAYO,QAAQtC,YACL9L,GAAcA,aAAsBmC,OAAOC,KAAKkO,YAAYiK,oBACjExa,EAAO6tB,QAAQ,IAMpCxB,EACFtsB,aAA2BC,EAAQC,GAC1BD,EAAOI,eAChBwP,YAAW,WAET,GAAIud,EAAkB,CACpB1B,EAAgB9hB,KAAgB2F,2BAA2BtP,EAAOI,eAClE,IAAA0tB,EAAgCnkB,KAAgB6F,0BAA0Bic,GAAlE/b,EAAcoe,EAAdpe,eAAmBoe,EAAHC,IAEhBtsB,QACNzB,EAAO6tB,QAAQne,GAQqB,IAAAxB,EAJpCyf,GAIAT,IACiB,QAAnBhf,EAAAJ,EAAYO,eAAO,IAAAH,GAAnBA,EAAqBxJ,QACMzE,EAAW0mB,oBAEpCD,GAAqBzmB,EAAYD,MAGpC,KAGL,IACMguB,EAAahuB,EAAOiuB,YADS,EAGnC,GAAIN,EACF,OAGF/d,YAAW,WACLoe,GACFhuB,EAAO6P,aAAame,EAAYA,KAEjC,QAEJ,CAACV,EAAkBD,EAAqBM,IAE3C7a,qBAAU,WACR,GAAIpI,GAAyC,IAA9BwjB,EAAmBzsB,OAAc,CAE9C,IAAMgnB,EAAcxoB,EAAWyoB,iBAC/BrR,EAAepX,EAAW+a,GAAIyN,MAE/B,IAEH,IAAMvX,EAAW,eA3iBnB3L,EA2iBmBwf,GA3iBnBxf,EA2iBmB6B,KAAAE,GAAG,SAAAiC,EAAOpE,GAAC,IAAAnF,EAAAmuB,EAAAze,EAAAqe,EAAA3kB,EAAA,OAAAhC,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OAoCzB,OAlCDJ,EAAEtB,iBAEI7D,EAAS8N,EAAYO,QAAQtC,YACnC0f,EAAgB9hB,KAAgB2F,2BAA2BtP,EAAOI,eAClEL,aAA2BC,EAAQC,GAEAwrB,EAAchqB,OAAS,GAAiD,OAA5CgqB,EAAcA,EAAchqB,OAAS,KAElGgqB,EAAgBA,EAAc5H,MAAM,EAAG4H,EAAchqB,OAAS,IAG3CxB,EAAWmpB,iBAAmBnpB,EAAWmpB,mBAE5DnpB,EAAWmuB,sBAGTjB,GAAkBgB,EACYxkB,KAAgB6F,0BAA0Bic,GAAlE/b,EAAcye,EAAdze,eAAgBqe,EAAGI,EAAHJ,IAGCpkB,KAAgB0kB,4BAA4BpuB,GACpDquB,SAAShuB,SAAQ,SAACM,GAC7B8O,EAAegG,SAAS9U,EAAQC,QAClCktB,EAAItX,KAAK7V,EAAQoX,OAIrB/X,EAAWsuB,cAAc,cAAevD,KAAKwD,UAAU,CACrDvd,SAAUwa,EACVsC,SAEF9tB,EAAWiR,YAAYxB,IAEvBzP,EAAWiR,YAAYua,GACxB/hB,EAAAnE,EAAA,EAEKkc,GAAyBxhB,EAAY+b,EAAqB/b,EAAW+a,KAAI,OAEzE5R,EAAUnJ,aAAsBmC,OAAOC,KAAKkO,YAAYiK,mBAC1D,cAAgB,cACpB/J,IAAKgK,qBAAqBf,GAAyBiB,QAAQ,oBAAqB,CAAC,CAAC1a,GAAa,SAAU,CAAE,OAAUmJ,KAEjHnJ,aAAsBmC,OAAOC,KAAKkO,YAAYiK,oBAChD/J,IAAKge,wBAAwB,CAACxuB,IAGhC2Z,GAAa,EAAOC,GAEE,KAAlB4R,GACFW,OAAsBprB,EAAWf,EAAW+a,IAE9C0S,EAAiBztB,EAAW+a,IAAI,cAAAtR,EAAAlD,EAAA,MAAA+C,MAhmBpC,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,QAimBG,gBAtDgBiO,GAAA,OAAAgN,EAAAlb,MAAA,KAAA5G,YAAA,GAoEXyrB,EAAmB7b,IAAW,eAAgB,CAAE,gBAAiBnI,IACjEwjB,EAAqBlS,EAAqB/b,EAAW+a,KAAO,GAElE,OACEnb,IAAAiJ,cAAA,OAAKI,UAAWwlB,GACbhkB,GAAWwjB,EAAmBzsB,OAAS,GACtC5B,IAAAiJ,cAACgc,GAAmB,CAClBlN,MAAOsW,EACPxQ,WAAW,EACXsH,YAAa,SAACvN,GAAI,OAAKgW,EAAiBxtB,EAAW+a,GAAIvD,MAG3D5X,IAAAiJ,cAACoE,IAAY,CACX/C,IAAK,SAACwE,GACJb,EAAYO,QAAUM,GAExB9N,MAAO4qB,EACPphB,SAAU,SAACxJ,GAAK,OAAKurB,EAAsBvrB,EAAOZ,EAAW+a,KAC7D/N,SAAUiE,EACVxG,QAASA,EACTH,OAhCS,SAACpF,GAAM,IAAAwpB,EAAAC,EACD,QAAnBD,EAAIxpB,EAAE0pB,qBAAa,IAAAF,GAA8B,QAA9BC,EAAfD,EAAiBG,aAAa,uBAAe,IAAAF,GAA7CA,EAA+ClZ,SAAS,2BAC1DvQ,EAAE+J,OAAOxK,QAGX8oB,OAAcxsB,IA4BVwJ,QAzBU,WACdgjB,EAAcvtB,EAAW+a,OA0BvBnb,IAAAiJ,cAAA,OAAKI,UAAU,gBACbrJ,IAAAiJ,cAACsD,KAAM,CACLlD,UAAU,gBACV+K,MAAO7O,EAAE,iBACToG,QAAS,SAACrG,GACRA,EAAEsG,kBACFmO,GAAa,EAAOC,GAEpBuS,OAAsBprB,EAAWf,EAAW+a,IAC5C0S,EAAiBztB,EAAW+a,OAGhCnb,IAAAiJ,cAACsD,KAAM,CACLlD,UAAS,cAAA5H,OAAiBmqB,EAA8B,GAAd,aAC1CtS,UAAWsS,EACXxX,MAAO7O,EAAE,eACToG,QAAS,SAACrG,GACRA,EAAEsG,kBACFyF,EAAY/L,SAQxBgnB,GAAYvf,UAAY,CACtBiN,UAAWhN,IAAU8G,OAAO3G,WAC5B/M,WAAY4M,IAAUqO,OAAOlO,WAC7B4M,aAAc/M,IAAUE,KAAKC,WAC7Bye,cAAe5e,IAAUC,OACzBsf,sBAAuBvf,IAAUE,KAAKC,WACtCqf,YAAaxf,IAAUC,QAGzB,IAAMiiB,GAAkB,SAAChtB,EAAM7B,EAAewD,GAC5C,IAAMkI,EAAQ,CACZ6e,WAAYvqB,EAAc,eAC1B8uB,UAAW9uB,EAAc,cACzB+uB,eAAgB/uB,EAAc,mBAC9BiB,MAAOjB,EAAqB,OAK9B,OAHI0L,EAAMqjB,iBACRrjB,EAAMqjB,eAAiBrjB,EAAMqjB,eAAelgB,QAAQ,OAAQ,cAG5DlP,IAAAiJ,cAAA,QAAM8C,MAAOA,EAAOlI,IAAKA,GAAM3B,IAI7BwP,GAAiB,SAACxP,EAAM7B,EAAemqB,GAC3C,IAAKnqB,IAAkB6B,EACrB,OAAOA,EAKT,IAFA,IAAMmtB,EAAS,GACTC,EAAUnpB,OAAO6gB,KAAK3mB,GAAe4B,IAAIstB,QAAQC,MAAK,SAAC7oB,EAAG8oB,GAAC,OAAK9oB,EAAI8oB,KACjE3pB,EAAI,EAAGA,EAAIwpB,EAAQ1tB,OAAQkE,IAAK,CACvC,IAAI4pB,EAAQJ,EAAQxpB,GAAK0kB,EAGzB,GADA6E,EADAK,EAAQ/b,KAAKgc,IAAIhc,KAAKic,IAAIF,EAAO,GAAIxtB,EAAKN,SAC1BvB,EAAcivB,EAAQxpB,IAClC4pB,IAAUxtB,EAAKN,OACjB,MAMJ,IAFA,IAAMipB,EAAkB,GAClBgF,EAAe1pB,OAAO6gB,KAAKqI,GAAQptB,IAAIstB,QAAQC,MAAK,SAAC7oB,EAAG8oB,GAAC,OAAK9oB,EAAI8oB,KAC/D3pB,EAAI,EAAGA,EAAI+pB,EAAajuB,OAAQkE,IACvC+kB,EAAgBjU,KAAKsY,GACnBhtB,EAAK8hB,MAAM6L,EAAa/pB,EAAI,GAAI+pB,EAAa/pB,IAC7CupB,EAAOQ,EAAa/pB,EAAI,IAAG,iBAAArE,OACVqE,KAIrB,OAAO+kB,GAGHxB,GAAuB,SAACyG,EAAUvH,EAAaloB,GAAoD,IAArCmqB,EAAKpnB,UAAAxB,OAAA,QAAAT,IAAAiC,UAAA,GAAAA,UAAA,GAAG,EAAGqnB,EAAGrnB,UAAAxB,OAAA,QAAAT,IAAAiC,UAAA,GAAAA,UAAA,GAAG0sB,EAASluB,OACtFM,EAAO4tB,EAAS9L,MAAMwG,EAAOC,GAC7BsF,EAAc7tB,EAAKiP,cACnB6e,EAAqBzH,EAAYpX,cACnC9Q,IACFA,EAAc,GAAOA,EAAc,IAAQ,GAC3CA,EAAcyvB,EAASluB,QAAUvB,EAAcyvB,EAASluB,SAAW,IAErE,IAAIquB,EAAoBF,EAAY1qB,QAAQ2qB,GAC5C,IAAKA,EAAmB5gB,SAAiC,IAAvB6gB,EAChC,OAAOve,GAAexP,EAAM7B,EAAemqB,GAE7C,IAAMK,EAAkB,GAClBqF,EAAoB,CAACD,GAErBE,EAAuBH,EAAmB9gB,QAAQ,sBAAuB,QAC/E,GAAI,IAAIkhB,OAAO,IAAD3uB,OAAK0uB,EAAoB,KAAK,MAAMjM,KAAK6L,GACrD,MAA8B,IAAvBE,IAEsB,KAD3BA,EAAoBF,EAAY1qB,QAAQ2qB,EAAoBC,EAAoBD,EAAmBpuB,UAEjGsuB,EAAkBtZ,KAAKqZ,GAiC7B,OA7BAC,EAAkBzvB,SAAQ,SAAC4vB,EAAUC,GAGvB,IAARA,GAA0B,IAAbD,GACfxF,EAAgBjU,KAAKlF,GAAexP,EAAK2Q,UAAU,EAAGwd,GAAWhwB,EAAemqB,IAElFK,EAAgBjU,KACd5W,IAAAiJ,cAAA,QAAMI,UAAU,YAAYxF,IAAG,kBAAApC,OAAoB6uB,IAE/C5e,GACExP,EAAK2Q,UAAUwd,EAAUA,EAAWL,EAAmBpuB,QACvDvB,EACAmqB,EAAQ6F,KAMdA,EAAWL,EAAmBpuB,OAASmuB,EAAYnuB,QAEhDyuB,EAAWL,EAAmBpuB,SAAWsuB,EAAkBI,EAAM,IAEpEzF,EAAgBjU,KAAKlF,GACnBxP,EAAK2Q,UAAUwd,EAAWL,EAAmBpuB,OAAQsuB,EAAkBI,EAAM,IAC7EjwB,EACAmqB,EAAQ6F,EAAWL,EAAmBpuB,YAIrCipB,GCzwBMpD,U,wLCDf,IAAAniB,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAAA,SAAAkF,GAAAtF,EAAAF,GAAA,gBAAAE,GAAA,GAAAP,MAAA0e,QAAAne,GAAA,OAAAA,EAAAoe,CAAApe,IAAA,SAAAA,EAAAqB,GAAA,IAAAtB,EAAA,MAAAC,EAAA,yBAAAC,QAAAD,EAAAC,OAAAE,WAAAH,EAAA,uBAAAD,EAAA,KAAAD,EAAAI,EAAAI,EAAAI,EAAAS,EAAA,GAAAL,GAAA,EAAAV,GAAA,SAAAE,GAAAP,IAAAwB,KAAAvB,IAAAqe,KAAA,IAAAhd,EAAA,IAAAV,OAAAZ,OAAA,OAAAe,GAAA,cAAAA,GAAAhB,EAAAQ,EAAAiB,KAAAxB,IAAAyB,QAAAL,EAAAiQ,KAAAtR,EAAAtE,OAAA2F,EAAA/E,SAAAiF,GAAAP,GAAA,UAAAd,GAAAI,GAAA,EAAAF,EAAAF,EAAA,gBAAAc,GAAA,MAAAf,EAAA,SAAAW,EAAAX,EAAA,SAAAY,OAAAD,QAAA,kBAAAN,EAAA,MAAAF,GAAA,OAAAiB,GAAAmd,CAAAte,EAAAF,IAAA,SAAAE,EAAAmB,GAAA,GAAAnB,EAAA,qBAAAA,EAAA,OAAAue,GAAAve,EAAAmB,GAAA,IAAApB,EAAA,GAAAmd,SAAA3b,KAAAvB,GAAAwe,MAAA,uBAAAze,GAAAC,EAAAye,cAAA1e,EAAAC,EAAAye,YAAAjM,MAAA,QAAAzS,GAAA,QAAAA,EAAAN,MAAAC,KAAAM,GAAA,cAAAD,GAAA,2CAAA2e,KAAA3e,GAAAwe,GAAAve,EAAAmB,QAAA,GAAAwd,CAAA3e,EAAAF,IAAA,qBAAAwB,UAAA,6IAAAsd,GAAA,SAAAL,GAAAve,EAAAmB,IAAA,MAAAA,KAAAnB,EAAA5D,UAAA+E,EAAAnB,EAAA5D,QAAA,QAAA0D,EAAA,EAAAI,EAAAT,MAAA0B,GAAArB,EAAAqB,EAAArB,IAAAI,EAAAJ,GAAAE,EAAAF,GAAA,OAAAI,EAmBA,IAAMqH,GAAY,CAChB3M,WAAY4M,IAAUqO,OAAOlO,YAIzBojB,GAAY,SAAHlmB,GAAuD,IAAjDjK,EAAUiK,EAAVjK,WAAYud,EAAQtT,EAARsT,SAAU6S,EAAoBnmB,EAApBmmB,qBAwBxChjB,EAAA1C,GAbGG,aACF,SAACC,GAAK,IAAAulB,EAAA,MAAK,CACTtlB,IAAUwC,sCAAsCzC,GAChDC,IAAUulB,mBAAmBxlB,GAC7BC,IAAUC,kBAAkBF,EAAO,aACA,QADYulB,EAC/CtlB,IAAUwlB,mBAAmBzlB,UAAM,IAAAulB,OAAA,EAAnCA,EAAsCrwB,GACtC+K,IAAU6hB,oBAAoB9hB,GAC9BC,IAAUyC,iBAAiB1C,GAC3BC,IAAUC,kBAAkBF,EAAOG,IAAa4hB,sBAChD9hB,IAAU+hB,cAAchiB,EAAOG,IAAa4hB,sBAC5C9hB,IAAU2O,2BAA2B5O,MAEvC2C,KACD,GAtBCwf,EAAkC7f,EAAA,GAClCojB,EAAUpjB,EAAA,GACVqjB,EAAerjB,EAAA,GACfsjB,EAA4BtjB,EAAA,GAC5B8f,EAAgB9f,EAAA,GAChBujB,EAAuCvjB,EAAA,GACvC+f,EAAuB/f,EAAA,GACvBggB,EAAmBhgB,EAAA,GACnBqM,EAAuBrM,EAAA,GAezB8a,EAWIta,qBAAWjO,KAVbixB,EAAiB1I,EAAjB0I,kBACAvT,EAAU6K,EAAV7K,WACAvB,EAAeoM,EAAfpM,gBACA+U,EAAe3I,EAAf2I,gBACAC,EAAoB5I,EAApB4I,qBACAC,EAAqB7I,EAArB6I,sBACAxD,EAAarF,EAAbqF,cACAxR,EAAoBmM,EAApBnM,qBACA0R,EAAgBvF,EAAhBuF,iBACAD,EAAgBtF,EAAhBsF,iBAE+C7b,EAAAjH,GAAfkH,oBAAS,GAAM,GAA1Cof,EAASrf,EAAA,GAAEsf,EAAYtf,EAAA,GACxB6C,EAAWC,cACX5G,EAAcC,mBAEd4f,GAAyBP,GAA2BC,GAAuBO,eAEjF7E,cAAa,WACNkI,GACHxc,EAASU,IAAQ6T,uBAElB,CAACiI,IAEJne,qBAAU,WACJ6a,GAKFiD,GACAtT,IACCuT,GACD3D,GACApf,GACAA,EAAYO,SAEZP,EAAYO,QAAQ3J,UAErB,CAACmsB,EAAmBD,EAAyCtT,EAAYqQ,IAE5E7a,qBAAU,WAaR,IAVKie,GAAwBC,GAE3BphB,YAAW,WAGL9B,GAAeA,EAAYO,SAAW6e,GACxCpf,EAAYO,QAAQ3J,UAErB,KAEDoJ,GAAeA,EAAYO,QAAS,CACtC,GAAIsf,EACF,OAGF,IAEMK,EAFSlgB,EAAYO,QAAQtC,YAETkiB,YADS,EAEnCre,YAAW,WACL9B,EAAYO,SACdP,EAAYO,QAAQrO,OAAO6P,aAAame,EAAYA,KAErD,QAEJ,IAEH,IAAMmD,EAAS,eAvHjB5rB,EAuHiBiS,GAvHjBjS,EAuHiB6B,KAAAE,GAAG,SAAAiC,EAAOpE,GAAC,IAAAnF,EAAAoxB,EAAAC,EAAAC,EAAA,OAAAlqB,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OAM0D,GAJlFJ,EAAEtB,iBACFsB,EAAEsG,kBAEIzL,EAAS8N,EAAYO,QAAQtC,aAC7BqlB,EAAYznB,KAAgB2F,2BAA2BtP,EAAOI,gBAErD6O,OAAQ,CAAFvF,EAAAnE,EAAA,eAAAmE,EAAAlD,EAAA,cAIjB2mB,EAAkB,CAAFzjB,EAAAnE,EAAA,QAEkC,OAD9C8rB,EAAkB1nB,KAAgB4nB,mBAAmBtxB,EAAYmxB,GACvErxB,aAA2BC,EAAQqxB,GAAiB3nB,EAAAnE,EAAA,EAC9Ckc,GAAyB4P,EAAiBrV,EAAqB/b,EAAW+a,KAAI,OACpFvK,IAAK+gB,eAAe,CAACH,GAAkB3X,GAAyBhQ,EAAAnE,EAAA,eAGZ,OAD9C8rB,EAAkB5gB,IAAKghB,sBAAsBxxB,EAAYmxB,GAC/DrxB,aAA2BC,EAAQqxB,GAAiB3nB,EAAAnE,EAAA,EAC9Ckc,GAAyB4P,EAAiBrV,EAAqB/b,EAAW+a,KAAI,OACpFvK,IAAKgK,qBAAqBf,GAAyBiB,QAAQ,oBAAqB,CAAC,CAAC0W,GAAkB,SAAU,KAAK,OAGrHP,EAAgB,GAAI7wB,EAAW+a,IAC/B0S,EAAiBztB,EAAW+a,IAAI,cAAAtR,EAAAlD,EAAA,MAAA+C,MAhJpC,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,QAiJG,gBA1BciO,GAAA,OAAAP,EAAA3N,MAAA,KAAA5G,YAAA,GA4BTyuB,EACJjB,GACAC,GACAC,EAEIgB,EAAiB9e,IAAW,CAChC,cAAc,EACdkZ,OAAQvO,IAkBJ0Q,EAAqBlS,EAAqB/b,EAAW+a,KAAO,GAElE,OAAQ0W,IAAsBpU,EAAc,KAC1Czd,IAAAiJ,cAAA,QAAMmE,SAAUkkB,EAAWjoB,UAAU,wBAClCglB,EAAmBzsB,OAAS,GAC3B5B,IAAAiJ,cAACgc,GAAmB,CAClBlN,MAAOsW,EACPxQ,WAAW,EACXsH,YAAa,SAACvN,GAAI,OAAKgW,EAAiBxtB,EAAW+a,GAAIvD,MAG3D5X,IAAAiJ,cAAA,OAAKI,UAAU,0BACbrJ,IAAAiJ,cAAA,OACEI,UAAWyoB,EAGXC,YAAa,SAACzsB,GAAC,OAAKA,EAAEsG,oBAEtB5L,IAAAiJ,cAACoE,IAAY,CACX/C,IAAK,SAACwE,GACJb,EAAYO,QAAUM,GAExB9N,MAAOkb,EAAgB9b,EAAW+a,IAClC3Q,SAAU,SAACxJ,GAAK,OAtCO,SAACA,GAChCiwB,EAAgBjwB,EAAOZ,EAAW+a,IAClCqV,GAAwBA,IAoCKwB,CAAyBhxB,IAC9CoM,SAAUkkB,EACV5mB,OAnCK,WACb2mB,GAAa,GACb1D,OAAcxsB,IAkCNwJ,QA/BM,WACd0mB,GAAa,GACb1D,EAAcvtB,EAAW+a,KA8BjBtQ,SAAO,KAGX7K,IAAAiJ,cAAA,OAAKI,UAAU,0BACbrJ,IAAAiJ,cAACsD,KAAM,CACLE,IAAI,kBACJpD,UAAU,eACVqD,MAAO,gBACP4M,UAAW4C,EAAgB9b,EAAW+a,IACtCxP,QAAS2lB,EACTW,cAAY,QAQxB1B,GAAUxjB,UAAYA,GAEPwjB,IC1NAA,GD0NAA,G,ogCEhNf,IAAMxjB,GAAY,CAChBmlB,iBAAkBllB,IAAUmlB,MAAMhlB,WAClCwH,kBAAmB3H,IAAUgH,KAAK7G,YAG9BilB,GAAmB,SAAH/nB,GAGhB,IAFJ6nB,EAAgB7nB,EAAhB6nB,iBACAvd,EAAiBtK,EAAjBsK,kBAEOpP,EAAqBuF,GAAhBC,cAAgB,GAApB,GACF6J,EAAWC,cACsD9C,EAAAjH,GAAfkH,oBAAS,GAAM,GAAhEqgB,EAAoBtgB,EAAA,GAAEugB,EAAuBvgB,EAAA,GAC9C+G,EAAiB7N,aAAY,SAACC,GAAK,IAAA6N,EAAA,OAAqC,QAArCA,EAAK5N,IAAU6N,gBAAgB9N,UAAM,IAAA6N,OAAA,EAAhCA,EAAkCD,kBAK1EyZ,EACJvyB,IAAAiJ,cAACsD,KAAM,CACLZ,QAAS,SAACrG,GACRA,EAAEtB,iBACFsB,EAAEsG,kBACF0mB,GAAwB,IAE1BjpB,UAAU,cACV8C,UAAW5G,EAAE,mCACb6O,MAAO7O,EAAE,mCACTkH,IAZc,+BAeZ+lB,EACJxyB,IAAAiJ,cAACsD,KAAM,CACLZ,QAAS,SAACrG,GACRA,EAAEtB,iBACFsB,EAAEsG,kBACF0mB,GAAwB,IAE1BjpB,UAAU,cACV8C,UAAW5G,EAAE,oCACb6O,MAAO7O,EAAE,oCACTkH,IA1BY,6BA8BhB,OACEzM,IAAAiJ,cAAA,OACEI,UAAW2J,IAAW,CACpB,iBAAiB,EACjB,aAAc8F,KAGfuZ,EAAuBG,EAAuBD,EAC9CF,GACCH,EAAiBjwB,KAAI,SAACwwB,EAAiB3sB,GAErC,OAAU,IAANA,EACK,KAGP9F,IAAAiJ,cAACsD,KAAM,CACL1I,IAAK4uB,EAAgBtX,GACrB9R,UAAU,cACVsC,QAAS,SAACrG,GACRA,EAAEtB,iBACFsB,EAAEsG,kBACFgF,IAAK8hB,iBAAiBD,GACtB7hB,IAAK+hB,iBAAiBF,GACtB7d,EAASU,IAAQsd,YAAY,sBAG/B5yB,IAAAiJ,cAACwe,GAAW,CACV5jB,IAAK4uB,EAAgBtX,GACrB/a,WAAYqyB,EACZ9U,UAAU,EACVO,eAAe,EACfvJ,kBAAmBA,UAUnCyd,GAAiBrlB,UAAYA,GAEdqlB,U,kjCC/Ef,IAAMS,GAAsB,SAAHxoB,GAAqB,IAAfkH,EAAQlH,EAARkH,SACvBuhB,EAAQlmB,eAAcC,cAAc,wBACpCiC,EAAK9F,SAASC,cAAc,OAQlC,OAPA6F,EAAGikB,aAAa,eAAgB1nB,IAAa2nB,gCAE7C/f,qBAAU,WAER,OADA6f,EAAMxpB,YAAYwF,GACX,kBAAMgkB,EAAMG,YAAYnkB,MAC9B,CAACA,EAAIgkB,IAEDI,wBAAa3hB,EAAUzC,IAG1B/B,GAAY,CAChB3M,WAAY4M,IAAUqO,OACtB8X,iBAAkBnmB,IAAUqO,OAC5B+X,kBAAmBpmB,IAAUgH,MAGzBqf,GAA8B,SAAH1b,GAA4D,IAAtDvX,EAAUuX,EAAVvX,WAAY+yB,EAAgBxb,EAAhBwb,iBAAkBC,EAAiBzb,EAAjByb,kBA0BlE5lB,EAAA1C,GAdGG,aACF,SAACC,GAAK,MAAK,CACTC,IAAUmoB,qBAAqBpoB,GAC/BC,IAAUooB,oBAAoBroB,GAC9BC,IAAUqoB,uBAAuBtoB,GACjCC,IAAUkW,mBAAmBnW,GAC7BC,IAAU+hB,cAAchiB,EAAOG,IAAa2nB,gCAC5C7nB,IAAU+hB,cAAchiB,EAAOG,IAAa8hB,aAC5ChiB,IAAUC,kBAAkBF,EAAOG,IAAa2nB,gCAChD7nB,IAAUsoB,0BAA0BvoB,GACpCC,IAAUuoB,2BAA2BxoB,GACrCC,IAAU2O,2BAA2B5O,MAEvC2C,KACD,IAxBC8lB,EAAiBnmB,EAAA,GACjBomB,EAAgBpmB,EAAA,GAChBqmB,EAAmBrmB,EAAA,GACnB4T,EAAc5T,EAAA,GACdsmB,EAAUtmB,EAAA,GACVumB,EAAevmB,EAAA,GACfwmB,EAAcxmB,EAAA,GACdymB,EAAsBzmB,EAAA,GACtB0mB,EAAuB1mB,EAAA,GACvBqM,EAAuBrM,EAAA,GAiBnBoH,EAAWC,cAG0D9C,EAAAjH,GAAXkH,mBAAS,GAAE,GAApEmiB,EAAwBpiB,EAAA,GAAEqiB,EAA2BriB,EAAA,GACWI,EAAArH,GAAXkH,mBAAS,GAAE,GAAhEqiB,EAAsBliB,EAAA,GAAEmiB,EAAyBniB,EAAA,GACmBG,EAAAxH,GAAXkH,mBAAS,GAAE,GAApEuiB,EAAwBjiB,EAAA,GAAEkiB,EAA2BliB,EAAA,GAGaG,EAAA3H,GAAXkH,mBAAS,GAAE,GAAlEyiB,EAAuBhiB,EAAA,GAAEiiB,EAA0BjiB,EAAA,GACWkiB,EAAA7pB,GAAXkH,mBAAS,GAAE,GAA9D4iB,EAAqBD,EAAA,GAAEE,EAAwBF,EAAA,GACmBG,EAAAhqB,GAAXkH,mBAAS,GAAE,GAAlE+iB,EAAuBD,EAAA,GAAEE,EAA0BF,EAAA,GAGpDG,EAA2BtB,EAAoBuB,KAAmB,EAKxEC,EAGIC,aAAsBh1B,EAAYyZ,GAFvBwb,EAAqBF,EAAlCG,YACSC,EAAiBJ,EAA1BK,QAGIC,EAA0B/a,uBAAY,WAC1C,MAA2B,SAAvBta,EAAWs1B,QACN,EAEF,KACN,CAACt1B,IAwGJ,GAtGA6S,qBAAU,WACR,IAAM0iB,EAAsB,WAC1B/gB,EAASU,IAAQsgB,aAAavqB,IAAa2nB,kCAG7C,OADApiB,IAAKrM,iBAAiB,oBAAqBoxB,OAAqBx0B,EAAW0Y,GACpE,WACLjJ,IAAK4J,oBAAoB,oBAAqBmb,EAAqB9b,MAEpE,IAEH5G,qBAAU,WACR,GAAKkgB,GAAqBA,EAAiB3kB,QAA3C,CAGA,IAAAqnB,EAAkCjlB,IAAKklB,qBAAqBjc,GAApDkc,EAASF,EAATE,UAAWC,EAAUH,EAAVG,WAGnB,KADsCX,GAAyBE,GAE7D,OAAO,WACL3gB,EAASU,IAAQsgB,aAAavqB,IAAa2nB,kCAI/C,ICxHgD3oB,EDwH1C4rB,EAAiB1zB,OAAO8T,8BACxB6f,EAAkBb,EAAsBc,EAAIZ,EAAkBY,EAE9DC,EAAc7zB,OAAO8T,8BAAgCzJ,eAAcypB,KAAKljB,YAAc5Q,OAAO+zB,WAG7FC,GC9H0ClsB,ED8HqB,CACnE+rB,cACAI,oBAAqBjB,EAAkBY,EACvCD,kBACA9U,iBACAqV,iBApDqB,GAqDrBxB,2BACAe,eCpIJI,YACmB/rB,EAAnBmsB,oBACensB,EAAf6rB,gBACc7rB,EAAd+W,eACgB/W,EAAhBosB,iBACwBpsB,EAAxB4qB,yBACU5qB,EAAV2rB,WDiIEU,ECpHkD,SAAH/e,GAQ7C,IAPJyJ,EAAczJ,EAAdyJ,eACAqV,EAAgB9e,EAAhB8e,iBACAxB,EAAwBtd,EAAxBsd,yBACA0B,EAAiBhf,EAAjBgf,kBACAC,EAAejf,EAAfif,gBACAL,EAAoB5e,EAApB4e,qBAAoBM,EAAAlf,EACpBmf,eAOA,MAAO,CACLC,+BALqC3V,EAAiBqV,EAAmBxB,EAMzE+B,6BALmCL,EAAoBC,EAMvDK,0BALgCV,QALpB,IAAAM,EAAG,IAAIA,IDiHfK,CAAuC,CACzC9V,iBACAqV,iBA/DqB,GAgErBxB,2BACA0B,kBAAmBxD,EAAiB3kB,QAAQG,wBAAwBwoB,IACpEP,gBAAiBX,EAAiBrpB,eAAcypB,KAAKe,UAAY,EACjEb,uBACAO,eAhEkC,MAsDlCC,EAA8BL,EAA9BK,+BACAC,EAA4BN,EAA5BM,6BACAC,EAAyBP,EAAzBO,0BAWFzC,EAA4BuC,GAC5BzC,EAA0B0C,GAC1B5C,EAA4B6C,GAE5B,IAAAI,ECjHiD,SAAHnS,GAY5C,IAXJoS,EAAkBpS,EAAlBoS,mBACAC,EAA8BrS,EAA9BqS,+BACAC,EAAgBtS,EAAhBsS,iBACApW,EAAc8D,EAAd9D,eACAqV,EAAgBvR,EAAhBuR,iBACAxB,EAAwB/P,EAAxB+P,yBACAgC,EAAyB/R,EAAzB+R,0BACAV,EAAoBrR,EAApBqR,qBACAkB,EAAkBvS,EAAlBuS,mBACA1B,EAAS7Q,EAAT6Q,UACA2B,EAAoBxS,EAApBwS,qBAGMC,EACJL,GAAsBC,EAA+BpB,EAAIoB,EAA+BpB,EAAIqB,EAAmB,EAUjH,MAAO,CACLI,8BANAxW,EAAiBqV,EAAmBxB,EAA2BgC,EAO/DY,4BANkCJ,EAAqBD,EAAmB,EAAIzB,GAJ9EuB,GAAsBC,EAA+B/wB,EAAI+wB,EAA+B/wB,EAAIgxB,EAAmB,GAW/GM,yBALAvB,EAAuBU,EAA4BS,EAAuBC,GD8FtEI,CAAsC,CACxCT,mBAAoBl3B,EAAW43B,OAC/BT,+BAAgCn3B,EAAW63B,0BAC3CT,iBAAkBnC,EAAsB7uB,EAAI+uB,EAAkB/uB,EAC9D4a,iBACAqV,iBApFqB,GAqFrBxB,2BACAgC,4BACAV,uBACAkB,mBAAoBlC,EAAkB/uB,EACtCuvB,YACA2B,qBAAsBjC,MAdtBmC,EAA6BP,EAA7BO,8BACAC,EAA2BR,EAA3BQ,4BACAC,EAAwBT,EAAxBS,yBAeF9C,EAA2B4C,GAC3B/C,EAAyBgD,GACzBnD,EAA2BoD,MAC1B,CACD3E,EACA/R,EACAiU,EACAE,EACAtB,EACAC,IAGFjhB,qBAAU,WACR,IAAM0iB,EAAsB,WAC1B/gB,EAASU,IAAQsgB,aAAavqB,IAAa2nB,kCAK7C,OAFApiB,IAAKrM,iBAAiB,oBAAqBoxB,OAAqBx0B,EAAW0Y,GAEpE,WACLjJ,IAAK4J,oBAAoB,oBAAqBmb,EAAqB9b,MAEpE,CACDjF,EACAiF,IAGEia,IAAeC,GAAmBX,KAAuBY,EAAgB,CAC3E,IAAAkE,EC/HiD,SAAH1S,GAM5C,IALJ6O,EAAsB7O,EAAtB6O,uBACAO,EAAqBpP,EAArBoP,sBACAuD,EAAe3S,EAAf2S,gBACAvE,EAAgBpO,EAAhBoO,iBACAD,EAAiBnO,EAAjBmO,kBAIIyE,EACF/D,EAAyBO,EACrBA,EAJuB,EAKvBP,EACFgE,EAAqB1kB,KAAK2kB,IAAIjE,EAAyBO,GAIrD2D,EAA0BH,EAAkBxE,EAC5C4E,EAHqBJ,EAAkBC,EAGEF,EAEzCM,EAAwBF,GAA2BC,EAazD,OAXIC,GAAyB9E,IACvB4E,GAEFF,EAAqB1kB,KAAK2kB,IAAIjE,EAAyBT,GAlB9B,EAmBzBwE,EAAkBxE,GACT4E,IAETH,EAAqB1kB,KAAK2kB,IAAIH,EAAkB9D,KAI7C,CACL+D,kBACAC,qBACAI,yBD2FuEC,CAAsC,CAC3GrE,yBACAO,wBACAuD,iBACG51B,OAAO8T,8BAAgCzJ,eAAcypB,KAAKsC,aAAep2B,OAAO+zB,YACjFzC,EACFD,mBACAD,sBAPMyE,EAAeF,EAAfE,gBAAiBC,EAAkBH,EAAlBG,mBAAoBI,EAAqBP,EAArBO,sBAU7C,OACEz4B,IAAAiJ,cAAC4pB,GAAmB,KAClB7yB,IAAAiJ,cAAA,OACEI,UAAU,iBACV0C,MAAO,CAAEyH,MAAO2gB,EAA0ByE,MAAOrE,EAA0B4C,IAAK9C,KAElFr0B,IAAAiJ,cAAA,OACEI,UAAU,eACV0C,MAAO,CACL6C,OAAQypB,EACRlB,IAAKiB,EACLQ,MAAOrE,EAA2BJ,KAGtCn0B,IAAAiJ,cAAA,OACEI,UAAU,iBACV0C,MAAO,CACLyH,MAAOihB,EACPmE,MAAO7D,EACPoC,IAAKvC,EACLiE,WAAYJ,EAAwB,SAAW,YAGjDz4B,IAAAiJ,cAAA,OAAKI,UAAU,gBAKvB,OAAO,MAGTgqB,GAA4BtmB,UAAYA,GAEzBsmB,IEjPAA,GFiPAA,G,4aGlPf,IAAA/tB,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAC,EAAAX,GAAA,GAAAY,GAAA,EAAAC,EAAA,CAAAF,EAAA,EAAAb,EAAA,EAAAgB,EAAApB,EAAAqB,EAAAC,EAAAN,EAAAM,EAAAnC,KAAAa,EAAA,GAAAsB,EAAA,SAAArB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAmB,EAAAf,EAAAF,EAAAmB,IAAA,SAAAC,EAAApB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAiB,GAAAF,IAAAV,GAAAL,EAAAgB,EAAA3E,OAAA2D,IAAA,KAAAK,EAAAE,EAAAS,EAAAhB,GAAAqB,EAAAH,EAAAF,EAAAM,EAAAf,EAAA,GAAAN,EAAA,GAAAI,EAAAiB,IAAAnB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAc,KAAAhB,EAAAJ,EAAA,GAAAoB,EAAAd,EAAA,KAAAC,EAAA,EAAAU,EAAAC,EAAAhB,EAAAe,EAAAf,EAAAI,EAAA,IAAAc,EAAAC,IAAAjB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAmB,KAAAf,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAe,EAAAf,EAAAmB,EAAAd,EAAA,OAAAH,GAAAJ,EAAA,SAAAmB,EAAA,MAAAH,GAAA,EAAAd,EAAA,gBAAAE,EAAAW,EAAAM,GAAA,GAAAP,EAAA,QAAAQ,UAAA,oCAAAN,GAAA,IAAAD,GAAAK,EAAAL,EAAAM,GAAAd,EAAAQ,EAAAL,EAAAW,GAAAtB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAM,GAAA,CAAAV,IAAAC,IAAA,GAAAA,EAAA,IAAAU,EAAAf,GAAA,GAAAkB,EAAAb,EAAAG,IAAAO,EAAAf,EAAAQ,EAAAO,EAAAC,EAAAR,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAwB,KAAAjB,EAAAI,IAAA,MAAAY,UAAA,wCAAAvB,EAAAyB,KAAA,OAAAzB,EAAAW,EAAAX,EAAAvE,MAAA+E,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAA,SAAAP,EAAAwB,KAAAjB,GAAAC,EAAA,IAAAG,EAAAY,UAAA,oCAAAlB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAiB,EAAAC,EAAAf,EAAA,GAAAQ,EAAAV,EAAAuB,KAAArB,EAAAe,MAAAE,EAAA,YAAApB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAtF,MAAAuE,EAAAyB,KAAAR,IAAA,CAAAhB,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAS,EAAA,YAAAV,KAAA,SAAAgB,KAAA,SAAAC,KAAA3B,EAAAY,OAAAgB,eAAA,IAAApB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,GAAA,0BAAAH,GAAAW,EAAAgB,EAAAlB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAiB,eAAAjB,OAAAiB,eAAA9B,EAAA4B,IAAA5B,EAAA+B,UAAAH,EAAAb,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA2B,EAAAjB,UAAAkB,EAAAb,GAAAH,EAAA,cAAAgB,GAAAb,GAAAa,EAAA,cAAAD,KAAAK,YAAA,oBAAAjB,GAAAa,EAAAtB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,GAAA,0BAAAW,GAAAH,EAAA,sDAAAqB,GAAA,kBAAAC,EAAA1B,EAAA2B,EAAAnB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAAuB,eAAA,IAAA5B,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,GAAAC,EAAAM,IAAAR,EAAAE,EAAA,CAAAxE,MAAA0E,EAAAiC,YAAApC,EAAAqC,cAAArC,EAAAsC,UAAAtC,IAAAD,EAAAE,GAAAE,MAAA,KAAAE,EAAA,SAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,GAAA,SAAAF,GAAA,YAAAwC,QAAAtC,EAAAE,EAAAJ,OAAAM,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAAA,SAAAwC,GAAArC,EAAAH,EAAAD,EAAAE,EAAAI,EAAAe,EAAAZ,GAAA,QAAAD,EAAAJ,EAAAiB,GAAAZ,GAAAG,EAAAJ,EAAA9E,MAAA,MAAA0E,GAAA,YAAAJ,EAAAI,GAAAI,EAAAkB,KAAAzB,EAAAW,GAAA8B,QAAAC,QAAA/B,GAAAgC,KAAA1C,EAAAI,GAAA,SAAAkzB,GAAAxzB,EAAAE,GAAA,IAAAD,EAAAY,OAAA6gB,KAAA1hB,GAAA,GAAAa,OAAA4yB,sBAAA,KAAAnzB,EAAAO,OAAA4yB,sBAAAzzB,GAAAE,IAAAI,IAAA8T,QAAA,SAAAlU,GAAA,OAAAW,OAAA6yB,yBAAA1zB,EAAAE,GAAAmC,eAAApC,EAAAqR,KAAA5M,MAAAzE,EAAAK,GAAA,OAAAL,EAAA,SAAAjC,GAAAgC,GAAA,QAAAE,EAAA,EAAAA,EAAApC,UAAAxB,OAAA4D,IAAA,KAAAD,EAAA,MAAAnC,UAAAoC,GAAApC,UAAAoC,GAAA,GAAAA,EAAA,EAAAszB,GAAA3yB,OAAAZ,IAAA,GAAA9E,SAAA,SAAA+E,GAAAnC,GAAAiC,EAAAE,EAAAD,EAAAC,OAAAW,OAAA8yB,0BAAA9yB,OAAA+yB,iBAAA5zB,EAAAa,OAAA8yB,0BAAA1zB,IAAAuzB,GAAA3yB,OAAAZ,IAAA9E,SAAA,SAAA+E,GAAAW,OAAAuB,eAAApC,EAAAE,EAAAW,OAAA6yB,yBAAAzzB,EAAAC,OAAA,OAAAF,EAAA,SAAAjC,GAAAiC,EAAAE,EAAAD,GAAA,OAAAC,EAAA,SAAAD,GAAA,IAAAO,EAAA,SAAAP,EAAAC,GAAA,aAAA2zB,GAAA5zB,OAAA,OAAAA,EAAA,IAAAD,EAAAC,EAAAE,OAAA2zB,aAAA,YAAA9zB,EAAA,KAAAQ,EAAAR,EAAAyB,KAAAxB,EAAAC,GAAA,wBAAA2zB,GAAArzB,GAAA,OAAAA,EAAA,UAAAgB,UAAA,kEAAAtB,EAAA6zB,OAAA9J,QAAAhqB,GAAA+zB,CAAA/zB,EAAA,0BAAA4zB,GAAArzB,OAAA,GAAAyzB,CAAA/zB,MAAAF,EAAAa,OAAAuB,eAAApC,EAAAE,EAAA,CAAAxE,MAAAuE,EAAAoC,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAvC,EAAAE,GAAAD,EAAAD,EAAA,SAAAwF,GAAAtF,EAAAF,GAAA,gBAAAE,GAAA,GAAAP,MAAA0e,QAAAne,GAAA,OAAAA,EAAAoe,CAAApe,IAAA,SAAAA,EAAAqB,GAAA,IAAAtB,EAAA,MAAAC,EAAA,yBAAAC,QAAAD,EAAAC,OAAAE,WAAAH,EAAA,uBAAAD,EAAA,KAAAD,EAAAI,EAAAI,EAAAI,EAAAS,EAAA,GAAAL,GAAA,EAAAV,GAAA,SAAAE,GAAAP,IAAAwB,KAAAvB,IAAAqe,KAAA,IAAAhd,EAAA,IAAAV,OAAAZ,OAAA,OAAAe,GAAA,cAAAA,GAAAhB,EAAAQ,EAAAiB,KAAAxB,IAAAyB,QAAAL,EAAAiQ,KAAAtR,EAAAtE,OAAA2F,EAAA/E,SAAAiF,GAAAP,GAAA,UAAAd,GAAAI,GAAA,EAAAF,EAAAF,EAAA,gBAAAc,GAAA,MAAAf,EAAA,SAAAW,EAAAX,EAAA,SAAAY,OAAAD,QAAA,kBAAAN,EAAA,MAAAF,GAAA,OAAAiB,GAAAmd,CAAAte,EAAAF,IAAA,SAAAE,EAAAmB,GAAA,GAAAnB,EAAA,qBAAAA,EAAA,OAAAue,GAAAve,EAAAmB,GAAA,IAAApB,EAAA,GAAAmd,SAAA3b,KAAAvB,GAAAwe,MAAA,uBAAAze,GAAAC,EAAAye,cAAA1e,EAAAC,EAAAye,YAAAjM,MAAA,QAAAzS,GAAA,QAAAA,EAAAN,MAAAC,KAAAM,GAAA,cAAAD,GAAA,2CAAA2e,KAAA3e,GAAAwe,GAAAve,EAAAmB,QAAA,GAAAwd,CAAA3e,EAAAF,IAAA,qBAAAwB,UAAA,6IAAAsd,GAAA,SAAAL,GAAAve,EAAAmB,IAAA,MAAAA,KAAAnB,EAAA5D,UAAA+E,EAAAnB,EAAA5D,QAAA,QAAA0D,EAAA,EAAAI,EAAAT,MAAA0B,GAAArB,EAAAqB,EAAArB,IAAAI,EAAAJ,GAAAE,EAAAF,GAAA,OAAAI,EAwBA,IAAMqH,GAAY,CAChB3M,WAAY4M,IAAUqO,OAAOlO,WAC7B6Q,gBAAiBhR,IAAUgH,KAC3BW,kBAAmB3H,IAAUgH,KAC7BwlB,eAAgBxsB,IAAUgH,KAC1BiK,kBAAmBjR,IAAUE,MAG3BusB,GAAS,EAEPC,GAAO,SAAHrvB,GAQJ,IAPJjK,EAAUiK,EAAVjK,WACA4d,EAAe3T,EAAf2T,gBACArJ,EAAiBtK,EAAjBsK,kBACA6kB,EAAcnvB,EAAdmvB,eACAvb,EAAiB5T,EAAjB4T,kBACAmV,EAAiB/oB,EAAjB+oB,kBACAuG,EAAuBtvB,EAAvBsvB,wBAEArR,EASIta,qBAAWjO,KARb0d,EAAU6K,EAAV7K,WACA1P,EAAMua,EAANva,OACAkO,EAAkBqM,EAAlBrM,mBACA+U,EAAiB1I,EAAjB0I,kBACAN,EAAkBpI,EAAlBoI,mBACAQ,EAAoB5I,EAApB4I,qBAEAvD,EAAarF,EAAbqF,cAEIiM,EAAe1rB,mBACf2rB,EAAqB3rB,mBACyB6D,EAAAjH,GAAZkH,mBAAS,IAAG,GAA7C8nB,EAAY/nB,EAAA,GAAEgoB,EAAehoB,EAAA,GAC9Bmc,EAAMhgB,iBAAO,IACb0G,EAAWC,cACVtP,EAAqBuF,GAAhBC,cAAgB,GAApB,GACFivB,EAAmB,IAAIC,IAuB5BzsB,EAAA1C,GAZGG,aACF,SAACC,GAAK,MAAK,CACTC,IAAU+uB,yBAAyBhvB,GACnCC,IAAUgvB,+BAA+BjvB,GACzCC,IAAUivB,yBAAyBlvB,GACnCC,IAAUkvB,gCAAgCnvB,GAC1CC,IAAUmvB,mCAAmCpvB,GAC7CC,IAAU2O,2BAA2B5O,GACrCC,IAAUovB,sBAAsBrvB,GAChCC,IAAUqvB,wBAAwBtvB,MAEpC2C,KACD,GApBC4sB,EAAqBjtB,EAAA,GACrBktB,EAA2BltB,EAAA,GAC3BmtB,EAAqBntB,EAAA,GACrBotB,EAAyBptB,EAAA,GACzB8sB,EAAkC9sB,EAAA,GAClCgD,EAAiBhD,EAAA,GACjBqtB,EAAkBrtB,EAAA,GAClBstB,EAAoBttB,EAAA,GAehBuM,EAAeW,uBACnB,SAACmD,EAAW6R,GACVqK,GAAgB,SAAC93B,GAAG,OAAAqB,MAAA,GACfrB,GAAG,GAAAoB,GAAA,GACLqsB,EAAQ7R,SAGb,CAACkc,IAGGgB,EAAU36B,EACbqf,aACA+P,MAAK,SAAC7oB,EAAG8oB,GAAC,OAAK9oB,EAAe,YAAI8oB,EAAe,eAEpDsL,EAAQrhB,QAAO,SAAClU,GAAC,OAAKm1B,EAAsBK,IAAIx1B,EAAE2V,OAAK1a,SAAQ,SAAC+E,GAAC,OAAKw0B,EAAiBiB,IAAIz1B,EAAE2V,OAE7FlI,qBAAU,WACR,IAAM6V,EAA4B,SAACC,EAAaC,GAC/B,WAAXA,GACFD,EAAYtoB,SAAQ,SAACwoB,GACf0R,EAAsBK,IAAI/R,EAAM9N,KAClCvG,EAASU,IAAQ4lB,uBAAuB,CAAEC,QAAQ,EAAM5jB,aAAc0R,EAAM9N,UAOpF,OAFAvK,IAAKrM,iBAAiB,oBAAqBukB,OAA2B3nB,EAAWqP,GAE1E,WACLI,IAAK4J,oBAAoB,oBAAqBsO,EAA2BtY,MAE1E,CAACmqB,IAEJ1nB,qBAAU,WACR,IAAMmoB,EAAavB,EAAmBrrB,QAChC6sB,EAAazB,EAAaprB,QAAQG,wBAAwBC,OAChEirB,EAAmBrrB,QAAU6sB,EAKzBD,GAAcznB,KAAK2nB,MAAMF,KAAgBznB,KAAK2nB,MAAMD,IACtDttB,OAIJkF,qBAAU,WACR,GAAIwnB,EAAuB,CACzB,IAAMc,EAAoB3uB,eAAczH,iBAAiB,eAAe,GACxE+oB,EAAI1f,QAAQ/N,SAAQ,SAAC0X,GACnB,IAAMqjB,EAAQD,EAAkB1uB,cAAc,kCAADpL,OAAmC0W,EAAE,MAC9EqjB,GACFA,EAAMC,WAAWxI,YAAYuI,MAIjCtN,EAAI1f,QAAU,GAEd,IAAMtD,EAAQ,CACZ9K,aACAqd,cAGFgd,EAAsBb,EAAaprB,QAAStD,GAAO,WAAe,IAAAwwB,EAC1DhV,GAAUgV,EAAA1yB,UAASC,cAAae,MAAA0xB,EAAAt4B,WAChC+U,EAAK,kBAAH1W,OAAqBg4B,IAQ7B,OAPAA,KACAvL,EAAI1f,QAAQoI,KAAKuB,GACjBuO,EAAQqM,aAAa,gCAAiC5a,GACtDuO,EAAQniB,iBAAiB,aAAa,SAACe,GACrCA,EAAEsG,qBAGG8a,SAKbzT,qBAAU,WAGY,KADAgJ,EAAmB7b,EAAW+a,KACxB6V,IAAsBN,GAC9C3W,GAAa,EAAM,KAEpB,CAAC2W,EAAoBM,EAAmBjX,EAAc3Z,EAAYuU,IAErEuU,cAAa,YACPwH,GAAuBM,GACzBjX,GAAa,EAAO,KAErB,CAAC2W,EAAoBM,EAAmBjX,IAE3C,IAAMyN,EAAe,eAhLvB9hB,EAgLuBiS,GAhLvBjS,EAgLuB6B,KAAAE,GAAG,SAAAiC,EAAOpE,GAAC,IAAAsb,EAAA,OAAArZ,KAAAC,GAAA,SAAAqC,GAAA,cAAAA,EAAAnE,GAAA,OAGL,GAAzBJ,GAAKA,EAAEsG,mBAEH+I,EAAmB,CAAF9K,EAAAnE,EAAA,QACiB,OAApCuY,GAAmBD,GAAiBnU,EAAAlD,EAAA,UAarC,GAVGg0B,EAAsBK,IAAI56B,EAAW+a,KACvCvG,EAASU,IAAQ4lB,uBAAuB,CAAEC,QAAQ,EAAM5jB,aAAcnX,EAAW+a,MAGnFuf,GAA+BA,EAA4Bt6B,GACtDqd,IACH7M,IAAK+qB,uBAAuBnrB,GAG5BT,YAAW,kBAAM6E,EAASU,IAAQsd,YAAYvnB,IAAa2nB,mCAAkC,OAE3FwG,GAAoBqB,GAAsBC,IAAyBc,KAAqBC,QAAQ,CAAAhyB,EAAAnE,EAAA,QAMjG,GALDkL,IAAK8hB,iBAAiBtyB,EAAYoQ,GAClCmd,EAAcvtB,EAAW+a,IACzBvK,IAAK+hB,iBAAiBvyB,EAAYoQ,GAC7B8pB,GACH1lB,EAASU,IAAQsd,YAAYvnB,IAAaywB,oBAExCjB,EAAoB,CAAFhxB,EAAAnE,EAAA,QAC8D,OAA5Ekb,EAAkBxgB,EAAWygB,cAAcC,MAAiCjX,EAAAnE,EAAA,EAC5EkL,IAAKmQ,kBAAkBgb,0BAA0Bnb,GAAgB,OACvEhQ,IAAKmQ,kBAAkBib,mBAAmB,cAAAnyB,EAAAlD,EAAA,MAAA+C,MA9MlD,eAAAnE,EAAA,KAAAD,EAAAlC,UAAA,WAAA4E,SAAA,SAAAxC,EAAAI,GAAA,IAAAe,EAAAjB,EAAAsE,MAAAzE,EAAAD,GAAA,SAAA2E,EAAAvE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,OAAAxE,GAAA,SAAAwE,EAAAxE,GAAAqC,GAAApB,EAAAnB,EAAAI,EAAAqE,EAAAC,EAAA,QAAAxE,GAAAuE,OAAA,QAiNG,gBAjCoBiO,GAAA,OAAAP,EAAA3N,MAAA,KAAA5G,YAAA,GAmCf64B,EAAmBjC,EAAiBt4B,KAAO,EAE3Cw6B,EAAYlpB,IAAW,CAC3B0mB,MAAM,EACNznB,SAAUwL,EACV,oBAAqBO,EACrBkO,OAAQyO,EAAsBK,IAAI56B,EAAW+a,KAAO8gB,EACpD,SAAYpB,GAAsBC,IAAyBc,KAAqBC,UAG5EM,EAAenpB,IAAW,CAC9B+nB,SAAS,EACTqB,QAAS3e,IAGXxK,qBAAU,WAGH0B,GACHomB,EAAQt6B,SAAQ,SAAC47B,EAAO3M,GACtB,IAAMlD,EAAcvQ,EAAmBogB,EAAMlhB,IACxB,KAAhBqR,QAA6C,IAAhBA,GAAgC/O,GAChE1D,GAAa,EAAM,EAAI2V,QAI5B,CAACjS,EAAY9I,IAEhB1B,qBAAU,WACJ0B,GACFoF,GAAa,EAAO,KAErB,CAACpF,IAEJ,IAAM2nB,GAAiBn2B,OAAOo2B,OAAOzC,GAAc0C,MAAK,SAACC,GAAG,OAAKA,KAE3DC,EAAqB,SAACL,GAEtBrC,EAAiBgB,IAAIqB,EAAMlhB,MAC7BvG,EAASU,IAAQ4lB,uBAAuB,CAAEC,QAAQ,EAAM5jB,aAAc8kB,EAAMlhB,MAC5EvK,IAAKgK,qBAAqBpK,GAAmBkiB,iBAAiB2J,KAI5DM,EAAqB,WAEzB,GAAI3C,EAAiBt4B,KAAO,EAAG,CAC7B,IAAMk7B,EAAmB7B,EAAQrhB,QAAO,SAAClU,GAAC,OAAKw0B,EAAiBgB,IAAIx1B,EAAE2V,OACtEvK,IAAKgK,qBAAqBpK,GAAmBqsB,kBAAkBD,GAC/DA,EAAiBn8B,SAAQ,SAAC+E,GAAC,OAAKoP,EAASU,IAAQ4lB,uBAAuB,CAAEC,QAAQ,EAAM5jB,aAAc/R,EAAE2V,WAItG+W,EAAmBthB,IAAKksB,oBAAoB18B,EAAYoQ,GACxDusB,GAAU7K,EAAiBtwB,OAAS,EACpCwc,GAAkB0J,aAAmB1nB,KAAgBsoB,KAAkBC,eAEvEqU,GAAcjC,EAAQn5B,OAAS,EAAIm5B,EAAQA,EAAQn5B,OAAS,GAAGuZ,GAAK,KACpE8hB,GAAoCxnB,aAAkC7E,IAAMxQ,GAC5E88B,GAA2Bzf,IAAe+b,GAAkBpG,KAAuBuG,GAA2BsD,GAEpH,OACEj9B,IAAAiJ,cAAA,OACEqB,IAAKsvB,EACLvwB,UAAW6yB,EACX/jB,GAAE,QAAA1W,OAAUrB,EAAW+a,KAEvBnb,IAAAiJ,cAACsD,KAAM,CACLlD,UAAU,cACVsC,QAAS,SAACrG,GAAC,OAAKkiB,EAAgBliB,IAChC63B,eAAc,QAAA17B,OAAUrB,EAAW+a,IACnCiiB,YAAa3f,EACbjR,YAAY,qBAEdxM,IAAAiJ,cAACwe,GAAW,CACVzN,UAAW,EACX5Z,WAAYA,EACZ2Z,aAAcA,EACdyN,gBAAiBA,EACjB3J,UAAWic,EAAa,GACxBxS,oBAAqBqT,EAAsBK,IAAI56B,EAAW+a,IAC1DwC,SAAUgd,EAAsBK,IAAI56B,EAAW+a,KAAO8gB,EACtDhe,kBAAmB,SAAC3Y,GAClBqoB,EAAcvtB,EAAW+a,IACzB8C,EAAkB3Y,IAEpB0Y,gBAAiBA,EACjBrJ,kBAAmBA,KAEnB8I,GAAcyT,GAAwB0J,KAA+Bxc,IACrEpe,IAAAiJ,cAAAjJ,IAAAsQ,SAAA,KACGyqB,EAAQn5B,OAAS,GAChB5B,IAAAiJ,cAAA,OAAKI,UAAW8yB,GACbF,GACCj8B,IAAAiJ,cAACsD,KAAM,CACLC,YAAY,oBACZnD,UAAU,uBACV+K,MAAO7O,EAAE,sBACToG,QAASgxB,IAGZ5B,EAAQ94B,KAAI,SAACo6B,EAAOv2B,GAAC,OACpB9F,IAAAiJ,cAAA,OAAKI,UAAU,QAAQ8O,GAAE,cAAA1W,OAAgB46B,EAAMlhB,IAAMtX,IAAG,cAAApC,OAAgB46B,EAAMlhB,KAC5Enb,IAAAiJ,cAACwe,GAAW,CACVzN,UAAWlU,EAAI,EACfjC,IAAKw4B,EAAMlhB,GACX/a,WAAYi8B,EACZtiB,aAAcA,EACd8D,UAAWic,EAAah0B,EAAI,GAC5ByhB,eAAgBmV,EAChB/e,SAAUgd,EAAsBK,IAAIqB,EAAMlhB,IAC1C8C,kBAAmBA,EACnBD,gBAAiBA,EACjBrJ,kBAAmBA,EACnB6S,gBAAiBA,SAM1BuV,IACC/8B,IAAAiJ,cAACmpB,GAAgB,CACfF,iBAAkBA,EAClBvd,kBAAmBA,IAEtB2nB,IAAkB3nB,GACjB3U,IAAAiJ,cAACsnB,GAAS,CACR5S,SAAUqf,IAAerC,EAAsBK,IAAIgC,IACnDxM,qBAAsBmM,EACtBv8B,WAAYA,KAKnB88B,IACCl9B,IAAAiJ,cAACoqB,GAA2B,CAC1BjzB,WAAYA,EACZ+yB,iBAAkByG,EAClBxG,kBAAmBA,MAO7BsG,GAAK3sB,UAAYA,GAEF2sB,UCrWAA,Q,qBCFf,IAAI1jB,EAAM,EAAQ,IACFhH,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQiH,WAAajH,EAAQkH,QAAUlH,KAG/CA,EAAU,CAAC,CAACmH,EAAOrQ,EAAIkJ,EAAS,MAG9C,IAAIpM,EAAU,CAEd,OAAiB,SAASwT,GAgBV,IAAK7T,OAAO8T,8BAEV,YADArN,SAASsN,KAAKhN,YAAY8M,GAI5B,IAAIG,EAEJA,EAAgBvN,SAASwN,qBAAqB,oBAEzCD,EAAc3U,SACjB2U,EAzBF,SAASE,EAAwBC,EAASrS,EAAO2E,UAC/C,MAAM2N,EAAW,GAYjB,OATAtS,EAAKc,iBAAiBuR,GAASjW,QAASqO,GAAO6H,EAASC,KAAK9H,IAG7DzK,EAAKc,iBAAiB,KAAK1E,QAASqO,IAC9BA,EAAG+H,YACLF,EAASC,QAAQH,EAAwBC,EAAS5H,EAAG+H,eAIlDF,EAYSF,CAAwB,qBAG1C,MAAMK,EAAkB,GACxB,IAAK,IAAIhR,EAAI,EAAGA,EAAIyQ,EAAc3U,OAAQkE,IAAK,CAC7C,MAAMiR,EAAeR,EAAczQ,GACnC,GAAU,IAANA,EACFiR,EAAaF,WAAWvN,YAAY8M,GACpCA,EAASY,OAAS,WACZF,EAAgBlV,OAAS,GAC3BkV,EAAgBrW,QAASwW,IAEvBA,EAAUC,UAAYd,EAASc,iBAIhC,CACL,MAAMD,EAAYb,EAASe,WAAU,GACrCJ,EAAaF,WAAWvN,YAAY2N,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEPjB,EAAIhH,EAASpM,GAI1BuT,EAAOiB,QAAUpI,EAAQqI,QAAU,I,sBClEnCD,EAAUjB,EAAOiB,QAAU,EAAQ,GAAR,EAAkE,IAKrFR,KAAK,CAACT,EAAOrQ,EAAI,6tTAA8tT,KAGvvTsR,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,S,yjFCOvB,IAAMtK,EAAY,CAChBghB,SAAU/gB,IAAUgH,KACpBqpB,cAAerwB,IAAUgH,KACzBspB,mBAAoBtwB,IAAUgH,KAC9BupB,SAAUvwB,IAAU+G,IACpBsc,SAAUrjB,IAAUqO,OACpBmiB,cAAexwB,IAAUE,KACzBuwB,qBAAsBzwB,IAAUqO,OAChCqiB,aAAc1wB,IAAUqO,OACxBsiB,wBAAyB3wB,IAAUC,OACnCuK,eAAgBxK,IAAUE,MAGtB0wB,EAAwB,SAAHvzB,GAWrB,IAVJ0jB,EAAQ1jB,EAAR0jB,SACAsP,EAAahzB,EAAbgzB,cACAC,EAAkBjzB,EAAlBizB,mBACAC,EAAQlzB,EAARkzB,SACAlN,EAAQhmB,EAARgmB,SACAmN,EAAanzB,EAAbmzB,cACAC,EAAoBpzB,EAApBozB,qBACAC,EAAYrzB,EAAZqzB,aACAC,EAAuBtzB,EAAvBszB,wBACAnmB,EAAcnN,EAAdmN,eAEOjS,EAAqBuF,EAAhBC,cAAgB,GAApB,GACyCgH,EAAAjH,EAAfkH,oBAAS,GAAM,GAA1C6rB,EAAU9rB,EAAA,GAAE+rB,EAAW/rB,EAAA,GAExBqM,EAAkB0J,YAAmB2V,KAA0B/U,IAAkBC,eAEjFoV,EACJ/9B,IAAAiJ,cAAA,OACEI,UAAW2J,IAAW,CACpBgrB,OAAO,EACPJ,uBAAuB,EACvBK,KAAMX,EACNY,mBAAoB9f,IAEtB9T,IAAKizB,EACLzgB,eAAczR,IAAa4hB,qBAC3BlhB,MAAKzI,EAAA,GAAO+sB,GACZ8N,YAAa,SAAC74B,GACZA,EAAEsG,mBAEJmmB,YAAa,SAACzsB,GACRyoB,IACFzoB,EAAEsG,kBACF4xB,MAGJ/yB,UAAW,SAACnF,GACI,WAAVA,EAAEzB,KACJ25B,MAIJx9B,IAAAiJ,cAAA,OACEI,UAAW2J,IAAW,CACpB,4BAA4B,EAC5B,SAAY6qB,IAEd9L,YAAa,SAACzsB,GACRyoB,GACFzoB,EAAEsG,oBAILmiB,GACC/tB,IAAAiJ,cAAA,OAAKI,UAAU,yBACbrJ,IAAAiJ,cAACsD,IAAM,CACLE,IAAKoxB,EAAa,oBAAsB,kBACxCx0B,UAAU,eACVmD,YAAanB,IAAa+yB,mCAC1BzyB,QAAS,WAAF,OAAQmyB,GAAaD,MAE9B79B,IAAAiJ,cAAA,QAAMI,UAAU,+BAA+B9D,EAAE,mBACjDvF,IAAAiJ,cAACsD,IAAM,CACLE,IAAK,aACLD,YAAanB,IAAagzB,kCAC1B1yB,QAAS6xB,KAIfx9B,IAAAiJ,cAAClJ,IAAYu+B,SAAQ,CAACt9B,MAAO08B,GAC3B19B,IAAAiJ,cAACywB,IAAI,CACHt5B,WAAYq9B,EACZzf,iBAAiB,EACjBrJ,mBAAmB,EACnBsJ,kBAAmB,eAErBje,IAAAiJ,cAACqO,IAAqB,CACpBC,aAAcomB,EACdnmB,eAAgBA,OAO1B,OAAO6lB,GAAiBjf,EACtB2f,EAEA/9B,IAAAiJ,cAACs1B,IAAS,CAACC,OAAO,0EAA0ET,IAIhGH,EAAsB7wB,UAAYA,EAEnB6wB,Q,6pFC7Gf,IAAM7wB,EAAY,CAChB3M,WAAY4M,IAAUqO,OACtBmiB,cAAexwB,IAAUE,MAGrBuxB,EAAiC,SAAHp0B,GAAsC,IAAhCjK,EAAUiK,EAAVjK,WAAYo9B,EAAanzB,EAAbmzB,cAsBnDhwB,EAAA1C,EAZGG,aACF,SAACC,GAAK,MAAK,CACTC,IAAU+hB,cAAchiB,EAAOG,IAAa8hB,aAC5ChiB,IAAUuzB,oBAAoBxzB,GAC9BC,IAAU+hB,cAAchiB,EAAOG,IAAaszB,YAC5CxzB,IAAUyzB,mBAAmB1zB,GAC7BC,IAAU0zB,6BAA6B3zB,GACvCC,IAAU2zB,gBAAgB5zB,GAC1BC,IAAUulB,mBAAmBxlB,GAC7BC,IAAU2O,2BAA2B5O,MAEvC2C,KACD,GApBC4f,EAAgBjgB,EAAA,GAChBuxB,EAAgBvxB,EAAA,GAChBwxB,EAAexxB,EAAA,GACfyxB,EAAezxB,EAAA,GACf2Q,EAAuB3Q,EAAA,GACvBsQ,EAAYtQ,EAAA,GACZkjB,EAAkBljB,EAAA,GAClBqM,EAAuBrM,EAAA,GAcnBoH,EAAWC,cAC4C9C,EAAAjH,EAA7BkH,mBAAS,CAAEktB,KAAM,EAAG/H,IAAK,IAAI,GAAtD9G,EAAQte,EAAA,GAAEotB,EAAWptB,EAAA,GACtBwrB,EAAWrvB,mBAEX6f,EAAWqR,cACX/B,EAAgBtP,KAAcsR,KAAkBC,IAChDC,EAA2B9R,GAAqBsR,GAAoBC,GAAuC,eAApBC,EAG7FO,YAAkBjC,GAAU,SAACj4B,GAC3B,IAAMm6B,EAAa7yB,cAAcC,cAAc,+BACzC6yB,EAAsBD,aAAU,EAAVA,EAAYE,SAASr6B,EAAE+J,QAC7C8F,EAAkBvI,cAAcC,cAAc,kCAADpL,OAAmCrB,EAAW+a,GAAE,OAC7FykB,EAA2BzqB,aAAe,EAAfA,EAAiBwqB,SAASr6B,EAAE+J,QACvDwwB,EAAaC,cACbC,EAAeC,cACfC,EAAcC,cAMfR,GAAwBE,GAA6BG,GAAiBE,GAAgBJ,GACzFjrB,EAASU,IAAQsgB,aAAavqB,IAAa4hB,0BAI/C,IAAMqQ,GAAsBiC,EAEtBY,EAAmB,WACnB7C,GAAsBC,EAAS/uB,UAAYuf,GAC7CoR,EAAYiB,YAAiBhgC,EAAYm9B,EAAU1jB,KAIvDzL,2BAAgB,WACd+xB,MACC,CAACtmB,EAAyBzZ,IAE7B,IAAMigC,EAAeC,KAAS,WAC5BH,MAjCoC,GAkCJ,CAAE,UAAY,EAAM,SAAW,IAEjE/xB,2BAAgB,WAGd,OAFA7L,OAAOgC,iBAAiB,SAAU87B,GAE3B,WACL99B,OAAOiY,oBAAoB,SAAU6lB,MAEtC,IAGH,IAAoEluB,EAAArH,EAAZkH,mBAAS,IAAG,GAA7DmK,EAAoBhK,EAAA,GAAEouB,EAAuBpuB,EAAA,GAC9CqF,EAAiB,SAACgpB,EAAc5X,GACpC2X,GAAwB,SAACt+B,GAAG,OAAAqB,IAAA,GACvBrB,GAAG,GAAAoB,EAAA,GACLm9B,EAAY,GAAA/+B,OAAAuZ,EAAQ/Y,EAAIu+B,IAAiB,IAAExlB,EAAM4N,UAI2BtW,EAAAxH,EAAnBkH,wBAAS7Q,GAAU,GAA1Ew8B,EAAuBrrB,EAAA,GAAEmuB,EAA0BnuB,EAAA,GAEMG,EAAA3H,EAAZkH,mBAAS,IAAG,GAAzDiK,EAAkBxJ,EAAA,GAAEiuB,EAAqBjuB,EAAA,GAC1CgW,EAAqB/N,uBACzB,SAAC8R,EAAagU,GACZE,GAAsB,SAACz+B,GAAG,OAAAqB,IAAA,GACrBrB,GAAG,GAAAoB,EAAA,GACLm9B,EAAehU,SAGpB,CAACkU,IAGuD/L,EAAA7pB,EAAZkH,mBAAS,IAAG,GAAnDkK,GAAeyY,EAAA,GAAEgM,GAAkBhM,EAAA,GACpC1D,GAAkBvW,uBACtB,SAACkmB,EAAcJ,GACbG,IAAmB,SAAC1+B,GAAG,OAAAqB,IAAA,GAClBrB,GAAG,GAAAoB,EAAA,GACLm9B,EAAeI,SAGpB,CAACD,KAsBGjD,GAAe,CACnBnV,YAAa,GACbxa,OAAQ,WAAM,IAAA8yB,GACU,QAAlBA,EAAAjwB,IAAKkwB,qBAAa,IAAAD,OAAA,EAAlBA,EAAoBtW,aAAcwW,IAAYC,eAChD7B,EAAYiB,YAAiBhgC,EAAYm9B,EAAU1jB,KAGvD4D,YAAY,EACZuT,kBAAmBpgB,IAAKyJ,kBAAkBja,KAAgBA,EAAWG,cACrE0b,qBACAwM,qBACAvM,mBACA+U,mBACAP,qBACAlI,wBAAyB,aACzB0I,sBAAsB,EACtBC,uBAAuB,EACvBrT,eACAK,0BACAwP,cAAe8S,EACftkB,uBACA3E,iBACAqW,iBA1CuB,SAAC2S,GACxBD,GAAwB,SAACt+B,GAAG,OAAAqB,IAAA,GACvBrB,GAAG,GAAAoB,EAAA,GACLm9B,EAAe,SAwClB5S,iBArCuB,SAAC4S,EAAc3oB,GACtC,IAAMopB,EAAiB9kB,EAAqBqkB,GAC5C,IAAIS,aAAc,EAAdA,EAAgBr/B,QAAS,EAAG,CAC9B,IAAM8tB,EAAQuR,EAAe57B,QAAQwS,GACjC6X,GAAS,IACXuR,EAAeC,OAAOxR,EAAO,GAC7B6Q,GAAwB,SAACt+B,GAAG,OAAAqB,IAAA,GACvBrB,GAAG,GAAAoB,EAAA,GACLm9B,EAAYxlB,EAAOimB,YAgC5B,OACEjhC,IAAAiJ,cAAC20B,EAAqB,CACpB7P,SAAUA,EACVsP,cAAeA,EACfC,mBAAoBA,EACpBC,SAAUA,EACVlN,SAAUA,EACVmN,cAAeA,EACfC,qBAAsBr9B,EACtBs9B,aAAcA,GACdC,wBAAyBA,EACzBnmB,eAAgBA,KAKtBinB,EAA+B1xB,UAAYA,EAE5B0xB,QC7LAA","file":"chunks/chunk.29.js","sourcesContent":["import React from 'react';\n\nconst NoteContext = React.createContext();\n\nexport default NoteContext;","const setAnnotationRichTextStyle = (editor, annotation) => {\n  const richTextStyle = {};\n  const ops = editor.getContents().ops;\n  let breakpoint = 0;\n  ops.forEach((item) => {\n    const attributes = item.attributes;\n    const isMention = item.insert?.mention;\n    let value = item.insert;\n    if (isMention) {\n      const mention = item.insert.mention;\n      value = mention.denotationChar + mention.value;\n    }\n    const cssStyle = {};\n    if (attributes === null || attributes === undefined ? undefined : attributes.bold) {\n      cssStyle['font-weight'] = 'bold';\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.italic) {\n      cssStyle['font-style'] = 'italic';\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.color) {\n      cssStyle['color'] = attributes.color;\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.underline) {\n      cssStyle['text-decoration'] = 'word';\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.strike) {\n      if (cssStyle['text-decoration']) {\n        cssStyle['text-decoration'] = `${cssStyle['text-decoration']} line-through`;\n      } else {\n        cssStyle['text-decoration'] = 'line-through';\n      }\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.size) {\n      cssStyle['font-size'] = attributes.size;\n    }\n    if (attributes === null || attributes === undefined ? undefined : attributes.font) {\n      cssStyle['font-family'] = attributes.font;\n    }\n\n    richTextStyle[breakpoint] = cssStyle;\n    breakpoint += value.length;\n  });\n  annotation.setRichTextStyle(richTextStyle);\n};\n\nexport default setAnnotationRichTextStyle;\n","\n/**\n * @ignore\n * Converts text with newlines (\"\\n\") into <p>...</p> elements to ensure proper\n * multiline handling in the editor. If no newlines are present, the original\n * text is returned.\n *\n * @param {string} value - The text to convert.\n * @returns {string} The converted text with <p> tags around each line.\n */\nfunction convertNewlinesToParagraphs(value) {\n  if (!value) {\n    return value;\n  }\n  const valueSplit = value.split('\\n');\n  const containsNewlines = valueSplit.length > 1;\n  if (!containsNewlines) {\n    return value;\n  }\n\n  const contentArray = valueSplit;\n  return contentArray.map((text) => `<p>${text || '<br>'}</p>`).join('');\n}\n\nexport default convertNewlinesToParagraphs;","import { Quill } from 'react-quill-new';\n\n// Overriding clipboard module to fix cursor issue after pasting text\nconst Clipboard = Quill.import('modules/clipboard');\nconst { quillShadowDOMWorkaround } = window.Core;\n\nexport class QuillPasteExtra extends Clipboard {\n  constructor(quill, options) {\n    quillShadowDOMWorkaround(quill);\n    super(quill, options);\n  }\n}\n\n// We override the default keyboard module to disable the list autofill feature\nconst Keyboard = Quill.import('modules/keyboard');\n\nexport class CustomKeyboard extends Keyboard {\n  static DEFAULTS = {\n    ...Keyboard.DEFAULTS,\n    bindings: {\n      ...Keyboard.DEFAULTS.bindings,\n      'list autofill': undefined,\n    }\n  };\n}\n\nexport class BlurInputModule {\n  constructor(quill) {\n    this.quill = quill;\n    this.noteContainer = quill.root.closest('.Note');\n    this.shouldSkipInput = false;\n\n    this.noteContainer?.addEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n\n  handleKeyDown = (event) => {\n    if (event.key === 'Escape') {\n      this.blurQuill();\n    } else if (event.key === 'Tab' && this.shouldSkipInput) {\n      event.preventDefault();\n      this.moveFocus(event.shiftKey);\n    }\n  };\n\n  blurQuill() {\n    this.shouldSkipInput = true;\n    this.quill.blur();\n    this.quill.container.tabIndex = 0;\n    this.quill.container.focus();\n  }\n\n  moveFocus(backwards) {\n    // .ql-container.ql-snow is the quill editor selector\n    const focusableElements = Array.from(\n      this.noteContainer.querySelectorAll('.ql-container.ql-snow, button.modular-ui')\n    );\n    const currentIndex = focusableElements.indexOf(this.quill.container);\n\n    if (currentIndex !== -1) {\n      const newIndex = backwards ? currentIndex - 1 : currentIndex + 1;\n      focusableElements[newIndex]?.focus();\n    }\n\n    this.shouldSkipInput = false;\n    this.quill.container.tabIndex = -1;\n  }\n}\n","import React from 'react';\nimport ReactQuill, { Quill } from 'react-quill-new';\nimport { Mention, MentionBlot } from 'quill-mention';\nimport mentionsManager from 'helpers/MentionsManager';\nimport Button from 'components/Button';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport DataElements from 'constants/dataElement';\nimport selectors from 'selectors';\nimport getRootNode from 'helpers/getRootNode';\nimport transformTextForQuill from 'helpers/convertNewlinesToParagraphs';\nimport { CustomKeyboard, BlurInputModule, QuillPasteExtra } from 'helpers/quillModules';\nimport '../../../constants/quill.scss';\nimport './CommentTextarea.scss';\n\nlet globalUserData = [];\n\n// These are the formats that will be accepted by quill\n// removed images and videos\nconst formats = [\n  'background',\n  'bold',\n  'color',\n  'font',\n  'code',\n  'italic',\n  'link',\n  'size',\n  'strike',\n  'script',\n  'underline',\n  'blockquote',\n  'header',\n  'indent',\n  'list',\n  'align',\n  'direction',\n  'code-block',\n  'formula',\n  'mention',\n];\n\nQuill.register('modules/keyboard', CustomKeyboard, true);\nQuill.register('modules/clipboard', QuillPasteExtra, true);\nQuill.register('modules/blurInput', BlurInputModule);\n// Register quill-mention manually so the \"mention\" format is available\nQuill.register({\n  'modules/mention': Mention,\n  'blots/mention': MentionBlot,\n});\n\n// mentionsModule has to be outside the funtion to be able to access it without it being destroyed and recreated\nconst mentionModule = {\n  mention: {\n    allowedChars: /^[A-Za-z\\sÅÄÖåäö0-9\\-_]*$/,\n    mentionDenotationChars: ['@', '#'],\n    mentionContainerClass: 'mention__element',\n    mentionListClass: 'mention__suggestions__list',\n    listItemClass: 'mention__suggestions__item',\n    renderItem(item) {\n      // quill-mentions does not support jsx being returned\n      const div = document.createElement('div');\n      div.innerText = item.value;\n      if (item.email) {\n        const para = document.createElement('p');\n        para.innerText = item.email;\n        para.className = 'email';\n        div.appendChild(para);\n      }\n      return div;\n    },\n    async source(searchTerm, renderList) {\n      const mentionsSearchFunction = mentionsManager.getMentionLookupCallback();\n      const foundUsers = await mentionsSearchFunction(globalUserData, searchTerm);\n      renderList(foundUsers, searchTerm);\n    }\n  }\n};\n\nconst CommentTextarea = React.forwardRef(\n  (\n    {\n      value = '',\n      onChange,\n      onKeyDown,\n      onBlur,\n      onFocus,\n      userData,\n      isReply,\n    },\n    ref\n  ) => {\n    const [t] = useTranslation();\n\n    const isAddReplyAttachmentDisabled = useSelector((state) => selectors.isElementDisabled(state, DataElements.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON));\n\n    globalUserData = userData;\n\n    const addAttachment = () => {\n      getRootNode().querySelector('#reply-attachment-picker')?.click();\n    };\n\n    const onClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    const onScroll = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    value = transformTextForQuill(value);\n    const baseModule = { blurInput: {} };\n\n    // onBlur and onFocus have to be outside in the div because of quill bug\n    return (\n      <div className='comment-textarea' onBlur={onBlur} onFocus={onFocus} onClick={onClick} onScroll={onScroll}>\n        <ReactQuill\n          className='comment-textarea ql-container ql-editor'\n          style={{ overflowY: 'visible' }}\n          ref={(ele) => {\n            if (ele) {\n              ele.getEditor().root.ariaLabel = `${isReply ? t('action.reply') : t('action.comment')}`;\n            }\n            return ref(ele);\n          }}\n          modules={userData && userData.length > 0 ? { ...baseModule, ...mentionModule } : baseModule }\n          theme=\"snow\"\n          value={value}\n          placeholder={`${isReply ? t('action.reply') : t('action.comment')}...`}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n          formats={formats}\n        />\n        {isReply && !isAddReplyAttachmentDisabled &&\n          <Button\n            className='add-attachment'\n            dataElement={DataElements.NotesPanel.ADD_REPLY_ATTACHMENT_BUTTON}\n            img='ic_fileattachment_24px'\n            title={`${t('action.add')} ${t('option.type.fileattachment')}`}\n            onClick={addAttachment}\n          />\n        }\n      </div>\n    );\n  });\n\nCommentTextarea.displayName = 'CommentTextarea';\n\nexport default CommentTextarea;\n","import React, { useLayoutEffect, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport throttle from 'lodash/throttle';\nimport NoteContext from 'components/Note/Context';\nimport selectors from 'selectors';\nimport CommentTextarea from './CommentTextarea/CommentTextarea';\nimport mentionsManager from 'helpers/MentionsManager';\n\nconst propTypes = {\n  // same the value attribute of a HTML textarea element\n  value: PropTypes.string,\n  // same the placeholder attribute of a HTML textarea element\n  placeholder: PropTypes.string,\n  // same the onChange attribute of a HTML textarea element\n  onChange: PropTypes.func.isRequired,\n  // same the onBlur attribute of a HTML textarea element\n  onBlur: PropTypes.func,\n  // same the onBlur attribute of a HTML textarea element\n  onFocus: PropTypes.func,\n  // a function that will be invoked when Ctrl + Enter or Cmd + Enter or only Enter are pressed\n  onSubmit: PropTypes.func,\n};\n\nconst NoteTextarea = React.forwardRef((props, forwardedRef) => {\n  const [\n    userData,\n    canSubmitByEnter,\n  ] = useSelector(\n    (state) => [\n      selectors.getUserData(state),\n      selectors.isNoteSubmissionWithEnterEnabled(state),\n      selectors.getAutoFocusNoteOnAnnotationSelection(state),\n      selectors.getIsNoteEditing(state),\n    ],\n    shallowEqual,\n  );\n\n  const { resize } = useContext(NoteContext);\n  const textareaRef = useRef();\n  const prevHeightRef = useRef();\n\n  useLayoutEffect(() => {\n    // when the height of the textarea changes, we also want to call resize\n    // to clear the cell measurer cache and update the note height in the virtualized list\n    const boxDOMElement = textareaRef.current?.editor?.container.firstElementChild;\n    const boundingBox = boxDOMElement?.getBoundingClientRect() || {};\n    if (prevHeightRef.current && prevHeightRef.current !== boundingBox.height) {\n      resize();\n    }\n    prevHeightRef.current = boundingBox.height;\n    // we need value to be in the dependency array because the height will only change when value changes\n    // eslint-disable-next-line\n  }, [props.value, resize]);\n\n\n  const handleKeyDown = (e) => {\n    const enterKey = 13;\n    const enterKeyPressed = e.which === enterKey;\n    if (enterKeyPressed) {\n      const isSubmittingByEnter = canSubmitByEnter;\n      const isSubmittingByCtrlEnter = (e.metaKey || e.ctrlKey);\n\n      if (isSubmittingByEnter || isSubmittingByCtrlEnter) {\n        props.onSubmit(e);\n      }\n    }\n  };\n\n  const handleChange = (content, delta, source, editor) => {\n    // Removes Non-breaking Space and replaces with regular space\n    content = content.replace(/&nbsp;/g, ' ');\n\n    if (textareaRef.current) {\n      /* For the React Quill editor, the text won't ever be empty, at least a '\\n'\n       * will be there, so it is necessary to trim the value to check if it is empty\n       */\n      const isEmpty = editor && editor.getText().trim() === '' && content === '<p><br></p>';\n      let value = '';\n\n      if (!isEmpty) {\n        value = content.target ? content.target.value : content;\n      }\n      props.onChange(value);\n\n      // If the delta contains a mention, then move the cursor to the end of the editor.\n      // This is necessary instead of using debounce when mentioning a user because\n      // the debounce was generating the following bug\n      // https://apryse.atlassian.net/browse/WVR-2380\n      const deltaContainsMention = mentionsManager.doesDeltaContainMention(delta.ops);\n\n      if (deltaContainsMention) {\n        const formattedText = mentionsManager.getFormattedTextFromDeltas(delta.ops);\n        const mentionData = mentionsManager.extractMentionDataFromStr(formattedText);\n        const editortextValue = editor.getText();\n        const totalTextLength = editortextValue.length + mentionData.plainTextValue.length;\n        const textareaEditor = textareaRef.current?.editor;\n        setTimeout(() => textareaEditor?.setSelection(totalTextLength, totalTextLength), 1);\n      }\n    }\n  };\n\n  const textareaProps = {\n    ...props,\n    ref: (el) => {\n      textareaRef.current = el;\n      forwardedRef(el);\n    },\n    onChange: throttle(handleChange, 100),\n    onKeyDown: handleKeyDown,\n    userData,\n  };\n\n  return (\n    <>\n      <CommentTextarea {...textareaProps}/>\n    </>\n  );\n});\n\nNoteTextarea.displayName = 'NoteTextarea';\nNoteTextarea.propTypes = propTypes;\n\nexport default NoteTextarea;\n","import NoteTextarea from './NoteTextarea';\n\nexport default NoteTextarea;","import i18next from 'i18next';\nimport core from 'core';\n\nfunction createStateAnnotation(annotation, state, documentViewerKey = 1) {\n  // TODO: the code below is copied from annotManager.updateAnnotationState in WebViewer to work around the issue\n  // in https://github.com/PDFTron/webviewer-ui/issues/620\n  // the implement before wasn't causing any actual issues, but it was confusing and unnecessary to trigger two annotationChanged events when a status is set\n  // A proper fix should be done once https://trello.com/c/zWlkygNb/1023-consider-adding-a-setlocalizationhandler-to-corecontrols is implemented\n  // at that time, we could use the translation handler(t) internally in updateAnnotationState before setting the contents, and use that function instead in this component\n\n  const stateAnnotation = new window.Core.Annotations.StickyAnnotation();\n\n  stateAnnotation['InReplyTo'] = annotation['Id'];\n  stateAnnotation['X'] = annotation['X'];\n  stateAnnotation['Y'] = annotation['Y'];\n  stateAnnotation['PageNumber'] = annotation['PageNumber'];\n  stateAnnotation['Subject'] = 'Sticky Note';\n  stateAnnotation['Author'] = core.getCurrentUser();\n  stateAnnotation['State'] = state;\n  stateAnnotation['StateModel'] = state === 'Marked' || state === 'Unmarked' ? 'Marked' : 'Review';\n  stateAnnotation['Hidden'] = true;\n  stateAnnotation.enableSkipAutoLink();\n\n  const displayAuthor = core.getDisplayAuthor(stateAnnotation['Author'], documentViewerKey);\n  const stateMessage = i18next.t(`option.state.${state.toLowerCase()}`);\n  const contents = `${stateMessage} ${i18next.t('option.state.setBy')} ${displayAuthor}`;\n  stateAnnotation.setContents(contents);\n\n  return stateAnnotation;\n}\n\nexport {\n  createStateAnnotation,\n};\n","import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\n\nimport './NoteTextPreview.scss';\n\nfunction NoteTextPreview(props) {\n  /* This replace is to remove the break line that the React Quill component add into the text */\n  const text = props.children.replace(/\\n$/, '');\n  const {\n    panelWidth,\n    linesToBreak,\n    renderRichText,\n    richTextStyle,\n    resize,\n    style,\n    /* If text being previewed is a comment it gets a darker font color */\n    comment = false,\n    beforeContent = () => {},\n  } = props;\n  const [expanded, setExpand] = useState(false);\n  const [previewElementWidth, setPreviewWidth] = useState(null);\n  const [charsPerLine, setCharsperLine] = useState(null);\n  const [showPrompt, setShowPrompt] = useState(false);\n  const ref = React.useRef(null);// Must import this way in order to mock it properly\n  const { t } = useTranslation();\n\n  const onClickHandler = (event) => {\n    event.stopPropagation();\n    setExpand(!expanded);\n    resize && resize();\n  };\n\n  const textToDisplay = expanded ? text : text.substring(0, charsPerLine * linesToBreak);\n  const prompt = expanded ? t('action.showLess') : t('action.showMore');\n  const noteTextPreviewClass = classNames('note-text-preview', { 'preview-comment': comment });\n\n  useEffect(() => {\n    const textNodeWidth = ref.current.clientWidth;\n    setPreviewWidth(textNodeWidth);\n  }, [panelWidth]);\n\n  // useLayoutEffect to avoid a flicker before we get the final text prop\n  useLayoutEffect(() => {\n    function getTextWidth(text) {\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      context.font = '13px sans-serif';\n\n      return context.measureText(text).width;\n    }\n\n    const textWidth = getTextWidth(text);\n    const averageCharWidth = textWidth / text.length;\n    const charsPerLine = Math.floor(previewElementWidth / averageCharWidth);\n    setCharsperLine(charsPerLine);\n\n    const totalLines = textWidth / previewElementWidth;\n    setShowPrompt(totalLines > linesToBreak);\n  }, [text, previewElementWidth]);\n\n  return (\n    <div className={noteTextPreviewClass} ref={ref} style={style} aria-live=\"polite\">\n      {beforeContent()}\n      {renderRichText && richTextStyle\n        ? renderRichText(textToDisplay, richTextStyle, 0)\n        : textToDisplay} {showPrompt && <button className=\"note-text-preview-prompt\" onClick={onClickHandler}>{prompt}</button>}\n    </div>\n  );\n}\n\nNoteTextPreview.propTypes = {\n  panelWidth: PropTypes.number,\n  linesToBreak: PropTypes.number,\n  renderRichText: PropTypes.func,\n  richTextStyle: PropTypes.any,\n  resize: PropTypes.func,\n  style: PropTypes.any,\n  comment: PropTypes.bool,\n  beforeContent: PropTypes.func,\n};\n\nexport default NoteTextPreview;","import { useLayoutEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport DataElements from 'src/constants/dataElement';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nconst createFlyoutItem = (option, icon, dataElement) => ({\n  icon,\n  label: `option.state.${option.toLowerCase()}`,\n  title: `option.state.${option.toLowerCase()}`,\n  option,\n  dataElement,\n});\n\nexport const noteStateFlyoutItems = [\n  createFlyoutItem('Accepted', 'icon-annotation-status-accepted', 'noteStateFlyoutAcceptedOption'),\n  createFlyoutItem('Rejected', 'icon-annotation-status-rejected', 'noteStateFlyoutRejectedOption'),\n  createFlyoutItem('Cancelled', 'icon-annotation-status-cancelled', 'noteStateFlyoutCancelledOption'),\n  createFlyoutItem('Completed', 'icon-annotation-status-completed', 'noteStateFlyoutCompletedOption'),\n  createFlyoutItem('None', 'icon-annotation-status-none', 'noteStateFlyoutNoneOption'),\n  createFlyoutItem('Marked', 'icon-annotation-status-marked', 'noteStateFlyoutMarkedOption'),\n  createFlyoutItem('Unmarked', 'icon-annotation-status-unmarked', 'noteStateFlyoutUnmarkedOption'),\n];\n\nconst NoteStateFlyout = (props) => {\n  const {\n    noteId,\n    handleStateChange = () => {},\n    isMultiSelectMode = false,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  const selectorSuffix = isMultiSelectMode ? '' : `-${noteId}`;\n  const flyoutSelector = `${DataElements.NOTE_STATE_FLYOUT}${selectorSuffix}`;\n  const currentFlyout = useSelector((state) => selectors.getFlyout(state, flyoutSelector));\n\n  const handleClick = (noteState) => {\n    handleStateChange(noteState);\n  };\n\n  useLayoutEffect(() => {\n    const noteStateFlyout = {\n      dataElement: flyoutSelector,\n      className: 'NoteStateFlyout',\n      items: noteStateFlyoutItems.map((item) => {\n        return {\n          ...item,\n          onClick: () => handleClick(item.option),\n        };\n      }),\n    };\n\n    if (!currentFlyout) {\n      dispatch(actions.addFlyout(noteStateFlyout));\n    } else {\n      dispatch(actions.updateFlyout(noteStateFlyout.dataElement, noteStateFlyout));\n    }\n  }, [handleStateChange]);\n\n  return null;\n};\n\nNoteStateFlyout.propTypes = {\n  noteId: PropTypes.string,\n  handleStateChange: PropTypes.func,\n  isMultiSelectMode: PropTypes.bool,\n};\n\nexport default NoteStateFlyout;","import NoteStateFlyout from './NoteStateFlyout';\n\nexport default NoteStateFlyout;","export const isAnnotationRenderedInDisplayMode = (core, annotation) => {\n  const visiblePages = core.getDisplayModeObject().getVisiblePages();\n  const isAnnotationInVisiblePages = visiblePages.includes(annotation.PageNumber);\n  const isFocusableInCurrentDisplayMode = core.isContinuousDisplayMode() || (!core.isContinuousDisplayMode() && isAnnotationInVisiblePages);\n  return isFocusableInCurrentDisplayMode;\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./NoteTextPreview.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".note-text-preview{font-size:13px;color:var(--gray-7);padding-inline-end:var(--note-content-right-padding-width);-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important;cursor:text;height:-moz-fit-content;height:fit-content;width:calc(100% - var(--note-content-right-padding-width));overflow:hidden}.note-text-preview>*{pointer-events:all}.preview-comment{color:var(--text-color)}.note-text-preview-prompt{cursor:pointer;color:var(--primary-button);text-decoration:underline;position:relative;pointer-events:auto;background:transparent;border:none;padding:0}.note-text-preview-prompt:hover{color:var(--primary-button-hover)}.trackedChangePopup .note-text-preview{max-height:400px;overflow-y:auto;width:calc(100% + var(--note-content-right-padding-width))}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./quill.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{inset-inline-start:-100000px;height:1px;overflow-y:hidden;position:absolute;inset-block-start:50%}.ql-clipboard p{margin:0;padding:0}.ql-container .ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;-o-tab-size:4;tab-size:4;-moz-tab-size:4;text-align:start;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor p{margin:0;padding:0}.ql-editor ol,.ql-editor ul{padding-inline-start:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:\\\"\\\\2022\\\"}.ql-editor ul[data-checked=false],.ql-editor ul[data-checked=true]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li:before,.ql-editor ul[data-checked=true]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:\\\"\\\\2611\\\"}.ql-editor ul[data-checked=false]>li:before{content:\\\"\\\\2610\\\"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-inline-start:-1.5em;margin-inline-end:.3em;text-align:end}.ql-editor li.ql-direction-rtl:before{margin-inline-start:.3em;margin-inline-end:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-inline-start:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-inline-end:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) \\\". \\\"}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) \\\". \\\"}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) \\\". \\\"}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) \\\". \\\"}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) \\\". \\\"}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) \\\". \\\"}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) \\\". \\\"}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) \\\". \\\"}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) \\\". \\\"}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) \\\". \\\"}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-inline-start:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-inline-start:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-inline-end:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-inline-end:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-inline-start:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-inline-start:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-inline-end:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-inline-end:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-inline-start:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-inline-start:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-inline-end:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-inline-end:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-inline-start:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-inline-start:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-inline-end:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-inline-end:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-inline-start:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-inline-start:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-inline-end:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-inline-end:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-inline-start:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-inline-start:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-inline-end:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-inline-end:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-inline-start:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-inline-start:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-inline-end:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-inline-end:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-inline-start:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-inline-start:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-inline-end:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-inline-end:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-inline-start:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-inline-start:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-inline-end:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-inline-end:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:end}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;inset-inline-start:15px;pointer-events:none;position:absolute;inset-inline-end:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:\\\"\\\";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:inline-start;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:inline-start;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover{color:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media(pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:\\\"\\\";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-inline-start:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-inline-start:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:inline-start;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-inline-start:8px;padding-inline-end:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;inset-block-start:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{inset-inline-end:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:inline-start;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;inset-inline-end:0;inset-block-start:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=\\\"\\\"]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=\\\"\\\"]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=\\\"\\\"]):before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=\\\"\\\"]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=\\\"\\\"]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=\\\"\\\"]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item:before,.ql-snow .ql-picker.ql-header .ql-picker-label:before{content:\\\"Normal\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"1\\\"]:before{content:\\\"Heading 1\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"2\\\"]:before{content:\\\"Heading 2\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"3\\\"]:before{content:\\\"Heading 3\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"4\\\"]:before{content:\\\"Heading 4\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"5\\\"]:before{content:\\\"Heading 5\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"6\\\"]:before{content:\\\"Heading 6\\\"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item:before,.ql-snow .ql-picker.ql-font .ql-picker-label:before{content:\\\"Sans Serif\\\"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:\\\"Serif\\\"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:\\\"Monospace\\\"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item:before,.ql-snow .ql-picker.ql-size .ql-picker-label:before{content:\\\"Normal\\\"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:\\\"Small\\\"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:\\\"Large\\\"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:\\\"Huge\\\"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-inline-end:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:\\\"Visit URL:\\\";line-height:26px;margin-inline-end:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-inline-end:1px solid #ccc;content:\\\"Edit\\\";margin-inline-start:16px;padding-inline-end:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:\\\"Remove\\\";margin-inline-start:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-inline-end:0;content:\\\"Save\\\";padding-inline-end:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:\\\"Enter link:\\\"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:\\\"Enter formula:\\\"}.ql-snow .ql-tooltip[data-mode=video]:before{content:\\\"Enter video:\\\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./CommentTextarea.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.comment-textarea{position:relative}.comment-textarea .ql-toolbar{display:none}.comment-textarea .ql-container{border:none}.comment-textarea .ql-container .ql-editor{width:100%;padding:4px 6px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);resize:none;overflow:hidden;box-sizing:border-box}.comment-textarea .ql-container .ql-editor:focus{outline:none;border:1px solid var(--focus-border)}.comment-textarea .ql-container .ql-editor.ql-blank:before{inset-inline-start:8px;list-style-type:none;font-style:normal;color:var(--placeholder-text)}.comment-textarea .ql-container .ql-editor p{margin:0;word-break:break-word}.comment-textarea .ql-container .ql-editor ul>li:before{content:none!important}.comment-textarea .ql-container.ql-snow{border:none}.comment-textarea .ql-container.ql-snow:focus{outline:var(--focus-visible-outline);border-radius:4px}.comment-textarea .add-attachment{position:absolute;inset-block-end:2px;inset-inline-end:2px;width:24px;height:24px}.comment-textarea .add-attachment:hover{background-color:var(--blue-1)}.comment-textarea .add-attachment .Icon{padding:3px}.ql-editor ul>li:before{content:none!important}.mention__element{width:170px;z-index:9001!important;max-height:200px;overflow-y:auto;overflow-y:overlay;overflow-x:hidden;background-color:var(--component-background);border:1px solid var(--border);border-radius:4px}.mention__suggestions__list{width:100%;font-size:14px;margin-top:0;padding-inline-start:0!important;list-style:none;word-wrap:break-word;border-radius:4px}.mention__suggestions__item{background-color:var(--component-background);white-space:nowrap;margin-inline-start:0;padding-inline-start:0;text-overflow:clip;padding:7px 5px 1px!important;margin:0;width:100%;cursor:pointer}.mention__suggestions__item .email{margin-top:2px;font-size:12px;white-space:normal;color:var(--faded-text)}.mention__suggestions__item.selected{background-color:var(--view-header-button-active)!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./NotePopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NotePopup .options.modular-ui .option:hover{cursor:pointer;background:var(--primary-button-hover);color:var(--gray-0)}.NotePopup{flex-grow:0;display:flex;justify-content:flex-end;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:28px;height:28px;position:relative}.NotePopup .Button.overflow{width:28px;height:28px;border-radius:4px;display:flex;justify-content:center;align-items:center}.NotePopup .Button.overflow .Icon{width:24px;height:24px}.NotePopup .Button.overflow:hover{background:var(--blue-1)}.NotePopup .Button.overflow.active{background:var(--popup-button-active)}.NotePopup .options{display:flex;flex-direction:column;box-shadow:0 0 3px 0 var(--box-shadow);z-index:80;position:absolute;border-radius:4px;background:var(--component-background);inset-block-start:40px;width:-moz-max-content;width:max-content}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NotePopup .options{inset-inline-end:0}}.NotePopup .options .note-popup-option{padding:0;border:none;background-color:transparent;align-items:flex-start}:host(:not([data-tabbing=true])) .NotePopup .options .note-popup-option,html:not([data-tabbing=true]) .NotePopup .options .note-popup-option{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .options .note-popup-option{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .options .note-popup-option{font-size:13px}}.NotePopup .options.options-reply{inset-block-start:30px}.NotePopup .options .option{display:flex;flex-direction:column;justify-content:center;height:28px;padding-inline-start:8px;padding-inline-end:17px;border-radius:0}.NotePopup .options .option:hover{background-color:var(--popup-button-hover)}.NotePopup .options .option:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.NotePopup .options .option:last-child{border-bottom-right-radius:4px}.NotePopup .Button{height:28px}.NotePopup .Button.active{background:var(--popup-button-active)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NotePopup .Button.note-popup-toggle-trigger{width:28px;height:28px}}.NotePopupFlyout{min-width:unset!important;max-width:unset!important}.NotePopupFlyout .flyout-item-container{height:unset!important;margin:unset!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./NoteHeader.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NoteHeader{padding-inline-end:12px;position:relative;flex:1;color:var(--text-color);display:flex}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NoteHeader{flex:none}}.NoteHeader .type-icon{margin:2px;width:24px;height:24px}.NoteHeader .type-icon-container{padding-inline-end:13px}.NoteHeader .type-icon-container .unread-notification{position:absolute;width:13px;height:13px;inset-inline-end:-2px;inset-block-start:-2px;border-radius:10000px;border:2px solid var(--component-background);background:#00a5e4}.NoteHeader .author-and-date{flex:1;min-width:0;position:relative}.NoteHeader .author-and-date.isReply{padding-inline-start:0;padding-top:0;font-size:10px}.NoteHeader .author-and-date .author-and-overflow{display:flex;justify-content:space-between}.NoteHeader .author-and-date .author-and-overflow .author-and-time{display:flex;flex-direction:column;word-break:break-word}.NoteHeader .author-and-date .author-and-overflow .author-and-time .author{font-weight:700;font-size:13px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies{display:flex}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px;color:var(--faded-text)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .date-and-time{font-size:10px}}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container{display:flex;flex-grow:1;padding-inline-start:10px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-reply-icon{height:12px;width:12px}.NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:10px;color:var(--gray-7)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteHeader .author-and-date .author-and-overflow .author-and-time .date-and-num-replies .num-replies-container .num-replies{font-size:12px}}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow{display:flex;flex:1;justify-content:flex-end}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow>*{pointer-events:auto}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper .tracked-change-icon{margin:2px;width:24px;height:24px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.accept{background-color:#d5f5ca}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .tracked-change-icon-wrapper:hover.reject{background-color:#ffe8e8}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button{width:28px;height:28px;margin:0 8px 0 13px}.NoteHeader .author-and-date .author-and-overflow .state-and-overflow .ToggleElementButton button .Icon{width:20px;height:20px}.NoteHeader .author-name{font-weight:700}.NoteHeader .note-popup-toggle-trigger{padding:0;margin-inline-end:0!important;margin-inline-start:0!important;min-width:28px!important}.NoteHeader .note-popup-toggle-trigger .Icon{width:24px!important;height:24px!important}.parent{padding-inline-start:12px;padding-top:12px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ReplyAttachmentList.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".reply-attachment-list{display:flex;flex-direction:column;cursor:default}.reply-attachment-list .reply-attachment{background-color:var(--gray-1);border-radius:4px;cursor:pointer;pointer-events:auto}.reply-attachment-list .reply-attachment:not(:last-child){margin-bottom:8px}.reply-attachment-list .reply-attachment .reply-attachment-preview{width:100%;max-height:80px;display:flex;justify-content:center}.reply-attachment-list .reply-attachment .reply-attachment-preview.dirty{position:relative;margin-bottom:15px}.reply-attachment-list .reply-attachment .reply-attachment-preview img{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.reply-attachment-list .reply-attachment .reply-attachment-preview .reply-attachment-preview-message{font-size:11px;color:var(--error-text-color);position:absolute;inset-block-end:-15px;inset-inline-start:10px}.reply-attachment-list .reply-attachment .reply-attachment-info{display:flex;align-items:center;height:40px;padding:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-attachment-icon{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .reply-file-name{height:16px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-inline-start:8px;margin-inline-end:8px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button{height:24px;min-height:24px;width:24px;min-width:24px}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button:hover{background-color:var(--blue-1)}.reply-attachment-list .reply-attachment .reply-attachment-info .attachment-button .Icon{height:16px;width:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./NoteContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled span{color:var(--primary-button-text)}.NoteContent{--note-content-right-padding-width:12px;position:relative;display:flex;flex-direction:column;align-items:left;flex:1;color:var(--text-color);padding-bottom:12px;pointer-events:none}.NoteContent.isReply{padding-bottom:0}.NoteContent.unread.isReply{background:rgba(0,165,228,.08)}.NoteContent.unread.clicked .author-and-time span{font-weight:400}.NoteContent.unread .author-and-time span{font-weight:700}.NoteContent .container{margin-top:8px;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text;cursor:text;padding-inline-start:52px;padding-inline-end:var(--note-content-right-padding-width)}.NoteContent .container>*{pointer-events:all}.NoteContent .container-reply{margin-top:8px;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text;cursor:text}.NoteContent .edit-content{margin-top:7px;display:flex;flex-direction:column;position:relative;flex:1;padding-inline-start:52px;padding-inline-end:12px;padding-bottom:12px;pointer-events:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.NoteContent .edit-content{flex:none}}.NoteContent .edit-content textarea{width:100%;padding-inline-start:8px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding-top:4px;padding-bottom:4px;resize:none;overflow:hidden;box-sizing:border-box}.NoteContent .edit-content textarea:focus{outline:none;border:1px solid var(--focus-border)}.NoteContent .edit-content textarea::-moz-placeholder{color:var(--placeholder-text)}.NoteContent .edit-content textarea::placeholder{color:var(--placeholder-text)}.NoteContent .edit-content .edit-buttons{display:flex;flex-direction:row;justify-content:flex-end;margin-top:8px}.NoteContent .edit-content .edit-buttons>div{margin-inline-end:4px}.NoteContent .edit-content .edit-buttons .save-button{background-color:transparent;cursor:pointer;flex-shrink:0;background:var(--primary-button);border-radius:4px;width:-moz-fit-content;width:fit-content;border:none;height:28px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);padding:0 13px}:host(:not([data-tabbing=true])) .NoteContent .edit-content .edit-buttons .save-button,html:not([data-tabbing=true]) .NoteContent .edit-content .edit-buttons .save-button{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteContent .edit-content .edit-buttons .save-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteContent .edit-content .edit-buttons .save-button{font-size:13px}}.NoteContent .edit-content .edit-buttons .save-button:hover{background:var(--primary-button-hover);color:var(--primary-button-text)}.NoteContent .edit-content .edit-buttons .save-button.disabled{background:var(--gray-6)!important;border-color:var(--gray-6)!important;cursor:not-allowed}.NoteContent .edit-content .edit-buttons .save-button.disabled span{color:var(--primary-button-text)}.NoteContent .edit-content .edit-buttons .cancel-button{border:none;background-color:transparent;color:var(--secondary-button-text);padding:0 10px;width:-moz-fit-content;width:fit-content;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-inline-end:2px}:host(:not([data-tabbing=true])) .NoteContent .edit-content .edit-buttons .cancel-button,html:not([data-tabbing=true]) .NoteContent .edit-content .edit-buttons .cancel-button{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .NoteContent .edit-content .edit-buttons .cancel-button{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .NoteContent .edit-content .edit-buttons .cancel-button{font-size:13px}}.NoteContent .edit-content .edit-buttons .cancel-button:hover{color:var(--secondary-button-hover)}.NoteContent .reply-content{padding-inline-start:0}.NoteContent .contents{white-space:pre-wrap;color:var(--text-color);margin-inline-end:5px;padding:0;word-break:normal;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;user-select:text}.NoteContent .contents .highlight{background:#fffc95;color:#333}.NoteContent .highlight{background:#fffc95}.NoteContent .selected-text-preview{padding-inline-start:52px;padding-top:8px;pointer-events:auto}.NoteContent .reply-attachment-list{margin-bottom:8px}.NoteContent.modular-ui .highlight{font-weight:700;color:var(--blue-5);background:none}.NoteContent.modular-ui .edit-content .edit-buttons .save-button.disabled{border:none}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./ReplyArea.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.reply-area-container{border-top:1px solid var(--divider);display:flex;flex-direction:column;margin-bottom:0}.reply-area-container .reply-attachment-list{margin:12px 12px 0}.reply-area-container .reply-area-with-button{display:flex}.reply-area-container .reply-area-with-button .reply-area{position:relative;flex:1;margin:12px 17px 12px 12px;border-radius:4px;align-items:center}.reply-area-container .reply-area-with-button .reply-area.unread{background:rgba(0,165,228,.08)}.reply-area-container .reply-area-with-button .reply-area .comment-textarea .ql-container .ql-editor.ql-blank{padding:4px}.reply-area-container .reply-area-with-button .reply-area .comment-textarea .ql-container .ql-editor.ql-blank:before{inset-inline-start:4px}.reply-area-container .reply-area-with-button .reply-button-container{display:flex;flex-direction:column;justify-content:flex-end}.reply-area-container .reply-area-with-button .reply-button-container .reply-button{width:28px;height:28px;padding:0;border:none;background-color:transparent;inset-inline-end:10px;inset-block-end:12px}:host(:not([data-tabbing=true])) .reply-area-container .reply-area-with-button .reply-button-container .reply-button,html:not([data-tabbing=true]) .reply-area-container .reply-area-with-button .reply-button-container .reply-button{outline:none}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.reply-area-container .reply-area-with-button .reply-button-container .reply-button{width:80px}}.reply-area-container .reply-area-with-button .reply-button-container .reply-button:hover{background:var(--blue-1)}.reply-area-container .reply-area-with-button .reply-button-container .reply-button.disabled{cursor:not-allowed}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./AnnotationNoteConnectorLine.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}@media print{#line-connector-root{opacity:0}}#line-connector-root{position:relative;z-index:69}.horizontalLine{height:2px}.horizontalLine,.verticalLine{background-color:rgba(30,120,235,.5);position:fixed}.verticalLine{width:2px}.arrowHead{position:absolute;inset-block-start:0;inset-inline-start:0;margin:auto;width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-inline-end:7px solid rgba(30,120,235,.5);transform:translateX(-100%) translateY(-50%) translateY(1px)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Note.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Note{padding:0;border:none;background-color:transparent;display:block;text-align:start;border-radius:4px;box-shadow:0 0 3px 0 var(--note-box-shadow);margin-bottom:8px;margin-inline-start:2px;background:var(--component-background);cursor:pointer;position:relative}:host(:not([data-tabbing=true])) .Note,html:not([data-tabbing=true]) .Note{outline:none}.Note.unread{border:1.2px solid #00a5e4}.Note.expanded{box-shadow:0 4px 16px var(--note-box-shadow-expanded),0 0 4px 0 var(--note-box-shadow)}.Note.is-multi-selected{box-shadow:0 4px 16px rgba(134,142,150,.24),0 0 4px 0 var(--note-box-shadow)}.Note.disabled{opacity:.5;pointer-events:none}.Note .note-button{position:absolute;width:100%;height:100%;inset-block-start:0;inset-inline-start:0}.Note .mark-all-read-button{background:#00a5e4;text-align:center;color:#fff;height:16px;font-size:12px;width:100%;border-radius:0}.Note .divider{height:1px;width:100%;background:var(--divider)}.Note .reply-divider{background:var(--reply-divider);height:1px;width:100%}.Note .replies{margin-inline-start:52px;padding-bottom:12px}.Note .reply{padding-inline-start:12px;padding-bottom:24px;border-inline-start:1px solid var(--reply-divider)}.Note .reply:last-of-type{padding-bottom:0}.Note .group-section{margin-inline-start:52px;padding-bottom:12px;display:flex;flex-direction:column;grid-row-gap:4px;row-gap:4px;padding-inline-end:12px}.Note .group-section.modular-ui .group-child:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);background:var(--faded-component-background);border-radius:4px}.Note .text-button{color:var(--secondary-button-text);display:flex;position:relative;width:auto;height:auto;flex-direction:row-reverse;justify-content:flex-end}.Note .text-button .Icon{color:var(--secondary-button-text);height:18px;width:18px}.Note .group-child{position:relative;width:auto;height:auto;display:block;text-align:start;padding-top:4px;padding-bottom:4px}.Note .group-child:hover{background:var(--view-header-button-hover)}.Note .group-child .NoteContent{padding-bottom:0}.Note:focus{outline:none}.Note.focus-visible,.Note:focus-visible{outline:var(--focus-visible-outline)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\n\nconst ReplyAttachmentPicker = ({ annotationId, addAttachments }) => {\n  const replyAttachmentHandler = useSelector((state) => selectors.getReplyAttachmentHandler(state));\n\n  const onChange = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      let attachment = file;\n      if (replyAttachmentHandler) {\n        const url = await replyAttachmentHandler(file);\n        attachment = {\n          url,\n          name: file.name,\n          size: file.size,\n          type: file.type\n        };\n      }\n      addAttachments(annotationId, [attachment]);\n    }\n  };\n\n  return (\n    <input\n      id=\"reply-attachment-picker\"\n      type=\"file\"\n      style={{ display: 'none' }}\n      onChange={onChange}\n      onClick={(e) => {\n        e.target.value = '';\n      }}\n    />\n  );\n};\n\nexport default ReplyAttachmentPicker;\n","import React, { useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport selectors from 'selectors';\nimport DataElements from 'src/constants/dataElement';\nimport actions from 'actions';\nimport './NotePopup.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ToggleElementButton from 'components/ModularComponents/ToggleElementButton';\n\nconst createFlyoutItem = (option, icon, dataElement) => ({\n  icon,\n  label: `action.${option.toLowerCase()}`,\n  title: `action.${option.toLowerCase()}`,\n  option,\n  dataElement,\n});\n\nexport const notePopupFlyoutItems = [\n  createFlyoutItem('Edit', '', 'notePopupEdit'),\n  createFlyoutItem('Delete', '', 'notePopupDelete'),\n];\n\nconst propTypes = {\n  handleEdit: PropTypes.func,\n  handleDelete: PropTypes.func,\n  isEditable: PropTypes.bool,\n  isDeletable: PropTypes.bool,\n  noteId: PropTypes.string,\n};\n\nfunction noop() { }\n\nfunction NotePopup(props) {\n  const {\n    handleEdit = noop,\n    handleDelete = noop,\n    isEditable,\n    isDeletable,\n    isReply,\n    noteId,\n  } = props;\n\n  const customizableUI = useSelector((state) => selectors.getFeatureFlags(state)?.customizableUI);\n  const flyoutSelector = `${DataElements.NOTE_POPUP_FLYOUT}-${noteId}`;\n  const [t] = useTranslation();\n\n  const handleClick = (selection) => {\n    if (selection === 'Edit') {\n      handleEdit();\n    } else if (selection === 'Delete') {\n      handleDelete();\n    }\n  };\n\n  if (!isEditable && !isDeletable) {\n    return null;\n  }\n\n  const notePopupButtonClass = classNames('overflow note-popup-toggle-trigger');\n  const optionsClass = classNames('NotePopup options note-popup-options', { 'options-reply': isReply, 'modular-ui': customizableUI });\n  return (\n    <div className={optionsClass}>\n      <ToggleElementButton\n        dataElement={`notePopup-${noteId}`}\n        className={notePopupButtonClass}\n        img=\"icon-tools-more\"\n        title={t('formField.formFieldPopup.options')}\n        toggleElement={flyoutSelector}\n        disabled={false}\n      />\n      <NotePopupFlyout\n        flyoutSelector={flyoutSelector}\n        handleClick={handleClick}\n        isEditable={isEditable}\n        isDeletable={isDeletable}\n      />\n    </div>\n  );\n}\n\n\nconst NotePopupFlyout = ({\n  flyoutSelector,\n  handleClick,\n  isEditable,\n  isDeletable,\n}) => {\n  const dispatch = useDispatch();\n  const currentFlyout = useSelector((state) => selectors.getFlyout(state, flyoutSelector));\n  const [t] = useTranslation();\n\n  useLayoutEffect(() => {\n    let items = notePopupFlyoutItems;\n    if (!isEditable) {\n      items = items.filter((item) => item.option !== 'Edit');\n    } else if (!isDeletable) {\n      items = items.filter((item) => item.option !== 'Delete');\n    }\n\n    const notePopupFlyout = {\n      dataElement: flyoutSelector,\n      className: 'NotePopupFlyout',\n      items: items.map((item) => {\n        return {\n          ...item,\n          label: t(item.label),\n          title: t(item.title),\n          onClick: () => handleClick(item.option),\n        };\n      }),\n    };\n\n    if (!currentFlyout) {\n      dispatch(actions.addFlyout(notePopupFlyout));\n    } else {\n      dispatch(actions.updateFlyout(notePopupFlyout.dataElement, notePopupFlyout));\n    }\n  }, [isEditable, isDeletable]);\n\n  return null;\n};\n\nNotePopupFlyout.propTypes = {\n  flyoutSelector: PropTypes.string,\n  handleClick: PropTypes.func,\n  isEditable: PropTypes.bool,\n  isDeletable: PropTypes.bool,\n};\n\nNotePopup.propTypes = propTypes;\n\nexport default NotePopup;\n","import React from 'react';\nimport core from 'core';\nimport NotePopup from './NotePopup';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\n\nfunction NotePopupContainer(props) {\n  const [\n    activeDocumentViewerKey,\n  ] = useSelector((state) => [\n    selectors.getActiveDocumentViewerKey(state),\n  ]);\n  const { annotation, setIsEditing, noteIndex } = props;\n\n  const [canModify, setCanModify] = React.useState(core.canModify(annotation));\n  const [canModifyContents, setCanModifyContents] = React.useState(core.canModifyContents(annotation));\n\n  React.useEffect(() => {\n    function onUpdateAnnotationPermission() {\n      setCanModify(core.canModify(annotation, activeDocumentViewerKey));\n      setCanModifyContents(core.canModifyContents(annotation, activeDocumentViewerKey));\n    }\n\n    onUpdateAnnotationPermission();\n    core.addEventListener('updateAnnotationPermission', onUpdateAnnotationPermission, undefined, activeDocumentViewerKey);\n    return () => core.removeEventListener('updateAnnotationPermission', onUpdateAnnotationPermission, activeDocumentViewerKey);\n  }, [annotation, activeDocumentViewerKey]);\n\n  const handleEdit = React.useCallback(() => {\n    const isFreeText = annotation instanceof window.Core.Annotations.FreeTextAnnotation;\n    if (isFreeText && core.getAnnotationManager(activeDocumentViewerKey).isFreeTextEditingEnabled()) {\n      core.getAnnotationManager(activeDocumentViewerKey).trigger('annotationDoubleClicked', annotation);\n    } else {\n      setIsEditing(true, noteIndex);\n    }\n  }, [annotation, setIsEditing, noteIndex]);\n\n  const handleDelete = React.useCallback(() => {\n    core.deleteAnnotations([annotation, ...annotation.getGroupedChildren()], undefined, activeDocumentViewerKey);\n  }, [annotation]);\n\n  const isEditable = canModifyContents;\n  const isDeletable = canModify && !annotation?.NoDelete;\n  const noteId = (annotation) ? annotation.Id : '';\n\n  const passProps = {\n    handleEdit,\n    handleDelete,\n    isEditable,\n    isDeletable,\n    noteId,\n  };\n\n  return (\n    <NotePopup {...props} {...passProps} />\n  );\n}\n\nexport default NotePopupContainer;\n","import NotePopupContainer from './NotePopupContainer';\n\nexport default NotePopupContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport NoteStateFlyout from 'components/ModularComponents/NoteStateFlyout';\nimport ToggleElementButton from 'components/ModularComponents/ToggleElementButton';\nimport DataElements from 'constants/dataElement';\n\nconst propTypes = {\n  annotation: PropTypes.object.isRequired,\n  handleStateChange: PropTypes.func\n};\n\nfunction NoteState(props) {\n  const {\n    annotation,\n    handleStateChange = () => { },\n  } = props;\n\n  const [t] = useTranslation();\n\n  const annotationState = annotation.getStatus();\n  const icon = `icon-annotation-status-${annotationState === '' ? 'none' : annotationState.toLowerCase()}`;\n  const id = annotation.Id;\n\n  return (\n    <>\n      <ToggleElementButton\n        dataElement={`noteState-${id}`}\n        title={t('option.notesOrder.status')}\n        img={icon}\n        toggleElement={`${DataElements.NOTE_STATE_FLYOUT}-${id}`}\n      />\n      <NoteStateFlyout\n        noteId={id}\n        handleStateChange={handleStateChange}\n      />\n    </>\n  );\n}\n\nNoteState.propTypes = propTypes;\n\nexport default NoteState;","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport core from 'core';\n\nimport NoteState from './NoteState';\nimport { createStateAnnotation } from 'helpers/NoteStateUtils';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport useFocusOnClose from 'hooks/useFocusOnClose';\n\nconst propTypes = {\n  annotation: PropTypes.object,\n};\n\nfunction NoteStateContainer(props) {\n  const activeDocumentViewerKey = useSelector((state) => selectors.getActiveDocumentViewerKey(state));\n  const isNoteStateDisabled = useSelector((state) => selectors.isElementDisabled(state, 'noteState'));\n\n  const { annotation } = props;\n\n  const handleStateChange = useFocusOnClose(useCallback(function handleStateChangeCallback(newValue) {\n    const stateAnnotation = createStateAnnotation(annotation, newValue, activeDocumentViewerKey);\n    annotation.addReply(stateAnnotation);\n    const annotationManager = core.getAnnotationManager(activeDocumentViewerKey);\n    annotationManager.addAnnotation(stateAnnotation);\n    annotationManager.trigger('addReply', [stateAnnotation, annotation, annotationManager.getRootAnnotation(annotation)]);\n  }, [annotation, activeDocumentViewerKey]));\n\n  return (!isNoteStateDisabled &&\n    <div>\n      <NoteState handleStateChange={handleStateChange} {...props} />\n    </div>\n  );\n}\n\nNoteStateContainer.propTypes = propTypes;\nexport default NoteStateContainer;\n","import NoteStateContainer from './NoteStateContainer';\n\nexport default NoteStateContainer;\n","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Tooltip from 'components/Tooltip';\nimport Icon from 'components/Icon';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  annotationId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  pendingEditTextMap: PropTypes.object,\n  pendingReplyMap: PropTypes.object,\n  pendingAttachmentMap: PropTypes.object,\n};\n\nconst NoteUnpostedCommentIndicator = ({ annotationId, ariaLabel, pendingEditTextMap, pendingReplyMap, pendingAttachmentMap }) => {\n  const { t } = useTranslation();\n  const [hasUnpostedComment, setHasUnpostedComment] = useState(false);\n  const [hasUnpostedReply, setHasUnpostedReply] = useState(false);\n  const [hasUnpostedAttachment, setHasUnpostedAttachment] = useState(false);\n\n  useEffect(() => {\n    setHasUnpostedComment(pendingEditTextMap[annotationId]?.length > 0);\n    setHasUnpostedReply(pendingReplyMap[annotationId]?.length > 0);\n    setHasUnpostedAttachment(pendingAttachmentMap[annotationId]?.length > 0);\n  }, [pendingEditTextMap, pendingReplyMap, pendingAttachmentMap]);\n\n  return (\n    (hasUnpostedComment || hasUnpostedReply || hasUnpostedAttachment) ?\n      <div data-element=\"unpostedCommentIndicator\">\n        <Tooltip content={t('message.unpostedComment')}>\n          <div>\n            <Icon className=\"type-icon\" glyph={'icon-unposted-comment'} ariaLabel={ariaLabel}/>\n          </div>\n        </Tooltip>\n      </div> :\n      null\n  );\n};\n\nNoteUnpostedCommentIndicator.propTypes = propTypes;\n\nexport default NoteUnpostedCommentIndicator;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport NoteContext from 'components/Note/Context';\nimport NoteUnpostedCommentIndicator from './NoteUnpostedCommentIndicator';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  annotationId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n};\n\nconst NoteUnpostedCommentIndicatorContainer = ({ annotationId, ariaLabel }) => {\n  const isDisabled = useSelector((state) => selectors.isElementDisabled(state, 'unpostedCommentIndicator'));\n  const { pendingEditTextMap, pendingReplyMap, pendingAttachmentMap } = React.useContext(NoteContext);\n\n  if (isDisabled) {\n    return null;\n  }\n  return (\n    <NoteUnpostedCommentIndicator\n      annotationId={annotationId}\n      ariaLabel={ariaLabel}\n      pendingEditTextMap={pendingEditTextMap}\n      pendingReplyMap={pendingReplyMap}\n      pendingAttachmentMap={pendingAttachmentMap}\n    />);\n};\n\nNoteUnpostedCommentIndicatorContainer.propTypes = propTypes;\n\nexport default NoteUnpostedCommentIndicatorContainer;","import NoteUnpostedCommentIndicatorContainer from './NoteUnpostedCommentIndicatorContainer';\n\nexport default NoteUnpostedCommentIndicatorContainer;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NotePopup from 'components/NotePopup';\nimport NoteState from 'components/NoteState';\nimport Icon from 'components/Icon';\nimport NoteUnpostedCommentIndicator from 'components/NoteUnpostedCommentIndicator';\nimport Choice from 'components/Choice';\nimport Button from 'components/Button';\n\nimport getLatestActivityDate from 'helpers/getLatestActivityDate';\nimport getColor from 'helpers/getColor';\nimport { isDarkColorHex, isLightColorHex } from 'helpers/color';\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport core from 'core';\nimport { NotesPanelSortStrategy } from 'constants/sortStrategies';\nimport Theme from 'constants/theme';\nimport { OFFICE_EDITOR_TRACKED_CHANGE_KEY } from 'constants/officeEditor';\nimport { COMMON_COLORS } from 'constants/commonColors';\n\nimport './NoteHeader.scss';\n\nconst propTypes = {\n  icon: PropTypes.string,\n  iconColor: PropTypes.string,\n  color: PropTypes.string,\n  fillColor: PropTypes.string,\n  annotation: PropTypes.object,\n  language: PropTypes.string,\n  noteDateFormat: PropTypes.string,\n  isSelected: PropTypes.bool,\n  setIsEditing: PropTypes.func,\n  notesShowLastUpdatedDate: PropTypes.bool,\n  isUnread: PropTypes.bool,\n  renderAuthorName: PropTypes.func,\n  isNoteStateDisabled: PropTypes.bool,\n  isEditing: PropTypes.bool,\n  noteIndex: PropTypes.number,\n  sortStrategy: PropTypes.string,\n  activeTheme: PropTypes.string,\n  isMultiSelected: PropTypes.bool,\n  isMultiSelectMode: PropTypes.bool,\n  handleMultiSelect: PropTypes.func,\n  isGroupMember: PropTypes.bool,\n  showAnnotationNumbering: PropTypes.bool,\n  isTrackedChange: PropTypes.bool,\n};\n\nfunction NoteHeader(props) {\n  const {\n    icon,\n    iconColor,\n    annotation,\n    language,\n    noteDateFormat,\n    isSelected,\n    setIsEditing,\n    notesShowLastUpdatedDate,\n    isReply,\n    isUnread,\n    renderAuthorName,\n    isNoteStateDisabled,\n    isEditing,\n    noteIndex,\n    sortStrategy,\n    activeTheme,\n    isMultiSelected,\n    isMultiSelectMode,\n    handleMultiSelect,\n    isGroupMember,\n    showAnnotationNumbering,\n    timezone,\n    isTrackedChange,\n  } = props;\n\n  const [t] = useTranslation();\n\n  let date;\n  const dateCreated = (sortStrategy === NotesPanelSortStrategy.MODIFIED_DATE || (notesShowLastUpdatedDate && sortStrategy !== NotesPanelSortStrategy.CREATED_DATE)) ? getLatestActivityDate(annotation) : annotation.DateCreated;\n  if (timezone && dateCreated) {\n    const datetimeStr = dateCreated.toLocaleString('en-US', { timeZone: timezone });\n    date = new Date(datetimeStr);\n  } else {\n    date = dateCreated;\n  }\n\n  const noteDateAndTime = date ? dayjs(date).locale(language).format(noteDateFormat) : t('option.notesPanel.noteContent.noDate');\n\n  const numberOfReplies = annotation.getReplies().length;\n  let color = annotation[iconColor]?.toHexString?.();\n\n  if (activeTheme === Theme.DARK && color && isDarkColorHex(color)) {\n    color = COMMON_COLORS['white'];\n  } else if (activeTheme === Theme.LIGHT && color && isLightColorHex(color)) {\n    color = COMMON_COLORS['black'];\n  }\n\n  const fillColor = getColor(annotation.FillColor);\n  const annotationAssociatedNumber = annotation.getAssociatedNumber();\n  const annotationDisplayedAssociatedNumber = `#${annotationAssociatedNumber} - `;\n\n  const authorAndDateClass = classNames('author-and-date', { isReply });\n  const noteHeaderClass = classNames('NoteHeader', { parent: !isReply && !isGroupMember });\n\n  const acceptTrackedChange = (trackedChangeAnnot) => {\n    const trackedChangeId = trackedChangeAnnot.getCustomData(OFFICE_EDITOR_TRACKED_CHANGE_KEY);\n    core.getOfficeEditor().acceptTrackedChange(trackedChangeId);\n  };\n  const rejectTrackedChange = (trackedChangeAnnot) => {\n    const trackedChangeId = trackedChangeAnnot.getCustomData(OFFICE_EDITOR_TRACKED_CHANGE_KEY);\n    core.getOfficeEditor().rejectTrackedChange(trackedChangeId);\n  };\n\n  return (\n    <div className={noteHeaderClass}>\n      {!isReply &&\n        <div className=\"type-icon-container\">\n          {isUnread &&\n            <div className=\"unread-notification\"></div>\n          }\n          <Icon className=\"type-icon\" glyph={icon} color={color} fillColor={fillColor} />\n        </div>\n      }\n      <div className={authorAndDateClass}>\n        <div className=\"author-and-overflow\">\n          <div className=\"author-and-time\">\n            <div className=\"author\">\n              {showAnnotationNumbering && annotationAssociatedNumber !== undefined &&\n                <span className=\"annotation-number\">{annotationDisplayedAssociatedNumber}</span>\n              }\n              {renderAuthorName(annotation)}\n            </div>\n            <div className=\"date-and-num-replies\">\n              <div className=\"date-and-time\">\n                {noteDateAndTime}\n                {isGroupMember && ` (Page ${annotation.PageNumber})`}\n              </div>\n              {numberOfReplies > 0 && !isSelected &&\n                <div className=\"num-replies-container\">\n                  <Icon className=\"num-reply-icon\" glyph='icon-chat-bubble' />\n                  <div className=\"num-replies\">{numberOfReplies}</div>\n                </div>}\n            </div>\n          </div>\n          <div className=\"state-and-overflow\">\n            {isMultiSelectMode && !isGroupMember && !isReply &&\n              <Choice\n                id={`note-multi-select-toggle_${annotation.Id}`}\n                aria-label={`${renderAuthorName(annotation)} ${t('option.notesPanel.toggleMultiSelect')}`}\n                checked={isMultiSelected}\n                onClick={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  handleMultiSelect(!isMultiSelected);\n                }}\n              />\n            }\n            <NoteUnpostedCommentIndicator\n              annotationId={annotation.Id}\n              ariaLabel={`Unposted Comment, ${renderAuthorName(annotation)}, ${noteDateAndTime}`}\n            />\n            {!isNoteStateDisabled && !isReply && !isMultiSelectMode && !isGroupMember && !isTrackedChange &&\n              <NoteState\n                annotation={annotation}\n                isSelected={isSelected}\n              />\n            }\n            {!isEditing && isSelected && !isMultiSelectMode && !isGroupMember && !isTrackedChange &&\n              <NotePopup\n                noteIndex={noteIndex}\n                annotation={annotation}\n                setIsEditing={setIsEditing}\n                isReply={isReply}\n              />\n            }\n            {isSelected && isTrackedChange && !isMultiSelectMode &&\n              <>\n                <Button\n                  title={t('officeEditor.accept')}\n                  img={'icon-menu-checkmark'}\n                  className=\"tracked-change-icon-wrapper accept\"\n                  onClick={() => acceptTrackedChange(annotation)}\n                  iconClassName=\"tracked-change-icon\"\n                />\n                <Button\n                  title={t('officeEditor.reject')}\n                  img={'icon-close'}\n                  className=\"tracked-change-icon-wrapper reject\"\n                  onClick={() => rejectTrackedChange(annotation)}\n                  iconClassName=\"tracked-change-icon\"\n                />\n              </>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nNoteHeader.propTypes = propTypes;\n\nexport default NoteHeader;\n","import NoteHeader from './NoteHeader';\n\nexport default NoteHeader;","import React from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport selectors from 'selectors';\nimport NoteTextPreview from './NoteTextPreview';\n\nfunction NoteTextPreviewContainer(props) {\n  const [notePanelWidth] = useSelector(\n    (state) => [\n      selectors.getNotesPanelWidth(state),\n    ],\n    shallowEqual,\n  );\n\n  return (\n    <NoteTextPreview {...props} panelWidth={notePanelWidth} />\n  );\n}\n\nexport default NoteTextPreviewContainer;\n","import NoteTextPreviewContainer from './NoteTextPreviewContainer';\n\nexport default NoteTextPreviewContainer;","const icons = {\n  pdf: 'ic-file-pdf',\n  image: 'ic-file-img',\n  cad: 'ic-file-cad',\n  doc: 'ic-file-doc',\n  ppt: 'ic-file-ppt',\n  xls: 'ic-file-xls',\n  unknown: 'ic-file-etc'\n};\n\nconst FileAttachmentUtils = window.Core.Annotations.FileAttachmentUtils;\n\nexport async function decompressFileContent(file) {\n  return FileAttachmentUtils.decompressWithFlateDecode(file.content, file.type);\n}\n\nexport async function setAnnotationAttachments(annotation, files = []) {\n  await annotation.setAttachments(files);\n}\n\nexport function isImage(file) {\n  if (file.type && file.type.startsWith('image/')) {\n    return true;\n  }\n  return false;\n}\n\nexport function getAttachmentIcon(file) {\n  if (isImage(file)) {\n    return icons.image;\n  }\n  const extension = file.name?.split('.').pop().toLowerCase();\n  switch (extension) {\n    case 'pdf':\n      return icons.pdf;\n    case 'cad':\n      return icons.cad;\n    case 'doc':\n    case 'docx':\n      return icons.doc;\n    case 'ppt':\n    case 'pptx':\n      return icons.ppt;\n    case 'xls':\n    case 'xlsx':\n      return icons.xls;\n    default:\n      return icons.unknown;\n  }\n}\n","import DOMPurify from 'dompurify';\n\nconst SVG_MIME_TYPE = 'image/svg+xml';\n\nconst hasFileSize = (file) => {\n  return file.size !== undefined;\n};\n\n// Taken from https://github.com/mattkrick/sanitize-svg/blob/master/src/sanitizeSVG.ts#L31\nconst readAsText = (svg) => {\n  return new Promise((resolve) => {\n    if (!hasFileSize(svg)) {\n      resolve(svg.toString('utf-8'));\n    } else {\n      const fileReader = new FileReader();\n      fileReader.onload = () => resolve(fileReader.result);\n      fileReader.readAsText(svg);\n    }\n  });\n};\n\nexport const isSVG = (file) => {\n  return file.type === SVG_MIME_TYPE;\n};\n\nexport const sanitizeSVG = async (file) => {\n  const svgText = await readAsText(file);\n  if (!svgText) {\n    return { svg: file };\n  }\n\n  const forbiddenTags = [];\n  DOMPurify.addHook('uponSanitizeElement', (_, hookEvent) => {\n    const { tagName, allowedTags } = hookEvent;\n    if (!allowedTags[tagName]) {\n      forbiddenTags.push(tagName);\n    }\n  });\n\n  const clean = DOMPurify.sanitize(svgText);\n  const svg = new Blob([clean], { type: SVG_MIME_TYPE });\n  return { svg, isDirty: forbiddenTags.length > 0 };\n};","import React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport { saveAs } from 'file-saver';\nimport Button from 'components/Button';\nimport Icon from 'components/Icon';\nimport Tooltip from 'components/Tooltip';\nimport { getAttachmentIcon, isImage, decompressFileContent } from 'helpers/ReplyAttachmentManager';\nimport { isSVG, sanitizeSVG } from 'helpers/sanitizeSVG';\n\nimport './ReplyAttachmentList.scss';\n\nconst ImagePreview = ({ file }) => {\n  const [t] = useTranslation();\n\n  const [src, setSrc] = useState();\n  const [isDirtySVG, setIsDirtySvg] = useState(false);\n\n  useEffect(() => {\n    const processImagePreview = async () => {\n      setIsDirtySvg(false);\n      let fileToSanitize = file;\n\n      const isImageFromPDF = !(file instanceof File) && !file.url;\n      if (isImageFromPDF) {\n        fileToSanitize = await decompressFileContent(file);\n      }\n\n      if (file instanceof File || isImageFromPDF) {\n        if (isSVG(file)) {\n          const { svg, isDirty } = await sanitizeSVG(fileToSanitize);\n          setSrc(URL.createObjectURL(svg));\n          setIsDirtySvg(isDirty);\n        } else {\n          setSrc(URL.createObjectURL(fileToSanitize));\n        }\n      }\n    };\n    processImagePreview();\n  }, [file]);\n\n  return (\n    <div className={classNames({\n      'reply-attachment-preview': true,\n      'dirty': isDirtySVG,\n    })}>\n      <img src={src} />\n      {isDirtySVG && <span className=\"reply-attachment-preview-message\">{t('message.svgMalicious')}</span>}\n    </div>\n  );\n};\n\nconst ReplyAttachmentList = ({ files, isEditing, fileDeleted }) => {\n  const [tabManager, previewEnabled] = useSelector((state) => [\n    selectors.getTabManager(state),\n    selectors.isReplyAttachmentPreviewEnabled(state)\n  ]);\n  const [t] = useTranslation();\n\n  const onClick = async (e, file) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!tabManager) {\n      return console.warn('Can\\'t open attachment in non-multi-tab mode');\n    }\n\n    let fileData;\n    if (file instanceof File) {\n      fileData = file;\n    } else if (file.url) {\n      fileData = file.url;\n    } else {\n      fileData = await decompressFileContent(file);\n    }\n\n    fileData && tabManager.addTab(fileData, {\n      filename: file.name,\n      setActive: true,\n      saveCurrentActiveTabState: true\n    });\n  };\n\n  const onDelete = (e, file) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    fileDeleted(file);\n  };\n\n  const onDownload = async (e, file) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const fileData = file.url ? file.url : await decompressFileContent(file);\n    saveAs(fileData, file.name);\n  };\n\n  return (\n    <div className=\"reply-attachment-list\">\n      {files.map((file, i) => (\n        <div\n          className=\"reply-attachment\"\n          key={i}\n          onClick={(e) => onClick(e, file)}\n        >\n          {previewEnabled && isImage(file) && (\n            <ImagePreview file={file} />\n          )}\n          <div className=\"reply-attachment-info\">\n            <Icon\n              className=\"reply-attachment-icon\"\n              glyph={getAttachmentIcon(file)}\n            />\n            <Tooltip content={file.name}>\n              <div className=\"reply-file-name\">{file.name}</div>\n            </Tooltip>\n            {isEditing ? (\n              <Button\n                className=\"attachment-button\"\n                title={`${t('action.delete')} ${t('option.type.fileattachment')}`}\n                img='icon-close'\n                onClick={(e) => onDelete(e, file)}\n              />\n            ) : (\n              <Button\n                className=\"attachment-button\"\n                title={`${t('action.download')} ${t('option.type.fileattachment')}`}\n                img='icon-download'\n                onClick={(e) => onDownload(e, file)}\n              />\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ReplyAttachmentList;\n","import ReplyAttachmentList from './ReplyAttachmentList';\n\nexport default ReplyAttachmentList;","import mentionsManager from './MentionsManager';\n/*\n * Transforming RichText Style object into the Object acceptable by React Quill component.\n */\n\nconst setReactQuillContent = (annotation, editor) => {\n  const richTextStyle = annotation.getRichTextStyle();\n  const indexes = Object.keys(richTextStyle);\n  const formattedText = mentionsManager.getFormattedTextFromDeltas(editor.getContents());\n  const text = mentionsManager.extractMentionDataFromStr(formattedText).plainTextValue;\n  const ops = [];\n\n  for (let i = 0; i < indexes.length; i++) {\n    const element = richTextStyle[indexes[i]];\n    const attr = getAttributtes(element);\n\n    if (isNaN(indexes[i])) {\n      continue;\n    }\n\n    const lastIndex = isNaN(indexes[i + 1]) ? text.length : indexes[i + 1];\n    const textSlice = text.slice(indexes[i], lastIndex);\n\n    ops.push({ insert: textSlice, attributes: attr });\n  }\n\n  editor.setContents(ops);\n  editor.setSelection(text.length, 0);\n};\n\nconst getAttributtes = (element) => {\n  const attr = {};\n  if (element['font-weight'] && element['font-weight'] !== 'normal') {\n    attr['bold'] = true;\n  }\n  if (element['font-style'] && element['font-style'] !== 'normal') {\n    attr['italic'] = true;\n  }\n  if (element['color']) {\n    attr['color'] = element['color'];\n  }\n  if (element['text-decoration']) {\n    const decoration = element['text-decoration'].split(' ');\n\n    if (decoration.includes('line-through')) {\n      attr['strike'] = true;\n    }\n    if (decoration.includes('word')) {\n      attr['underline'] = true;\n    }\n  }\n\n  return attr;\n};\n\nexport default setReactQuillContent;\n","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Autolinker from 'autolinker';\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport isString from 'lodash/isString';\nimport escape from 'lodash/escape';\nimport NoteTextarea from 'components/NoteTextarea';\nimport NoteContext from 'components/Note/Context';\nimport NoteHeader from 'components/NoteHeader';\nimport NoteTextPreview from 'components/NoteTextPreview';\nimport ReplyAttachmentList from 'components/ReplyAttachmentList';\nimport getLinkDestination from 'helpers/getLinkDestination';\n\nimport mentionsManager from 'helpers/MentionsManager';\nimport getLatestActivityDate from 'helpers/getLatestActivityDate';\nimport setAnnotationRichTextStyle from 'helpers/setAnnotationRichTextStyle';\nimport setReactQuillContent from 'helpers/setReactQuillContent';\nimport { isDarkColorHex, isLightColorHex } from 'helpers/color';\nimport { setAnnotationAttachments } from 'helpers/ReplyAttachmentManager';\nimport { isMobile } from 'helpers/device';\nimport core from 'core';\nimport { getDataWithKey, mapAnnotationToKey, annotationMapKeys } from 'constants/map';\nimport Theme from 'constants/theme';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport DataElements from 'constants/dataElement';\nimport DataElementWrapper from '../DataElementWrapper';\nimport { COMMON_COLORS } from 'constants/commonColors';\nimport Button from 'components/Button';\n\nimport './NoteContent.scss';\n\ndayjs.extend(LocalizedFormat);\n\nconst propTypes = {\n  annotation: PropTypes.object.isRequired,\n  isEditing: PropTypes.bool,\n  setIsEditing: PropTypes.func,\n  noteIndex: PropTypes.number,\n  isUnread: PropTypes.bool,\n  isNonReplyNoteRead: PropTypes.bool,\n  onReplyClicked: PropTypes.func,\n  isMultiSelected: PropTypes.bool,\n  isMultiSelectMode: PropTypes.bool,\n  handleMultiSelect: PropTypes.func,\n  isGroupMember: PropTypes.bool,\n  handleNoteClick: PropTypes.func,\n};\n\nconst NoteContent = ({\n  annotation,\n  isEditing,\n  setIsEditing,\n  noteIndex,\n  isUnread,\n  isNonReplyNoteRead,\n  onReplyClicked,\n  isMultiSelected,\n  isMultiSelectMode,\n  handleMultiSelect,\n  isGroupMember,\n  handleNoteClick = () => {},\n}) => {\n\n  const noteDateFormat = useSelector((state) => selectors.getNoteDateFormat(state));\n  const iconColor = useSelector((state) => selectors.getIconColor(state, mapAnnotationToKey(annotation), shallowEqual));\n  const isNoteStateDisabled = useSelector((state) => selectors.isElementDisabled(state, 'noteStateFlyout'));\n  const language = useSelector((state) => selectors.getCurrentLanguage(state));\n  const notesShowLastUpdatedDate = useSelector((state) => selectors.notesShowLastUpdatedDate(state));\n  const canCollapseTextPreview = useSelector((state) => selectors.isNotesPanelTextCollapsingEnabled(state));\n  const canCollapseReplyPreview = useSelector((state) => selectors.isNotesPanelRepliesCollapsingEnabled(state));\n  const activeTheme = useSelector((state) => selectors.getActiveTheme(state));\n  const timezone = useSelector((state) => selectors.getTimezone(state));\n  const customizableUI = useSelector((state) => selectors.getFeatureFlags(state)?.customizableUI);\n\n  const {\n    isSelected,\n    searchInput,\n    resize,\n    pendingEditTextMap,\n    onTopNoteContentClicked,\n    sortStrategy,\n    showAnnotationNumbering,\n    setPendingEditText\n  } = useContext(NoteContext);\n\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const isReply = annotation.isReply();\n  const isTrackedChange = mapAnnotationToKey(annotation) === annotationMapKeys.TRACKED_CHANGE;\n\n  const [attachments, setAttachments] = useState([]);\n\n  useEffect(() => {\n    setAttachments(annotation.getAttachments());\n  }, [annotation]);\n\n  useEffect(() => {\n    const annotationChangedListener = (annotations, action) => {\n      if (action === 'modify') {\n        annotations.forEach((annot) => {\n          if (annot.Id === annotation.Id) {\n            setAttachments(annot.getAttachments());\n          }\n        });\n      }\n    };\n    core.addEventListener('annotationChanged', annotationChangedListener);\n\n    return () => {\n      core.removeEventListener('annotationChanged', annotationChangedListener);\n    };\n  }, [annotation]);\n\n  useDidUpdate(() => {\n    if (!isEditing) {\n      dispatch(actions.finishNoteEditing());\n    }\n\n    resize();\n  }, [isEditing]);\n\n  const renderAuthorName = useCallback(\n    (annotation) => {\n      const name = core.getDisplayAuthor(annotation['Author']);\n\n      return name ? (\n        highlightSearchInput(name, searchInput)\n      ) : (\n        t('option.notesPanel.noteContent.noName')\n      );\n    },\n    [searchInput],\n  );\n\n  const skipAutoLink = annotation.getSkipAutoLink && annotation.getSkipAutoLink();\n\n  const renderContents = useCallback(\n    (contents, richTextStyle, fontColor, skipAutoLink) => {\n      const autolinkerContent = [];\n      if (!skipAutoLink) {\n        Autolinker.link(contents, {\n          stripPrefix: false,\n          stripTrailingSlash: false,\n          replaceFn(match) {\n            const href = match.getAnchorHref();\n            const anchorText = match.getAnchorText();\n            const offset = match.getOffset();\n\n            switch (match.getType()) {\n              case 'url':\n              case 'email':\n              case 'phone':\n                autolinkerContent.push({\n                  href,\n                  text: anchorText,\n                  start: offset,\n                  end: offset + match.getMatchedText().length\n                });\n            }\n          }\n        });\n      }\n\n      if (!autolinkerContent.length) {\n        const highlightResult = highlightSearchInput(contents, searchInput, richTextStyle);\n        const shouldCollapseAnnotationText = !isReply && canCollapseTextPreview;\n        const shouldCollapseReply = isReply && canCollapseReplyPreview;\n\n        /*\n         * Case there is no value on Search input, and the collapse of the text is allowed,\n         * just render the value with Text preview component\n         */\n        if (!searchInput && (shouldCollapseAnnotationText || shouldCollapseReply)) {\n          const beforeContent = () => {\n            if (!isTrackedChange) {\n              return null;\n            }\n            const text = annotation['TrackedChangeType'] === 1 ? t('officeEditor.added') : t('officeEditor.deleted');\n            return (\n              <span style={{ color: annotation.FillColor.toString(), fontWeight: 700 }}>{text}</span>\n            );\n          };\n\n          return (\n            <NoteTextPreview\n              linesToBreak={3}\n              comment\n              renderRichText={renderRichText}\n              richTextStyle={richTextStyle}\n              resize={resize}\n              style={fontColor}\n              beforeContent={beforeContent}\n            >\n              {contents}\n            </NoteTextPreview>\n          );\n        }\n        return highlightResult;\n      }\n      const contentToRender = [];\n      let strIdx = 0;\n      // Iterate through each case detected by Autolinker, wrap all content\n      // before the current link in a span tag, and wrap the current link\n      // in our own anchor tag\n      autolinkerContent.forEach((anchorData, forIdx) => {\n        const { start, end, href } = anchorData;\n        if (strIdx < start) {\n          contentToRender.push(\n            <span key={`span_${forIdx}`}>\n              {\n                highlightSearchInput(\n                  contents,\n                  searchInput,\n                  richTextStyle,\n                  strIdx,\n                  start\n                )\n              }\n            </span>\n          );\n        }\n        contentToRender.push(\n          <a\n            href={href}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            key={`a_${forIdx}`}\n          >\n            {\n              highlightSearchInput(\n                contents,\n                searchInput,\n                richTextStyle,\n                start,\n                end\n              )\n            }\n          </a>\n        );\n        strIdx = end;\n      });\n      // Ensure any content after the last link is accounted for\n      if (strIdx < contents.length - 1) {\n        contentToRender.push(highlightSearchInput(\n          contents,\n          searchInput,\n          richTextStyle,\n          strIdx\n        ));\n      }\n      return contentToRender;\n    },\n    [searchInput]\n  );\n\n  const icon = getDataWithKey(mapAnnotationToKey(annotation)).icon;\n  let customData;\n  try {\n    customData = JSON.parse(annotation.getCustomData('trn-mention'));\n  } catch (e) {\n    customData = annotation.getCustomData('trn-mention');\n  }\n\n  let contents = customData?.contents || annotation.getContents();\n  contents = sanitizeContent(contents);\n\n  // for link annotations we want to get their URL. We are unable to use \"getContents\" to get that data, need to use \"getLinkDestination\" instead\n  const contentsToRender = annotation instanceof window.Core.Annotations.Link ? getLinkDestination(annotation) : annotation.getContents();\n\n  const richTextStyle = annotation.getRichTextStyle();\n  let textColor = annotation['TextColor'];\n\n  if (activeTheme === Theme.DARK) {\n    if (textColor && isDarkColorHex(textColor.toHexString())) {\n      textColor = new window.Core.Annotations.Color(255, 255, 255, 1);\n    }\n\n    if (richTextStyle) {\n      const sections = Object.keys(richTextStyle);\n      sections.forEach((a) => {\n        if (richTextStyle[a]['color'] && isDarkColorHex(richTextStyle[a]['color'])) {\n          richTextStyle[a]['color'] = COMMON_COLORS['white'];\n        }\n      });\n    }\n  } else if (activeTheme === Theme.LIGHT) {\n    if (textColor && isLightColorHex(textColor.toHexString())) {\n      textColor = new window.Core.Annotations.Color(0, 0, 0, 1);\n    }\n\n    if (richTextStyle) {\n      const sections = Object.keys(richTextStyle);\n      sections.forEach((a) => {\n        if (richTextStyle[a]['color'] && isLightColorHex(richTextStyle[a]['color'])) {\n          richTextStyle[a]['color'] = COMMON_COLORS['black'];\n        }\n      });\n    }\n  }\n  // This is the text placeholder passed to the ContentArea\n  // It ensures that if we try and edit, we get the right placeholder\n  // depending on whether the comment has been saved to the annotation or not\n  const thereIsNoUnpostedEdit = typeof pendingEditTextMap[annotation.Id] === 'undefined';\n  let textAreaValue;\n  if (contents && thereIsNoUnpostedEdit) {\n    textAreaValue = contents;\n  } else {\n    textAreaValue = pendingEditTextMap[annotation.Id];\n  }\n\n  const handleNoteContentClicked = () => {\n    if (!isGroupMember) {\n      if (isReply) {\n        onReplyClicked(annotation);\n      } else if (!isEditing) {\n        // collapse expanded note when top noteContent is clicked if it's not being edited\n        onTopNoteContentClicked();\n      }\n    }\n  };\n\n  const handleContentsClicked = (e) => {\n    if (window.getSelection()?.toString()) {\n      e?.stopPropagation();\n    }\n    handleNoteClick(e);\n  };\n\n  const noteContentClass = classNames({\n    NoteContent: true,\n    isReply,\n    unread: isUnread, // The note content itself is unread or it has unread replies\n    clicked: isNonReplyNoteRead, // The top note content is read\n    'modular-ui': customizableUI,\n  });\n\n  const content = useMemo(\n    () => {\n      const contentStyle = {};\n      if (textColor) {\n        contentStyle.color = textColor.toHexString();\n      }\n\n      return (\n        <>\n          {(isEditing && isSelected) ? (\n            <ContentArea\n              annotation={annotation}\n              noteIndex={noteIndex}\n              setIsEditing={setIsEditing}\n              textAreaValue={textAreaValue}\n              onTextAreaValueChange={setPendingEditText}\n              pendingText={pendingEditTextMap[annotation.Id]}\n            />\n          ) : (\n            contentsToRender && (\n              <div className={classNames('container', { 'reply-content': isReply })} onClick={handleContentsClicked}>\n                {isReply && (attachments.length > 0) && (\n                  <ReplyAttachmentList\n                    files={attachments}\n                    isEditing={false}\n                  />\n                )}\n                {renderContents(contentsToRender, richTextStyle, contentStyle, skipAutoLink)}\n              </div>\n            )\n          )}\n        </>\n      );\n    },\n    [annotation, isSelected, isEditing, setIsEditing, contents, renderContents, textAreaValue, setPendingEditText, attachments]\n  );\n\n  const text = annotation.getCustomData('trn-annot-preview');\n  const textPreview = useMemo(\n    () => {\n      if (text === '') {\n        return null;\n      }\n\n      const highlightSearchResult = highlightSearchInput(text, searchInput);\n      const shouldCollapseAnnotationText = !isReply && canCollapseTextPreview;\n      // If we have a search result do not use text\n      // preview but instead show the entire text\n      if (isString(highlightSearchResult) && shouldCollapseAnnotationText) {\n        return (\n          <DataElementWrapper\n            onClick={handleNoteClick}\n            className=\"selected-text-preview\"\n            dataElement=\"notesSelectedTextPreview\">\n            <NoteTextPreview linesToBreak={3}>\n              {`\"${highlightSearchResult}\"`}\n            </NoteTextPreview>\n          </DataElementWrapper>\n        );\n      }\n      return (\n        <div className=\"selected-text-preview\" style={{ paddingRight: '12px' }}>\n          {highlightSearchResult}\n        </div>\n      );\n    }, [text, searchInput]);\n\n  const header = useMemo(\n    () => {\n      return (\n        <NoteHeader\n          icon={icon}\n          iconColor={iconColor}\n          annotation={annotation}\n          language={language}\n          noteDateFormat={noteDateFormat}\n          isSelected={isSelected}\n          setIsEditing={setIsEditing}\n          notesShowLastUpdatedDate={notesShowLastUpdatedDate}\n          isReply={isReply}\n          isUnread={isUnread}\n          renderAuthorName={renderAuthorName}\n          isNoteStateDisabled={isNoteStateDisabled}\n          isEditing={isEditing}\n          noteIndex={noteIndex}\n          sortStrategy={sortStrategy}\n          activeTheme={activeTheme}\n          handleMultiSelect={handleMultiSelect}\n          isMultiSelected={isMultiSelected}\n          isMultiSelectMode={isMultiSelectMode}\n          isGroupMember={isGroupMember}\n          showAnnotationNumbering={showAnnotationNumbering}\n          timezone={timezone}\n          isTrackedChange={isTrackedChange}\n        />\n      );\n    }, [icon, iconColor, annotation, language, noteDateFormat, isSelected, setIsEditing, notesShowLastUpdatedDate, isReply, isUnread, renderAuthorName, core.getDisplayAuthor(annotation['Author']), isNoteStateDisabled, isEditing, noteIndex, getLatestActivityDate(annotation), sortStrategy, handleMultiSelect, isMultiSelected, isMultiSelectMode, isGroupMember, timezone, isTrackedChange]\n  );\n\n  return (\n    <div className={noteContentClass} onClick={handleNoteContentClicked}>\n      {header}\n      {textPreview}\n      {content}\n    </div>\n  );\n};\n\nNoteContent.propTypes = propTypes;\n\nexport default NoteContent;\n\n// a component that contains the content textarea, the save button and the cancel button\nconst ContentArea = ({\n  annotation,\n  noteIndex,\n  setIsEditing,\n  textAreaValue,\n  onTextAreaValueChange,\n  pendingText\n}) => {\n  const [\n    autoFocusNoteOnAnnotationSelection,\n    isMentionEnabled,\n    isInlineCommentDisabled,\n    isInlineCommentOpen,\n    isNotesPanelOpen,\n    activeDocumentViewerKey,\n    isAnyCustomPanelOpen,\n  ] = useSelector((state) => [\n    selectors.getAutoFocusNoteOnAnnotationSelection(state),\n    selectors.getIsMentionEnabled(state),\n    selectors.isElementDisabled(state, DataElements.INLINE_COMMENT_POPUP),\n    selectors.isElementOpen(state, DataElements.INLINE_COMMENT_POPUP),\n    selectors.isElementOpen(state, DataElements.NOTES_PANEL),\n    selectors.getActiveDocumentViewerKey(state),\n    selectors.isAnyCustomPanelOpen(state),\n  ]);\n  const [t] = useTranslation();\n  const textareaRef = useRef();\n  const isReply = annotation.isReply();\n  const {\n    setCurAnnotId,\n    pendingAttachmentMap,\n    deleteAttachment,\n    clearAttachments,\n    addAttachments\n  } = useContext(NoteContext);\n\n  const shouldNotFocusOnInput = !isInlineCommentDisabled && isInlineCommentOpen && isMobile();\n\n  useEffect(() => {\n    // on initial mount, focus the last character of the textarea\n    if (isAnyCustomPanelOpen || (isNotesPanelOpen || isInlineCommentOpen) && textareaRef.current) {\n      const editor = textareaRef.current.getEditor();\n      const isFreeTextAnnnotation = annotation && annotation instanceof window.Core.Annotations.FreeTextAnnotation;\n      isFreeTextAnnnotation && editor.setText('');\n\n      /**\n       * If there is a pending text we should update the annotation rich text style\n       * with this pending text style.\n       */\n      if (pendingText) {\n        setAnnotationRichTextStyle(editor, annotation);\n      } else if (editor.getContents()) {\n        setTimeout(() => {\n          // need setTimeout because textarea seem to rerender and unfocus\n          if (isMentionEnabled) {\n            textAreaValue = mentionsManager.getFormattedTextFromDeltas(editor.getContents());\n            const { plainTextValue, ids } = mentionsManager.extractMentionDataFromStr(textAreaValue);\n\n            if (ids.length) {\n              editor.setText(plainTextValue);\n            }\n          }\n\n          if (shouldNotFocusOnInput) {\n            return;\n          }\n\n          if (autoFocusNoteOnAnnotationSelection) {\n            textareaRef.current?.focus();\n            const annotRichTextStyle = annotation.getRichTextStyle();\n            if (annotRichTextStyle) {\n              setReactQuillContent(annotation, editor);\n            }\n          }\n        }, 100);\n      }\n\n      const lastNewLineCharacterLength = 1;\n      const textLength = editor.getLength() - lastNewLineCharacterLength;\n\n      if (shouldNotFocusOnInput) {\n        return;\n      }\n\n      setTimeout(() => {\n        if (textLength) {\n          editor.setSelection(textLength, textLength);\n        }\n      }, 100);\n    }\n  }, [isNotesPanelOpen, isInlineCommentOpen, shouldNotFocusOnInput]);\n\n  useEffect(() => {\n    if (isReply && pendingAttachments.length === 0) {\n      // Load attachments\n      const attachments = annotation.getAttachments();\n      addAttachments(annotation.Id, attachments);\n    }\n  }, []);\n\n  const setContents = async (e) => {\n    // prevent the textarea from blurring out which will unmount these two buttons\n    e.preventDefault();\n\n    const editor = textareaRef.current.getEditor();\n    textAreaValue = mentionsManager.getFormattedTextFromDeltas(editor.getContents());\n    setAnnotationRichTextStyle(editor, annotation);\n\n    const hasTrailingNewlineToRemove = textAreaValue.length > 1 && textAreaValue[textAreaValue.length - 1] === '\\n';\n    if (hasTrailingNewlineToRemove) {\n      textAreaValue = textAreaValue.slice(0, textAreaValue.length - 1);\n    }\n\n    const skipAutoLink = annotation.getSkipAutoLink && annotation.getSkipAutoLink();\n    if (skipAutoLink) {\n      annotation.disableSkipAutoLink();\n    }\n\n    if (isMentionEnabled) {\n      const { plainTextValue, ids } = mentionsManager.extractMentionDataFromStr(textAreaValue);\n\n      // If modified, double check for ids\n      const annotMentionData = mentionsManager.extractMentionDataFromAnnot(annotation);\n      annotMentionData.mentions.forEach((mention) => {\n        if (plainTextValue.includes(mention.value)) {\n          ids.push(mention.id);\n        }\n      });\n\n      annotation.setCustomData('trn-mention', JSON.stringify({\n        contents: textAreaValue,\n        ids,\n      }));\n      annotation.setContents(plainTextValue);\n    } else {\n      annotation.setContents(textAreaValue);\n    }\n\n    await setAnnotationAttachments(annotation, pendingAttachmentMap[annotation.Id]);\n\n    const source = (annotation instanceof window.Core.Annotations.FreeTextAnnotation)\n      ? 'textChanged' : 'noteChanged';\n    core.getAnnotationManager(activeDocumentViewerKey).trigger('annotationChanged', [[annotation], 'modify', { 'source': source }]);\n\n    if (annotation instanceof window.Core.Annotations.FreeTextAnnotation) {\n      core.drawAnnotationsFromList([annotation]);\n    }\n\n    setIsEditing(false, noteIndex);\n    // Only set comment to unposted state if it is not empty\n    if (textAreaValue !== '') {\n      onTextAreaValueChange(undefined, annotation.Id);\n    }\n    clearAttachments(annotation.Id);\n  };\n\n  const onBlur = (e) => {\n    if (e.relatedTarget?.getAttribute('data-element')?.includes('annotationCommentButton')) {\n      e.target.focus();\n      return;\n    }\n    setCurAnnotId(undefined);\n  };\n\n  const onFocus = () => {\n    setCurAnnotId(annotation.Id);\n  };\n\n  const contentClassName = classNames('edit-content', { 'reply-content': isReply });\n  const pendingAttachments = pendingAttachmentMap[annotation.Id] || [];\n\n  return (\n    <div className={contentClassName}>\n      {isReply && pendingAttachments.length > 0 && (\n        <ReplyAttachmentList\n          files={pendingAttachments}\n          isEditing={true}\n          fileDeleted={(file) => deleteAttachment(annotation.Id, file)}\n        />\n      )}\n      <NoteTextarea\n        ref={(el) => {\n          textareaRef.current = el;\n        }}\n        value={textAreaValue}\n        onChange={(value) => onTextAreaValueChange(value, annotation.Id)}\n        onSubmit={setContents}\n        isReply={isReply}\n        onBlur={onBlur}\n        onFocus={onFocus}\n      />\n      <div className=\"edit-buttons\">\n        <Button\n          className=\"cancel-button\"\n          label={t('action.cancel')}\n          onClick={(e) => {\n            e.stopPropagation();\n            setIsEditing(false, noteIndex);\n            // Clear pending text\n            onTextAreaValueChange(undefined, annotation.Id);\n            clearAttachments(annotation.Id);\n          }}\n        />\n        <Button\n          className={`save-button${!textAreaValue ? ' disabled' : ''}`}\n          disabled={!textAreaValue}\n          label={t('action.save')}\n          onClick={(e) => {\n            e.stopPropagation();\n            setContents(e);\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nContentArea.propTypes = {\n  noteIndex: PropTypes.number.isRequired,\n  annotation: PropTypes.object.isRequired,\n  setIsEditing: PropTypes.func.isRequired,\n  textAreaValue: PropTypes.string,\n  onTextAreaValueChange: PropTypes.func.isRequired,\n  pendingText: PropTypes.string\n};\n\nconst getRichTextSpan = (text, richTextStyle, key) => {\n  const style = {\n    fontWeight: richTextStyle['font-weight'],\n    fontStyle: richTextStyle['font-style'],\n    textDecoration: richTextStyle['text-decoration'],\n    color: richTextStyle['color']\n  };\n  if (style.textDecoration) {\n    style.textDecoration = style.textDecoration.replace('word', 'underline');\n  }\n  return (\n    <span style={style} key={key}>{text}</span>\n  );\n};\n\nconst renderRichText = (text, richTextStyle, start) => {\n  if (!richTextStyle || !text) {\n    return text;\n  }\n\n  const styles = {};\n  const indices = Object.keys(richTextStyle).map(Number).sort((a, b) => a - b);\n  for (let i = 0; i < indices.length; i++) {\n    let index = indices[i] - start;\n    index = Math.min(Math.max(index, 0), text.length);\n    styles[index] = richTextStyle[indices[i]];\n    if (index === text.length) {\n      break;\n    }\n  }\n\n  const contentToRender = [];\n  const styleIndices = Object.keys(styles).map(Number).sort((a, b) => a - b);\n  for (let i = 1; i < styleIndices.length; i++) {\n    contentToRender.push(getRichTextSpan(\n      text.slice(styleIndices[i - 1], styleIndices[i]),\n      styles[styleIndices[i - 1]],\n      `richtext_span_${i}`\n    ));\n  }\n\n  return contentToRender;\n};\n\nconst highlightSearchInput = (fullText, searchInput, richTextStyle, start = 0, end = fullText.length) => {\n  const text = fullText.slice(start, end);\n  const loweredText = text.toLowerCase();\n  const loweredSearchInput = searchInput.toLowerCase();\n  if (richTextStyle) {\n    richTextStyle['0'] = richTextStyle['0'] || {};\n    richTextStyle[fullText.length] = richTextStyle[fullText.length] || {};\n  }\n  let lastFoundInstance = loweredText.indexOf(loweredSearchInput);\n  if (!loweredSearchInput.trim() || lastFoundInstance === -1) {\n    return renderRichText(text, richTextStyle, start);\n  }\n  const contentToRender = [];\n  const allFoundPositions = [lastFoundInstance];\n  // Escape all RegExp special characters\n  const regexSafeSearchInput = loweredSearchInput.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  if (new RegExp(`(${regexSafeSearchInput})`, 'gi').test(loweredText)) {\n    while (lastFoundInstance !== -1) {\n      lastFoundInstance = loweredText.indexOf(loweredSearchInput, lastFoundInstance + loweredSearchInput.length);\n      if (lastFoundInstance !== -1) {\n        allFoundPositions.push(lastFoundInstance);\n      }\n    }\n  }\n  allFoundPositions.forEach((position, idx) => {\n    // Account for any content at the beginning of the string before the first\n    // instance of the searchInput\n    if (idx === 0 && position !== 0) {\n      contentToRender.push(renderRichText(text.substring(0, position), richTextStyle, start));\n    }\n    contentToRender.push(\n      <span className=\"highlight\" key={`highlight_span_${idx}`}>\n        {\n          renderRichText(\n            text.substring(position, position + loweredSearchInput.length),\n            richTextStyle,\n            start + position)\n        }\n      </span>\n    );\n    if (\n      // Ensure that we do not try to make an out-of-bounds access\n      position + loweredSearchInput.length < loweredText.length\n      // Ensure that this is the end of the allFoundPositions array\n      && position + loweredSearchInput.length !== allFoundPositions[idx + 1]\n    ) {\n      contentToRender.push(renderRichText(\n        text.substring(position + loweredSearchInput.length, allFoundPositions[idx + 1]),\n        richTextStyle,\n        start + position + loweredSearchInput.length\n      ));\n    }\n  });\n  return contentToRender;\n};\n\n/**\n * @ignore\n * Sanitizes the given content to prevent XSS attacks by converting HTML characters\n * into their encoded equivalents.\n *\n * @param {string} content - The content to sanitize.\n * @returns {string} The sanitized content, or the original content if no changes are needed.\n */\nfunction sanitizeContent(content) {\n  return content ? escape(content) : content;\n}\n","import NoteContent from './NoteContent';\n\nexport default NoteContent;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport NoteContext from 'components/Note/Context';\nimport NoteTextarea from 'components/NoteTextarea';\nimport ReplyAttachmentList from 'components/ReplyAttachmentList';\nimport Button from 'components/Button';\nimport classNames from 'classnames';\nimport core from 'core';\nimport mentionsManager from 'helpers/MentionsManager';\nimport setAnnotationRichTextStyle from 'helpers/setAnnotationRichTextStyle';\nimport { setAnnotationAttachments } from 'helpers/ReplyAttachmentManager';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport { isMobile } from 'src/helpers/device';\nimport DataElements from 'src/constants/dataElement';\n\nimport './ReplyArea.scss';\n\nconst propTypes = {\n  annotation: PropTypes.object.isRequired,\n};\n\n// a component that contains the reply textarea, the reply button and the cancel button\nconst ReplyArea = ({ annotation, isUnread, onPendingReplyChange }) => {\n  const [\n    autoFocusNoteOnAnnotationSelection,\n    isReadOnly,\n    isReplyDisabled,\n    isReplyDisabledForAnnotation,\n    isMentionEnabled,\n    isNoteEditingTriggeredByAnnotationPopup,\n    isInlineCommentDisabled,\n    isInlineCommentOpen,\n    activeDocumentViewerKey,\n  ] = useSelector(\n    (state) => [\n      selectors.getAutoFocusNoteOnAnnotationSelection(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.isElementDisabled(state, 'noteReply'),\n      selectors.getIsReplyDisabled(state)?.(annotation),\n      selectors.getIsMentionEnabled(state),\n      selectors.getIsNoteEditing(state),\n      selectors.isElementDisabled(state, DataElements.INLINE_COMMENT_POPUP),\n      selectors.isElementOpen(state, DataElements.INLINE_COMMENT_POPUP),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual\n  );\n  const {\n    isContentEditable,\n    isSelected,\n    pendingReplyMap,\n    setPendingReply,\n    isExpandedFromSearch,\n    scrollToSelectedAnnot,\n    setCurAnnotId,\n    pendingAttachmentMap,\n    clearAttachments,\n    deleteAttachment\n  } = useContext(NoteContext);\n  const [isFocused, setIsFocused] = useState(false);\n  const dispatch = useDispatch();\n  const textareaRef = useRef();\n\n  const shouldNotFocusOnInput = !isInlineCommentDisabled && isInlineCommentOpen && isMobile();\n\n  useDidUpdate(() => {\n    if (!isFocused) {\n      dispatch(actions.finishNoteEditing());\n    }\n  }, [isFocused]);\n\n  useEffect(() => {\n    if (shouldNotFocusOnInput) {\n      return;\n    }\n\n    if (\n      isNoteEditingTriggeredByAnnotationPopup &&\n      isSelected &&\n      !isContentEditable &&\n      autoFocusNoteOnAnnotationSelection &&\n      textareaRef &&\n      textareaRef.current\n    ) {\n      textareaRef.current.focus();\n    }\n  }, [isContentEditable, isNoteEditingTriggeredByAnnotationPopup, isSelected, shouldNotFocusOnInput]);\n\n  useEffect(() => {\n    // on initial mount, focus the last character of the textarea\n    // when search item, should disable auto focus\n    if (!isExpandedFromSearch && scrollToSelectedAnnot) {\n      // use \"setTimeout\" to wait for element to be added before focusing to have the blinking text cursor appear\n      setTimeout(() => {\n        // calling focus() cause the \"NotePanel\" to scroll to note that being focused.\n        // we don't want to jump to the selected annotation when scrolling up and down, so only focus once\n        if (textareaRef && textareaRef.current && autoFocusNoteOnAnnotationSelection) {\n          textareaRef.current.focus();\n        }\n      }, 100);\n    }\n    if (textareaRef && textareaRef.current) {\n      if (shouldNotFocusOnInput) {\n        return;\n      }\n\n      const editor = textareaRef.current.getEditor();\n      const lastNewLineCharacterLength = 1;\n      const textLength = editor.getLength() - lastNewLineCharacterLength;\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.editor.setSelection(textLength, textLength);\n        }\n      }, 100);\n    }\n  }, []);\n\n  const postReply = async (e) => {\n    // prevent the textarea from blurring out\n    e.preventDefault();\n    e.stopPropagation();\n\n    const editor = textareaRef.current.getEditor();\n    const replyText = mentionsManager.getFormattedTextFromDeltas(editor.getContents());\n\n    if (!replyText.trim()) {\n      return;\n    }\n\n    if (isMentionEnabled) {\n      const replyAnnotation = mentionsManager.createMentionReply(annotation, replyText);\n      setAnnotationRichTextStyle(editor, replyAnnotation);\n      await setAnnotationAttachments(replyAnnotation, pendingAttachmentMap[annotation.Id]);\n      core.addAnnotations([replyAnnotation], activeDocumentViewerKey);\n    } else {\n      const replyAnnotation = core.createAnnotationReply(annotation, replyText);\n      setAnnotationRichTextStyle(editor, replyAnnotation);\n      await setAnnotationAttachments(replyAnnotation, pendingAttachmentMap[annotation.Id]);\n      core.getAnnotationManager(activeDocumentViewerKey).trigger('annotationChanged', [[replyAnnotation], 'modify', {}]);\n    }\n\n    setPendingReply('', annotation.Id);\n    clearAttachments(annotation.Id);\n  };\n\n  const ifReplyNotAllowed =\n    isReadOnly ||\n    isReplyDisabled ||\n    isReplyDisabledForAnnotation;\n\n  const replyAreaClass = classNames({\n    'reply-area': true,\n    unread: isUnread,\n  });\n\n  const handleNoteTextareaChange = (value) => {\n    setPendingReply(value, annotation.Id);\n    onPendingReplyChange && onPendingReplyChange();\n  };\n\n  const onBlur = () => {\n    setIsFocused(false);\n    setCurAnnotId(undefined);\n  };\n\n  const onFocus = () => {\n    setIsFocused(true);\n    setCurAnnotId(annotation.Id);\n  };\n\n  const pendingAttachments = pendingAttachmentMap[annotation.Id] || [];\n\n  return (ifReplyNotAllowed || !isSelected) ? null : (\n    <form onSubmit={postReply} className=\"reply-area-container\">\n      {pendingAttachments.length > 0 && (\n        <ReplyAttachmentList\n          files={pendingAttachments}\n          isEditing={true}\n          fileDeleted={(file) => deleteAttachment(annotation.Id, file)}\n        />\n      )}\n      <div className=\"reply-area-with-button\">\n        <div\n          className={replyAreaClass}\n          // stop bubbling up otherwise the note will be closed\n          // due to annotation deselection\n          onMouseDown={(e) => e.stopPropagation()}\n        >\n          <NoteTextarea\n            ref={(el) => {\n              textareaRef.current = el;\n            }}\n            value={pendingReplyMap[annotation.Id]}\n            onChange={(value) => handleNoteTextareaChange(value)}\n            onSubmit={postReply}\n            onBlur={onBlur}\n            onFocus={onFocus}\n            isReply\n          />\n        </div>\n        <div className=\"reply-button-container\">\n          <Button\n            img=\"icon-post-reply\"\n            className='reply-button'\n            title={'action.submit'}\n            disabled={!pendingReplyMap[annotation.Id]}\n            onClick={postReply}\n            isSubmitType\n          />\n        </div>\n      </div>\n    </form>\n  );\n};\n\nReplyArea.propTypes = propTypes;\n\nexport default ReplyArea;\n","import ReplyArea from './ReplyArea';\n\nexport default ReplyArea;","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport NoteContent from 'components/NoteContent';\nimport PropTypes from 'prop-types';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  groupAnnotations: PropTypes.array.isRequired,\n  isMultiSelectMode: PropTypes.bool.isRequired,\n};\n\nconst NoteGroupSection = ({\n  groupAnnotations,\n  isMultiSelectMode,\n}) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const [isViewingGroupAnnots, setIsViewingGroupAnnots] = useState(false);\n  const customizableUI = useSelector((state) => selectors.getFeatureFlags(state)?.customizableUI);\n\n  const upArrow = 'ic_chevron_up_black_24px';\n  const downArrow = 'ic_chevron_down_black_24px';\n\n  const ViewAllAnnotsButton = (\n    <Button\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsViewingGroupAnnots(true);\n      }}\n      className=\"text-button\"\n      ariaLabel={t('component.noteGroupSection.open')}\n      label={t('component.noteGroupSection.open')}\n      img={downArrow}\n    />\n  );\n  const CloseAllAnnotsButton = (\n    <Button\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsViewingGroupAnnots(false);\n      }}\n      className=\"text-button\"\n      ariaLabel={t('component.noteGroupSection.close')}\n      label={t('component.noteGroupSection.close')}\n      img={upArrow}\n    />\n  );\n\n  return (\n    <div\n      className={classNames({\n        'group-section': true,\n        'modular-ui': customizableUI,\n      })}\n    >\n      {isViewingGroupAnnots ? CloseAllAnnotsButton : ViewAllAnnotsButton}\n      {isViewingGroupAnnots &&\n        groupAnnotations.map((groupAnnotation, i) => {\n          // Ignore the group primary annotation\n          if (i === 0) {\n            return null;\n          }\n          return (\n            <Button\n              key={groupAnnotation.Id}\n              className=\"group-child\"\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                core.selectAnnotation(groupAnnotation);\n                core.jumpToAnnotation(groupAnnotation);\n                dispatch(actions.openElement('annotationPopup'));\n              }}\n            >\n              <NoteContent\n                key={groupAnnotation.Id}\n                annotation={groupAnnotation}\n                isUnread={false}\n                isGroupMember={true}\n                isMultiSelectMode={isMultiSelectMode}\n              />\n            </Button>\n          );\n        })\n      }\n    </div>\n  );\n};\n\nNoteGroupSection.propTypes = propTypes;\n\nexport default NoteGroupSection;","import React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\nimport core from 'core';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { createPortal } from 'react-dom';\nimport { RESIZE_BAR_WIDTH } from 'constants/panel';\nimport { getAnnotationPosition } from 'helpers/getPopupPosition';\nimport getRootNode from 'helpers/getRootNode';\nimport DataElements from 'constants/dataElement';\nimport PropTypes from 'prop-types';\nimport {\n  calculateHorizontalDistanceToAnnotation,\n  calculateRightHorizontalLineProperties,\n  calculateLeftHorizontalLineProperties,\n  calculateMiddleVerticalLineProperties,\n} from 'helpers/annotationNoteConnectorLineHelper';\n\nimport './AnnotationNoteConnectorLine.scss';\n\nconst LineConnectorPortal = ({ children }) => {\n  const mount = getRootNode().querySelector('#line-connector-root');\n  const el = document.createElement('div');\n  el.setAttribute('data-element', DataElements.ANNOTATION_NOTE_CONNECTOR_LINE);\n\n  useEffect(() => {\n    mount.appendChild(el);\n    return () => mount.removeChild(el);\n  }, [el, mount]);\n\n  return createPortal(children, el);\n};\n\nconst propTypes = {\n  annotation: PropTypes.object,\n  noteContainerRef: PropTypes.object,\n  isCustomPanelOpen: PropTypes.bool,\n};\n\nconst AnnotationNoteConnectorLine = ({ annotation, noteContainerRef, isCustomPanelOpen }) => {\n  const [\n    isCustomUIEnabled,\n    topHeadersHeight,\n    bottomHeadersHeight,\n    notePanelWidth,\n    lineIsOpen,\n    notePanelIsOpen,\n    isLineDisabled,\n    documentContainerWidth,\n    documentContainerHeight,\n    activeDocumentViewerKey,\n  ] = useSelector(\n    (state) => [\n      selectors.getIsCustomUIEnabled(state),\n      selectors.getTopHeadersHeight(state),\n      selectors.getBottomHeadersHeight(state),\n      selectors.getNotesPanelWidth(state),\n      selectors.isElementOpen(state, DataElements.ANNOTATION_NOTE_CONNECTOR_LINE),\n      selectors.isElementOpen(state, DataElements.NOTES_PANEL),\n      selectors.isElementDisabled(state, DataElements.ANNOTATION_NOTE_CONNECTOR_LINE),\n      selectors.getDocumentContainerWidth(state),\n      selectors.getDocumentContainerHeight(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  // Right Horizontal Line\n  const [rightHorizontalLineWidth, setRightHorizontalLineWidth] = useState(0);\n  const [rightHorizontalLineTop, setRightHorizontalLineTop] = useState(0);\n  const [rightHorizontalLineRight, setRightHorizontalLineRight] = useState(0);\n\n  // Left Horizontal Line\n  const [leftHorizontalLineWidth, setLeftHorizontalLineWidth] = useState(0);\n  const [leftHorizontalLineTop, setLeftHorizontalLineTop] = useState(0);\n  const [leftHorizontalLineRight, setLeftHorizontalLineRight] = useState(0);\n\n  const notePanelPadding = 16;\n  const notesPanelResizeBarWidth = isCustomUIEnabled ? RESIZE_BAR_WIDTH : 0;\n  // This is the ratio of distance to the annotation that the right horizontal line should cover.\n  // Ideally, this is long enough to get away from the edge.\n  const rightHorizontalLineWidthRatio = 0.75;\n\n  const {\n    bottomRight: annotationBottomRight,\n    topLeft: annotationTopLeft\n  } = getAnnotationPosition(annotation, activeDocumentViewerKey);\n\n  const getAnnotationLineOffset = useCallback(() => {\n    if (annotation.Subject === 'Note') {\n      return 4;\n    }\n    return 15;\n  }, [annotation]);\n\n  useEffect(() => {\n    const onPageNumberUpdated = () => {\n      dispatch(actions.closeElement(DataElements.ANNOTATION_NOTE_CONNECTOR_LINE));\n    };\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated, undefined, activeDocumentViewerKey);\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated, activeDocumentViewerKey);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!noteContainerRef || !noteContainerRef.current) {\n      return;\n    }\n    const { scrollTop, scrollLeft } = core.getScrollViewElement(activeDocumentViewerKey);\n\n    const isAnnotationPositionInvalid = !(annotationBottomRight && annotationTopLeft);\n    if (isAnnotationPositionInvalid) {\n      return () => {\n        dispatch(actions.closeElement(DataElements.ANNOTATION_NOTE_CONNECTOR_LINE));\n      };\n    }\n\n    const isWebComponent = window.isApryseWebViewerWebComponent;\n    const annotationWidth = annotationBottomRight.x - annotationTopLeft.x;\n\n    const viewerWidth = window.isApryseWebViewerWebComponent ? getRootNode().host.clientWidth : window.innerWidth;\n\n    // Calculate the distance between the right of the annotation to the left of the notes panel\n    const distanceToAnnotation = calculateHorizontalDistanceToAnnotation({\n      viewerWidth,\n      annotationXPosition: annotationTopLeft.x,\n      annotationWidth,\n      notePanelWidth,\n      notePanelPadding,\n      notesPanelResizeBarWidth,\n      scrollLeft,\n    });\n\n    const {\n      rightHorizontalLineRightOffset,\n      rightHorizontalLineTopOffset,\n      rightHorizontalLineLength,\n    } = calculateRightHorizontalLineProperties({\n      notePanelWidth,\n      notePanelPadding,\n      notesPanelResizeBarWidth,\n      notesContainerTop: noteContainerRef.current.getBoundingClientRect().top,\n      viewerOffsetTop: isWebComponent ? getRootNode().host.offsetTop : 0,\n      distanceToAnnotation,\n      lineWidthRatio: rightHorizontalLineWidthRatio,\n    });\n\n    setRightHorizontalLineRight(rightHorizontalLineRightOffset);\n    setRightHorizontalLineTop(rightHorizontalLineTopOffset);\n    setRightHorizontalLineWidth(rightHorizontalLineLength);\n\n    const {\n      leftHorizontalLineRightOffset,\n      leftHorizontalLineTopOffset,\n      leftHorizontalLineLength,\n    } = calculateLeftHorizontalLineProperties({\n      isAnnotationNoZoom: annotation.NoZoom,\n      annotationNoZoomReferencePoint: annotation.getNoZoomReferencePoint(),\n      annotationHeight: annotationBottomRight.y - annotationTopLeft.y,\n      notePanelWidth,\n      notePanelPadding,\n      notesPanelResizeBarWidth,\n      rightHorizontalLineLength,\n      distanceToAnnotation,\n      annotationTopLeftY: annotationTopLeft.y,\n      scrollTop,\n      annotationLineOffset: getAnnotationLineOffset(),\n    });\n\n    setLeftHorizontalLineRight(leftHorizontalLineRightOffset);\n    setLeftHorizontalLineTop(leftHorizontalLineTopOffset);\n    setLeftHorizontalLineWidth(leftHorizontalLineLength);\n  }, [\n    noteContainerRef,\n    notePanelWidth,\n    annotationBottomRight,\n    annotationTopLeft,\n    documentContainerWidth,\n    documentContainerHeight,\n  ]);\n\n  useEffect(() => {\n    const onPageNumberUpdated = () => {\n      dispatch(actions.closeElement(DataElements.ANNOTATION_NOTE_CONNECTOR_LINE));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated, undefined, activeDocumentViewerKey);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated, activeDocumentViewerKey);\n    };\n  }, [\n    dispatch,\n    activeDocumentViewerKey,\n  ]);\n\n  if (lineIsOpen && (notePanelIsOpen || isCustomPanelOpen) && !isLineDisabled) {\n    const { verticalLineTop, verticalLineHeight, isAnnotationOffScreen } = calculateMiddleVerticalLineProperties({\n      rightHorizontalLineTop,\n      leftHorizontalLineTop,\n      bottomHeaderTop:\n        (window.isApryseWebViewerWebComponent ? getRootNode().host.clientHeight : window.innerWidth) -\n        bottomHeadersHeight,\n      topHeadersHeight,\n      isCustomUIEnabled,\n    });\n\n    return (\n      <LineConnectorPortal>\n        <div\n          className=\"horizontalLine\"\n          style={{ width: rightHorizontalLineWidth, right: rightHorizontalLineRight, top: rightHorizontalLineTop }}\n        />\n        <div\n          className=\"verticalLine\"\n          style={{\n            height: verticalLineHeight,\n            top: verticalLineTop,\n            right: rightHorizontalLineRight + rightHorizontalLineWidth,\n          }}\n        />\n        <div\n          className=\"horizontalLine\"\n          style={{\n            width: leftHorizontalLineWidth,\n            right: leftHorizontalLineRight,\n            top: leftHorizontalLineTop,\n            visibility: isAnnotationOffScreen ? 'hidden' : 'visible',\n          }}\n        >\n          <div className=\"arrowHead\" />\n        </div>\n      </LineConnectorPortal>\n    );\n  }\n  return null;\n};\n\nAnnotationNoteConnectorLine.propTypes = propTypes;\n\nexport default AnnotationNoteConnectorLine;\n","export const calculateHorizontalDistanceToAnnotation = ({\n  viewerWidth,\n  annotationXPosition,\n  annotationWidth,\n  notePanelWidth,\n  notePanelPadding,\n  notesPanelResizeBarWidth,\n  scrollLeft,\n}) => {\n  const distanceToAnnotation =\n      viewerWidth -\n      annotationXPosition -\n      annotationWidth -\n      notePanelWidth +\n      notePanelPadding +\n      notesPanelResizeBarWidth +\n      scrollLeft;\n  return distanceToAnnotation;\n};\n\nexport const calculateRightHorizontalLineProperties = ({\n  notePanelWidth,\n  notePanelPadding,\n  notesPanelResizeBarWidth,\n  notesContainerTop,\n  viewerOffsetTop,\n  distanceToAnnotation,\n  lineWidthRatio = 0.75,\n}) => {\n  // Calculate the left side of the note in the notes panel\n  const rightHorizontalLineRightOffset = notePanelWidth - notePanelPadding - notesPanelResizeBarWidth;\n  const rightHorizontalLineTopOffset = notesContainerTop - viewerOffsetTop;\n  const rightHorizontalLineLength = distanceToAnnotation * lineWidthRatio;\n\n  return {\n    rightHorizontalLineRightOffset,\n    rightHorizontalLineTopOffset,\n    rightHorizontalLineLength,\n  };\n};\n\nexport const calculateLeftHorizontalLineProperties = ({\n  isAnnotationNoZoom,\n  annotationNoZoomReferencePoint,\n  annotationHeight,\n  notePanelWidth,\n  notePanelPadding,\n  notesPanelResizeBarWidth,\n  rightHorizontalLineLength,\n  distanceToAnnotation,\n  annotationTopLeftY,\n  scrollTop,\n  annotationLineOffset,\n}) => {\n  // Annotation could have NoZoom set, so we need to adjust the line position relative to it's NoZoom reference point\n  const noZoomRefShiftX =\n    isAnnotationNoZoom && annotationNoZoomReferencePoint.x ? annotationNoZoomReferencePoint.x * annotationHeight : 0;\n  const noZoomRefShiftY =\n    isAnnotationNoZoom && annotationNoZoomReferencePoint.y ? annotationNoZoomReferencePoint.y * annotationHeight : 0;\n\n  const leftHorizontalLineRightOffset =\n    notePanelWidth - notePanelPadding - notesPanelResizeBarWidth + rightHorizontalLineLength;\n  const leftHorizontalLineTopOffset = annotationTopLeftY + annotationHeight / 2 - scrollTop - noZoomRefShiftY;\n  const leftHorizontalLineLength =\n    distanceToAnnotation - rightHorizontalLineLength - annotationLineOffset + noZoomRefShiftX;\n\n  return {\n    leftHorizontalLineRightOffset,\n    leftHorizontalLineTopOffset,\n    leftHorizontalLineLength,\n  };\n};\n\nexport const calculateMiddleVerticalLineProperties = ({\n  rightHorizontalLineTop,\n  leftHorizontalLineTop,\n  bottomHeaderTop,\n  topHeadersHeight,\n  isCustomUIEnabled,\n}) => {\n  const horizontalLineHeight = 2;\n  // Add HorizontalLineHeight of 2px when annot is above note to prevent little gap between lines\n  let verticalLineTop =\n    rightHorizontalLineTop > leftHorizontalLineTop\n      ? leftHorizontalLineTop + horizontalLineHeight\n      : rightHorizontalLineTop;\n  let verticalLineHeight = Math.abs(rightHorizontalLineTop - leftHorizontalLineTop);\n\n  const verticalLineBottom = verticalLineTop + verticalLineHeight;\n\n  const isAnnotationAboveViewer = verticalLineTop < topHeadersHeight;\n  const isAnnotationBelow = verticalLineBottom > bottomHeaderTop;\n\n  const isAnnotationOffScreen = isAnnotationAboveViewer || isAnnotationBelow;\n\n  if (isAnnotationOffScreen && isCustomUIEnabled) {\n    if (isAnnotationAboveViewer) {\n      // If the annotation is above the viewer, we need to extend the vertical line to the top headers\n      verticalLineHeight = Math.abs(rightHorizontalLineTop - topHeadersHeight) + horizontalLineHeight;\n      verticalLineTop = topHeadersHeight;\n    } else if (isAnnotationBelow) {\n      // If the annotation is below the viewer, we need to extend the vertical line to the bottom headers\n      verticalLineHeight = Math.abs(bottomHeaderTop - rightHorizontalLineTop);\n    }\n  }\n\n  return {\n    verticalLineTop,\n    verticalLineHeight,\n    isAnnotationOffScreen,\n  };\n};","import AnnotationNoteConnectorLine from './AnnotationNoteConnectorLine';\n\nexport default AnnotationNoteConnectorLine;","import React, { useEffect, useRef, useContext, useState, useCallback } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport NoteContext from 'components/Note/Context';\nimport NoteContent from 'components/NoteContent';\nimport ReplyArea from 'components/Note/ReplyArea';\nimport NoteGroupSection from 'components/Note/NoteGroupSection';\nimport Button from 'components/Button';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport core from 'core';\nimport AnnotationNoteConnectorLine from 'components/AnnotationNoteConnectorLine';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport DataElements from 'constants/dataElement';\nimport getRootNode from 'helpers/getRootNode';\nimport { mapAnnotationToKey, annotationMapKeys } from 'constants/map';\nimport { OfficeEditorEditMode, OFFICE_EDITOR_TRACKED_CHANGE_KEY } from 'constants/officeEditor';\n\nimport './Note.scss';\nimport { isAnnotationRenderedInDisplayMode } from 'src/helpers/isAnnotationRenderedInDisplayMode';\n\nconst propTypes = {\n  annotation: PropTypes.object.isRequired,\n  isMultiSelected: PropTypes.bool,\n  isMultiSelectMode: PropTypes.bool,\n  isInNotesPanel: PropTypes.bool,\n  handleMultiSelect: PropTypes.func,\n};\n\nlet currId = 0;\n\nconst Note = ({\n  annotation,\n  isMultiSelected,\n  isMultiSelectMode,\n  isInNotesPanel,\n  handleMultiSelect,\n  isCustomPanelOpen,\n  shouldHideConnectorLine,\n}) => {\n  const {\n    isSelected,\n    resize,\n    pendingEditTextMap,\n    isContentEditable,\n    isDocumentReadOnly,\n    isExpandedFromSearch,\n    // documentViewerKey,\n    setCurAnnotId,\n  } = useContext(NoteContext);\n  const containerRef = useRef();\n  const containerHeightRef = useRef();\n  const [isEditingMap, setIsEditingMap] = useState({});\n  const ids = useRef([]);\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n  const unreadReplyIdSet = new Set();\n\n  const [\n    noteTransformFunction,\n    customNoteSelectionFunction,\n    unreadAnnotationIdSet,\n    shouldExpandCommentThread,\n    isRightClickAnnotationPopupEnabled,\n    documentViewerKey,\n    isOfficeEditorMode,\n    officeEditorEditMode,\n  ] = useSelector(\n    (state) => [\n      selectors.getNoteTransformFunction(state),\n      selectors.getCustomNoteSelectionFunction(state),\n      selectors.getUnreadAnnotationIdSet(state),\n      selectors.isCommentThreadExpansionEnabled(state),\n      selectors.isRightClickAnnotationPopupEnabled(state),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.getIsOfficeEditorMode(state),\n      selectors.getOfficeEditorEditMode(state),\n    ],\n    shallowEqual,\n  );\n\n  const setIsEditing = useCallback(\n    (isEditing, index) => {\n      setIsEditingMap((map) => ({\n        ...map,\n        [index]: isEditing,\n      }));\n    },\n    [setIsEditingMap],\n  );\n\n  const replies = annotation\n    .getReplies()\n    .sort((a, b) => a['DateCreated'] - b['DateCreated']);\n\n  replies.filter((r) => unreadAnnotationIdSet.has(r.Id)).forEach((r) => unreadReplyIdSet.add(r.Id));\n\n  useEffect(() => {\n    const annotationChangedListener = (annotations, action) => {\n      if (action === 'delete') {\n        annotations.forEach((annot) => {\n          if (unreadAnnotationIdSet.has(annot.Id)) {\n            dispatch(actions.setAnnotationReadState({ isRead: true, annotationId: annot.Id }));\n          }\n        });\n      }\n    };\n    core.addEventListener('annotationChanged', annotationChangedListener, undefined, documentViewerKey);\n\n    return () => {\n      core.removeEventListener('annotationChanged', annotationChangedListener, documentViewerKey);\n    };\n  }, [unreadAnnotationIdSet]);\n\n  useEffect(() => {\n    const prevHeight = containerHeightRef.current;\n    const currHeight = containerRef.current.getBoundingClientRect().height;\n    containerHeightRef.current = currHeight;\n\n    // have a prevHeight check here because we don't want to call resize on mount\n    // use Math.round because in some cases in IE11 these two numbers will differ in just 0.00001\n    // and we don't want call resize in this case\n    if (prevHeight && Math.round(prevHeight) !== Math.round(currHeight)) {\n      resize();\n    }\n  });\n\n  useEffect(() => {\n    if (noteTransformFunction) {\n      const notesPanelElement = getRootNode().querySelectorAll('.NotesPanel')[0];\n      ids.current.forEach((id) => {\n        const child = notesPanelElement.querySelector(`[data-webviewer-custom-element=${id}]`);\n        if (child) {\n          child.parentNode.removeChild(child);\n        }\n      });\n\n      ids.current = [];\n\n      const state = {\n        annotation,\n        isSelected,\n      };\n\n      noteTransformFunction(containerRef.current, state, (...params) => {\n        const element = document.createElement(...params);\n        const id = `custom-element-${currId}`;\n        currId++;\n        ids.current.push(id);\n        element.setAttribute('data-webviewer-custom-element', id);\n        element.addEventListener('mousedown', (e) => {\n          e.stopPropagation();\n        });\n\n        return element;\n      });\n    }\n  });\n\n  useEffect(() => {\n    // If this is not a new one, rebuild the isEditing map\n    const pendingText = pendingEditTextMap[annotation.Id];\n    if (pendingText !== '' && isContentEditable && !isDocumentReadOnly) {\n      setIsEditing(true, 0);\n    }\n  }, [isDocumentReadOnly, isContentEditable, setIsEditing, annotation, isMultiSelectMode]);\n\n  useDidUpdate(() => {\n    if (isDocumentReadOnly || !isContentEditable) {\n      setIsEditing(false, 0);\n    }\n  }, [isDocumentReadOnly, isContentEditable, setIsEditing]);\n\n  const handleNoteClick = async (e) => {\n    // stop bubbling up otherwise the note will be closed\n    // due to annotation deselection\n    e && e.stopPropagation();\n\n    if (isMultiSelectMode) {\n      handleMultiSelect(!isMultiSelected);\n      return;\n    }\n    if (unreadAnnotationIdSet.has(annotation.Id)) {\n      dispatch(actions.setAnnotationReadState({ isRead: true, annotationId: annotation.Id }));\n    }\n\n    customNoteSelectionFunction && customNoteSelectionFunction(annotation);\n    if (!isSelected) {\n      core.deselectAllAnnotations(documentViewerKey);\n\n      // Need this delay to ensure all other event listeners fire before we open the line\n      setTimeout(() => dispatch(actions.openElement(DataElements.ANNOTATION_NOTE_CONNECTOR_LINE)), 300);\n    }\n    if (isInNotesPanel && !(isOfficeEditorMode && officeEditorEditMode === OfficeEditorEditMode.PREVIEW)) {\n      core.selectAnnotation(annotation, documentViewerKey);\n      setCurAnnotId(annotation.Id);\n      core.jumpToAnnotation(annotation, documentViewerKey);\n      if (!isRightClickAnnotationPopupEnabled) {\n        dispatch(actions.openElement(DataElements.ANNOTATION_POPUP));\n      }\n      if (isOfficeEditorMode) {\n        const trackedChangeId = annotation.getCustomData(OFFICE_EDITOR_TRACKED_CHANGE_KEY);\n        await core.getOfficeEditor().moveCursorToTrackedChange(trackedChangeId);\n        core.getOfficeEditor().freezeMainCursor();\n      }\n    }\n  };\n\n  const hasUnreadReplies = unreadReplyIdSet.size > 0;\n\n  const noteClass = classNames({\n    Note: true,\n    expanded: isSelected,\n    'is-multi-selected': isMultiSelected,\n    unread: unreadAnnotationIdSet.has(annotation.Id) || hasUnreadReplies,\n    'disabled': isOfficeEditorMode && officeEditorEditMode === OfficeEditorEditMode.PREVIEW,\n  });\n\n  const repliesClass = classNames({\n    replies: true,\n    hidden: !isSelected,\n  });\n\n  useEffect(() => {\n    // Must also restore the isEdit for  any replies, in case someone was editing a\n    // reply when a comment was placed above\n    if (!isMultiSelectMode) {\n      replies.forEach((reply, index) => {\n        const pendingText = pendingEditTextMap[reply.Id];\n        if ((pendingText !== '' && typeof pendingText !== 'undefined') && isSelected) {\n          setIsEditing(true, 1 + index);\n        }\n      });\n    }\n  }, [isSelected, isMultiSelectMode]);\n\n  useEffect(() => {\n    if (isMultiSelectMode) {\n      setIsEditing(false, 0);\n    }\n  }, [isMultiSelectMode]);\n\n  const showReplyArea = !Object.values(isEditingMap).some((val) => val);\n\n  const handleReplyClicked = (reply) => {\n    // set clicked reply as read\n    if (unreadReplyIdSet.has(reply.Id)) {\n      dispatch(actions.setAnnotationReadState({ isRead: true, annotationId: reply.Id }));\n      core.getAnnotationManager(documentViewerKey).selectAnnotation(reply);\n    }\n  };\n\n  const markAllRepliesRead = () => {\n    // set all replies to read state if user starts to type in reply textarea\n    if (unreadReplyIdSet.size > 0) {\n      const repliesSetToRead = replies.filter((r) => unreadReplyIdSet.has(r.Id));\n      core.getAnnotationManager(documentViewerKey).selectAnnotations(repliesSetToRead);\n      repliesSetToRead.forEach((r) => dispatch(actions.setAnnotationReadState({ isRead: true, annotationId: r.Id })));\n    }\n  };\n\n  const groupAnnotations = core.getGroupAnnotations(annotation, documentViewerKey);\n  const isGroup = groupAnnotations.length > 1;\n  const isTrackedChange = mapAnnotationToKey(annotation) === annotationMapKeys.TRACKED_CHANGE;\n  // apply unread reply style to replyArea if the last reply is unread\n  const lastReplyId = replies.length > 0 ? replies[replies.length - 1].Id : null;\n  const isRenderableInCurrentDisplayMode =  isAnnotationRenderedInDisplayMode(core, annotation);\n  const isRenderingConnectorLine = isSelected && (isInNotesPanel || isCustomPanelOpen) && !shouldHideConnectorLine && isRenderableInCurrentDisplayMode;\n\n  return (\n    <div\n      ref={containerRef}\n      className={noteClass}\n      id={`note_${annotation.Id}`}\n    >\n      <Button\n        className='note-button'\n        onClick={(e) => handleNoteClick(e)}\n        ariaLabelledby={`note_${annotation.Id}`}\n        ariaCurrent={isSelected}\n        dataElement=\"expandNoteButton\"\n      />\n      <NoteContent\n        noteIndex={0}\n        annotation={annotation}\n        setIsEditing={setIsEditing}\n        handleNoteClick={handleNoteClick}\n        isEditing={isEditingMap[0]}\n        isNonReplyNoteRead={!unreadAnnotationIdSet.has(annotation.Id)}\n        isUnread={unreadAnnotationIdSet.has(annotation.Id) || hasUnreadReplies}\n        handleMultiSelect={(e) => {\n          setCurAnnotId(annotation.Id);\n          handleMultiSelect(e);\n        }}\n        isMultiSelected={isMultiSelected}\n        isMultiSelectMode={isMultiSelectMode}\n      />\n      {(isSelected || isExpandedFromSearch || shouldExpandCommentThread) && !isTrackedChange && (\n        <>\n          {replies.length > 0 && (\n            <div className={repliesClass}>\n              {hasUnreadReplies && (\n                <Button\n                  dataElement=\"markAllReadButton\"\n                  className=\"mark-all-read-button\"\n                  label={t('action.markAllRead')}\n                  onClick={markAllRepliesRead}\n                />\n              )}\n              {replies.map((reply, i) => (\n                <div className=\"reply\" id={`note_reply_${reply.Id}`} key={`note_reply_${reply.Id}`}>\n                  <NoteContent\n                    noteIndex={i + 1}\n                    key={reply.Id}\n                    annotation={reply}\n                    setIsEditing={setIsEditing}\n                    isEditing={isEditingMap[i + 1]}\n                    onReplyClicked={handleReplyClicked}\n                    isUnread={unreadAnnotationIdSet.has(reply.Id)}\n                    handleMultiSelect={handleMultiSelect}\n                    isMultiSelected={isMultiSelected}\n                    isMultiSelectMode={isMultiSelectMode}\n                    handleNoteClick={handleNoteClick}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n          {isGroup &&\n            <NoteGroupSection\n              groupAnnotations={groupAnnotations}\n              isMultiSelectMode={isMultiSelectMode}\n            />}\n          {showReplyArea && !isMultiSelectMode && (\n            <ReplyArea\n              isUnread={lastReplyId && unreadAnnotationIdSet.has(lastReplyId)}\n              onPendingReplyChange={markAllRepliesRead}\n              annotation={annotation}\n            />\n          )}\n        </>\n      )}\n      {isRenderingConnectorLine && (\n        <AnnotationNoteConnectorLine\n          annotation={annotation}\n          noteContainerRef={containerRef}\n          isCustomPanelOpen={isCustomPanelOpen}\n        />\n      )}\n    </div>\n  );\n};\n\nNote.propTypes = propTypes;\n\nexport default Note;\n","import Note from './Note';\n\nexport default Note;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./InlineCommentingPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.InlineCommentingPopup{visibility:visible}.closed.InlineCommentingPopup{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.InlineCommentingPopup{position:absolute;z-index:70;display:flex;justify-content:center;align-items:center}.InlineCommentingPopup:empty{padding:0}.InlineCommentingPopup .buttons{display:flex}.InlineCommentingPopup .Button{margin:4px;width:32px;height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Button{width:42px;height:42px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Button{width:42px;height:42px}}.InlineCommentingPopup .Button:hover{background:var(--popup-button-hover)}.InlineCommentingPopup .Button:hover:disabled{background:none}.InlineCommentingPopup .Button .Icon{width:18px;height:18px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Button .Icon{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Button .Icon{width:24px;height:24px}}.is-vertical.InlineCommentingPopup .Button.main-menu-button{width:100%;border-radius:0;justify-content:flex-start;padding-inline-start:var(--padding-small);padding-inline-end:var(--padding-small);margin:0 0 var(--padding-tiny) 0}.is-vertical.InlineCommentingPopup .Button.main-menu-button:first-child{margin-top:var(--padding-tiny)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .is-vertical.InlineCommentingPopup .Button.main-menu-button{width:100%;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .is-vertical.InlineCommentingPopup .Button.main-menu-button{width:100%;height:32px}}.is-vertical.InlineCommentingPopup .Button.main-menu-button .Icon{margin-inline-end:10px}.is-vertical.InlineCommentingPopup .Button.main-menu-button span{white-space:nowrap}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.InlineCommentingPopup{border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);align-items:flex-start}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;flex-direction:column;justify-content:flex-end;width:100%;background:var(--modal-negative-space)}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;flex-direction:column;justify-content:flex-end;width:100%;background:var(--modal-negative-space)}}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup{overflow:auto;max-height:calc(100% - 100px)}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup{overflow:auto;max-height:calc(100% - 100px)}}.InlineCommentingPopup .inline-comment-container{display:flex;flex-direction:column}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .inline-comment-container{flex-basis:auto;width:100%;max-height:40%;background:var(--component-background);box-shadow:0 0 3px 0 var(--document-box-shadow);border-radius:4px 4px 0 0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .inline-comment-container{flex-basis:auto;width:100%;max-height:40%;background:var(--component-background);box-shadow:0 0 3px 0 var(--document-box-shadow);border-radius:4px 4px 0 0}}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .inline-comment-container{width:260px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .inline-comment-container{width:260px}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .inline-comment-container.expanded{flex-grow:1;max-height:90%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .inline-comment-container.expanded{flex-grow:1;max-height:90%}}.InlineCommentingPopup .inline-comment-container .inline-comment-header{flex-grow:0;flex-shrink:0;display:flex;flex-direction:row;align-items:center}.InlineCommentingPopup .inline-comment-container .inline-comment-header .inline-comment-header-title{flex-grow:1;font-size:16px}.InlineCommentingPopup .inline-comment-container .inline-comment-header .Button{margin:4px}.InlineCommentingPopup .Note{border-radius:0;background:none;margin:0;cursor:default}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note{flex-grow:1;display:flex;flex-direction:column;overflow:auto;box-shadow:0 0 3px 0 var(--document-box-shadow)}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note{flex-grow:1;display:flex;flex-direction:column;overflow:auto;box-shadow:0 0 3px 0 var(--document-box-shadow)}}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note{box-shadow:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note{box-shadow:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note>div:not(:nth-last-child(2)){flex-grow:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note>div:not(:nth-last-child(2)){flex-grow:0}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note>div:nth-last-child(2){flex-grow:1}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note>div:nth-last-child(2){flex-grow:1}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note>.NoteContent:only-child{flex-grow:1}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note>.NoteContent:only-child{flex-grow:1}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Note>.NoteContent:only-child .edit-content{flex-grow:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Note>.NoteContent:only-child .edit-content{flex-grow:0}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .NoteHeader{flex-grow:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .NoteHeader{flex-grow:0}}.InlineCommentingPopup .NoteContent .edit-content{margin-top:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .ql-container,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .ql-editor,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .quill{font-size:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .ql-container,.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .ql-editor,.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .quill{font-size:16px}}.InlineCommentingPopup .Button,.InlineCommentingPopup .Button.add-attachment,.InlineCommentingPopup .Button.reply-button{margin:0}.InlineCommentingPopup .Button.add-attachment .Icon,.InlineCommentingPopup .Button.reply-button .Icon{width:22px;height:22px}.InlineCommentingPopup .Button.add-attachment{width:24px;height:24px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Button.add-attachment{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Button.add-attachment{width:24px;height:24px}}.InlineCommentingPopup .Button.note-popup-toggle-trigger,.InlineCommentingPopup .Button.reply-button{width:28px;height:28px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Button.note-popup-toggle-trigger,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .InlineCommentingPopup .Button.reply-button{width:28px;height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Button.note-popup-toggle-trigger,.App.is-web-component:not(.is-in-desktop-only-mode) .InlineCommentingPopup .Button.reply-button{width:28px;height:28px}}.sb-show-main .InlineCommentingPopup .quill.comment-textarea{padding:0}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState } from 'react';\nimport Draggable from 'react-draggable';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport NoteContext from 'components/Note/Context';\nimport Note from 'components/Note';\nimport ReplyAttachmentPicker from 'components/NotesPanel/ReplyAttachmentPicker';\nimport Button from 'components/Button';\n\nimport DataElements from 'src/constants/dataElement';\n\nimport { mapAnnotationToKey, annotationMapKeys } from 'constants/map';\n\nimport './InlineCommentingPopup.scss';\n\nconst propTypes = {\n  isMobile: PropTypes.bool,\n  isUndraggable: PropTypes.bool,\n  isNotesPanelClosed: PropTypes.bool,\n  popupRef: PropTypes.any,\n  position: PropTypes.object,\n  closeAndReset: PropTypes.func,\n  commentingAnnotation: PropTypes.object,\n  contextValue: PropTypes.object,\n  annotationForAttachment: PropTypes.string,\n  addAttachments: PropTypes.func,\n};\n\nconst InlineCommentingPopup = ({\n  isMobile,\n  isUndraggable,\n  isNotesPanelClosed,\n  popupRef,\n  position,\n  closeAndReset,\n  commentingAnnotation,\n  contextValue,\n  annotationForAttachment,\n  addAttachments,\n}) => {\n  const [t] = useTranslation();\n  const [isExpanded, setExpanded] = useState(false);\n\n  const isTrackedChange = mapAnnotationToKey(commentingAnnotation) === annotationMapKeys.TRACKED_CHANGE;\n\n  const inlineCommentPopup = (\n    <div\n      className={classNames({\n        Popup: true,\n        InlineCommentingPopup: true,\n        open: isNotesPanelClosed,\n        trackedChangePopup: isTrackedChange,\n      })}\n      ref={popupRef}\n      data-element={DataElements.INLINE_COMMENT_POPUP}\n      style={{ ...position }}\n      onMouseMove={(e) => {\n        e.stopPropagation();\n      }}\n      onMouseDown={(e) => {\n        if (isMobile) {\n          e.stopPropagation();\n          closeAndReset();\n        }\n      }}\n      onKeyDown={(e) => {\n        if (e.key === 'Escape') {\n          closeAndReset();\n        }\n      }}\n    >\n      <div\n        className={classNames({\n          'inline-comment-container': true,\n          'expanded': isExpanded,\n        })}\n        onMouseDown={(e) => {\n          if (isMobile) {\n            e.stopPropagation();\n          }\n        }}\n      >\n        {isMobile && (\n          <div className='inline-comment-header'>\n            <Button\n              img={isExpanded ? 'icon-chevron-down' : 'icon-chevron-up'}\n              className=\"expand-arrow\"\n              dataElement={DataElements.INLINE_COMMENT_POPUP_EXPAND_BUTTON}\n              onClick={() => setExpanded(!isExpanded)}\n            />\n            <span className='inline-comment-header-title'>{t('action.comment')}</span>\n            <Button\n              img={'icon-close'}\n              dataElement={DataElements.INLINE_COMMENT_POPUP_CLOSE_BUTTON}\n              onClick={closeAndReset}\n            />\n          </div>\n        )}\n        <NoteContext.Provider value={contextValue}>\n          <Note\n            annotation={commentingAnnotation}\n            isMultiSelected={false}\n            isMultiSelectMode={false}\n            handleMultiSelect={() => { }}\n          />\n          <ReplyAttachmentPicker\n            annotationId={annotationForAttachment}\n            addAttachments={addAttachments}\n          />\n        </NoteContext.Provider>\n      </div>\n    </div>\n  );\n\n  return isUndraggable || isTrackedChange ? (\n    inlineCommentPopup\n  ) : (\n    <Draggable cancel=\".Button, .cell, svg, select, button, input, .quill, .note-text-preview\">{inlineCommentPopup}</Draggable>\n  );\n};\n\nInlineCommentingPopup.propTypes = propTypes;\n\nexport default InlineCommentingPopup;\n","import React, { useState, useRef, useCallback, useLayoutEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport InlineCommentingPopup from './InlineCommentingPopup';\nimport core from 'core';\nimport { getAnnotationPopupPositionBasedOn as getPopupPosition } from 'helpers/getPopupPosition';\nimport { getOpenedWarningModal, getOpenedColorPicker, getDatePicker } from 'helpers/getElements';\nimport useOnClickOutside from 'hooks/useOnClickOutside';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport { isMobile as isPhone, isIE, isMobileDevice } from 'helpers/device';\nimport DataElements from 'constants/dataElement';\nimport getRootNode from 'helpers/getRootNode';\nimport debounce from 'lodash/debounce';\nimport PropTypes from 'prop-types';\nimport { workerTypes } from 'constants/types';\n\nconst propTypes = {\n  annotation: PropTypes.object,\n  closeAndReset: PropTypes.func,\n};\n\nconst InlineCommentingPopupContainer = ({ annotation, closeAndReset }) => {\n  const [\n    isNotesPanelOpen,\n    notesInLeftPanel,\n    isLeftPanelOpen,\n    activeLeftPanel,\n    showAnnotationNumbering,\n    sortStrategy,\n    isDocumentReadOnly,\n    activeDocumentViewerKey,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, DataElements.NOTES_PANEL),\n      selectors.getNotesInLeftPanel(state),\n      selectors.isElementOpen(state, DataElements.LEFT_PANEL),\n      selectors.getActiveLeftPanel(state),\n      selectors.isAnnotationNumberingEnabled(state),\n      selectors.getSortStrategy(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n  const dispatch = useDispatch();\n  const [position, setPosition] = useState({ left: 0, top: 0 });\n  const popupRef = useRef();\n  // on tablet, the behaviour will be like on desktop, except being draggable\n  const isMobile = isPhone();\n  const isUndraggable = isMobile || !!isMobileDevice || isIE;\n  const isNotesPanelOpenOrActive = isNotesPanelOpen || (notesInLeftPanel && isLeftPanelOpen && activeLeftPanel === 'notesPanel');\n  const sixtyFramesPerSecondIncrement = 16;\n\n  useOnClickOutside(popupRef, (e) => {\n    const notesPanel = getRootNode().querySelector('[data-element=\"notesPanel\"]');\n    const clickedInNotesPanel = notesPanel?.contains(e.target);\n    const noteStateFlyout = getRootNode().querySelector(`[data-element=\"noteStateFlyout-${annotation.Id}\"]`);\n    const clickedInNoteStateFlyout = noteStateFlyout?.contains(e.target);\n    const datePicker = getDatePicker();\n    const warningModal = getOpenedWarningModal();\n    const colorPicker = getOpenedColorPicker();\n\n    // the notes panel has mousedown handlers to handle the opening/closing states of this component\n    // we don't want this handler to run when clicked in the notes panel otherwise the opening/closing states may mess up\n    // for example: click on a note will call core.selectAnnotation which triggers the annotationSelected event\n    // and opens this component. If we don't exclude the notes panel this handler will run and close it after\n    if (!clickedInNotesPanel && !clickedInNoteStateFlyout && !warningModal && !colorPicker && !datePicker) {\n      dispatch(actions.closeElement(DataElements.INLINE_COMMENT_POPUP));\n    }\n  });\n\n  const isNotesPanelClosed = !isNotesPanelOpenOrActive;\n\n  const setPopupPosition = () => {\n    if (isNotesPanelClosed && popupRef.current && !isMobile) {\n      setPosition(getPopupPosition(annotation, popupRef, activeDocumentViewerKey));\n    }\n  };\n\n  useLayoutEffect(() => {\n    setPopupPosition();\n  }, [activeDocumentViewerKey, annotation]);\n\n  const handleResize = debounce(() => {\n    setPopupPosition();\n  }, sixtyFramesPerSecondIncrement, { 'trailing': true, 'leading': false });\n\n  useLayoutEffect(() => {\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  // TO-DO refactor: Lines 189-239 was copied from NotesPanel 228-275\n  const [pendingAttachmentMap, setPendingAttachmentMap] = useState({});\n  const addAttachments = (annotationID, attachments) => {\n    setPendingAttachmentMap((map) => ({\n      ...map,\n      [annotationID]: [...(map[annotationID] || []), ...attachments]\n    }));\n  };\n\n  const [annotationForAttachment, setAnnotationForAttachment] = useState(undefined);\n\n  const [pendingEditTextMap, setPendingEditTextMap] = useState({});\n  const setPendingEditText = useCallback(\n    (pendingText, annotationID) => {\n      setPendingEditTextMap((map) => ({\n        ...map,\n        [annotationID]: pendingText,\n      }));\n    },\n    [setPendingEditTextMap],\n  );\n\n  const [pendingReplyMap, setPendingReplyMap] = useState({});\n  const setPendingReply = useCallback(\n    (pendingReply, annotationID) => {\n      setPendingReplyMap((map) => ({\n        ...map,\n        [annotationID]: pendingReply,\n      }));\n    },\n    [setPendingReplyMap],\n  );\n  const clearAttachments = (annotationID) => {\n    setPendingAttachmentMap((map) => ({\n      ...map,\n      [annotationID]: []\n    }));\n  };\n  const deleteAttachment = (annotationID, attachment) => {\n    const attachmentList = pendingAttachmentMap[annotationID];\n    if (attachmentList?.length > 0) {\n      const index = attachmentList.indexOf(attachment);\n      if (index > -1) {\n        attachmentList.splice(index, 1);\n        setPendingAttachmentMap((map) => ({\n          ...map,\n          [annotationID]: [...attachmentList]\n        }));\n      }\n    }\n  };\n\n  const contextValue = {\n    searchInput: '',\n    resize: () => {\n      if (core.getDocument()?.getType() === workerTypes.OFFICE_EDITOR) {\n        setPosition(getPopupPosition(annotation, popupRef, activeDocumentViewerKey));\n      }\n    },\n    isSelected: true,\n    isContentEditable: core.canModifyContents(annotation) && !annotation.getContents(),\n    pendingEditTextMap,\n    setPendingEditText,\n    pendingReplyMap,\n    setPendingReply,\n    isDocumentReadOnly,\n    onTopNoteContentClicked: () => { },\n    isExpandedFromSearch: false,\n    scrollToSelectedAnnot: false,\n    sortStrategy,\n    showAnnotationNumbering,\n    setCurAnnotId: setAnnotationForAttachment,\n    pendingAttachmentMap,\n    addAttachments,\n    clearAttachments,\n    deleteAttachment,\n  };\n\n  return (\n    <InlineCommentingPopup\n      isMobile={isMobile}\n      isUndraggable={isUndraggable}\n      isNotesPanelClosed={isNotesPanelClosed}\n      popupRef={popupRef}\n      position={position}\n      closeAndReset={closeAndReset}\n      commentingAnnotation={annotation}\n      contextValue={contextValue}\n      annotationForAttachment={annotationForAttachment}\n      addAttachments={addAttachments}\n    />\n  );\n};\n\nInlineCommentingPopupContainer.propTypes = propTypes;\n\nexport default InlineCommentingPopupContainer;\n","import InlineCommentingPopupContainer from './InlineCommentingPopupContainer';\n\nexport default InlineCommentingPopupContainer;"],"sourceRoot":""}