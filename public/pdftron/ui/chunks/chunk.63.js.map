{"version":3,"sources":["webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss?985d","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.js","webpack:///./src/ui/src/components/FileAttachmentPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","getActualFileName","filename","match","renderAttachment","onClickCallback","key","showFileIdProcessSpinner","fileExtension","split","pop","toUpperCase","handleKeyDown","event","React","createElement","className","onClick","onKeyDown","style","cursor","background","border","padding","type","concat","Spinner","height","width","initialFilesDefault","embeddedFiles","fileAttachmentAnnotations","FileAttachmentPanel","_ref","_ref$initialFiles","initialFiles","useTranslation","dispatch","useDispatch","_useState2","useState","fileAttachments","setFileAttachments","isMultiTab","useSelector","selectors","getIsMultiTab","tabManager","getTabManager","_useState4","setFileIdProcessSpinner","useEffect","updateFileAttachments","_ref2","_callee","attachments","_context","getFileAttachments","core","addEventListener","removeEventListener","entries","Icon","glyph","panelData","panelNames","FILE_ATTACHMENT","icon","attachmentPanelItemOnClick","_ref3","_callee3","fileAttachmentAnnot","_context3","actions","openElement","DataElements","LOADING_MODAL","setTimeout","_callee2","blob","newTabId","_context2","getFileData","addTab","closeElement","LEFT_PANEL","setActiveTab","getAnnotationManager","trigger","_x","map","file","idx","getEmbeddedFileData","fileObject","saveAs","_ref5","_ref6","pageNumber","fileAttachmentAnnotsPerPage","_callee4","_context4","setCurrentPage","selectAnnotation"],"mappings":"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","file":"chunks/chunk.63.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./FileAttachmentPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.fileAttachmentPanel{z-index:65;display:flex;flex-direction:column;transition:transform .3s ease,visibility 0s ease .3s}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .fileAttachmentPanel{inset-block-start:0;width:100%;height:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .fileAttachmentPanel{inset-block-start:0;width:100%;height:100%}}.open.fileAttachmentPanel{transform:none;visibility:visible;transition:transform .3s ease,visibility 0s ease 0s}.fileAttachmentPanel .empty-panel-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;padding:36px;grid-gap:8px;gap:8px}.fileAttachmentPanel .empty-panel-container .empty-icon{width:60px;height:60px;color:var(--gray-6);fill:var(--gray-6)}.fileAttachmentPanel .empty-panel-container .empty-icon svg{width:60px;height:60px}.fileAttachmentPanel .empty-panel-container .empty-message{text-align:center;max-width:131px;font-size:13px}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .fileAttachmentPanel .empty-panel-container .empty-message{line-height:15px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .fileAttachmentPanel .empty-panel-container .empty-message{line-height:15px}}.fileAttachmentPanel{display:block;font-size:var(--font-size-default)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .fileAttachmentPanel{margin:16px;width:auto;flex-grow:1;overflow-y:auto}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .fileAttachmentPanel{margin:16px;width:auto;flex-grow:1;overflow-y:auto}}.fileAttachmentPanel .section{margin-bottom:8px}.fileAttachmentPanel .section h2.title{font-weight:700;font-size:13px;padding-inline-start:var(--fileAttachment-title-padding);margin:12px 0}.fileAttachmentPanel .section ul.downloadable{padding-inline-start:var(--fileAttachment-list-padding)}.fileAttachmentPanel .section ul.downloadable>li{width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:4px 0}.fileAttachmentPanel .section ul.downloadable>li>button{cursor:pointer;color:var(--secondary-button-text);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:4px 0}.fileAttachmentPanel .section ul.downloadable>li>button:hover{color:var(--secondary-button-hover)}.fileAttachmentPanel .section ul.downloadable .embedSpinner{display:flex;flex-direction:row;justify-content:space-between}.fileAttachmentPanel .section ul.downloadable .embedSpinner .spinner{margin:0}.fileAttachmentPanel .section ul ul{padding-inline-start:10px;list-style-type:none}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getFileAttachments, getEmbeddedFileData } from 'helpers/getFileAttachments';\r\nimport Spinner from '../Spinner';\r\nimport { saveAs } from 'file-saver';\r\nimport Icon from 'components/Icon';\r\nimport core from 'core';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport selectors from 'selectors';\r\nimport actions from 'actions';\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport './FileAttachmentPanel.scss';\r\nimport { panelData, panelNames } from 'constants/panel';\r\n\r\nconst getActualFileName = (filename) => {\r\n  const fileNameRegex = /[^\\\\\\/]+$/g;\r\n  return filename.match(fileNameRegex)[0];\r\n};\r\n\r\nconst renderAttachment = (filename, onClickCallback, key, showFileIdProcessSpinner) => {\r\n  filename = getActualFileName(filename);\r\n  const fileExtension = filename.split('.').pop().toUpperCase();\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      onClickCallback();\r\n    }\r\n  };\r\n\r\n  if (showFileIdProcessSpinner === key) {\r\n    return (\r\n      <li key={key}>\r\n        <button\r\n          className='embedSpinner'\r\n          onClick={onClickCallback}\r\n          onKeyDown={handleKeyDown}\r\n          style={{ cursor: 'pointer', background: 'none', border: 'none', padding: 0 }}\r\n          type=\"button\"\r\n        >\r\n          {`[${fileExtension}] ${filename}`}<Spinner height={15} width={15}/>\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n  return (\r\n    <li key={key}>\r\n      <button\r\n        className='embedSpinner'\r\n        onClick={onClickCallback}\r\n        onKeyDown={handleKeyDown}\r\n        style={{ cursor: 'pointer', background: 'none', border: 'none', padding: 0 }}\r\n        type=\"button\"\r\n      >\r\n        {`[${fileExtension}] ${filename}`}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\n\r\nconst initialFilesDefault = { embeddedFiles: [], fileAttachmentAnnotations: [] };\r\n\r\nconst FileAttachmentPanel = ({ initialFiles = initialFilesDefault }) => {\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const [fileAttachments, setFileAttachments] = useState(initialFiles);\r\n  const isMultiTab = useSelector(selectors.getIsMultiTab);\r\n  const tabManager = useSelector(selectors.getTabManager);\r\n  const [showFileIdProcessSpinner, setFileIdProcessSpinner] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const updateFileAttachments = async () => {\r\n      const attachments = await getFileAttachments();\r\n      setFileAttachments(attachments);\r\n    };\r\n    core.addEventListener('annotationChanged', updateFileAttachments);\r\n    core.addEventListener('documentLoaded', updateFileAttachments);\r\n    updateFileAttachments();\r\n    return () => {\r\n      core.removeEventListener('annotationChanged', updateFileAttachments);\r\n      core.removeEventListener('documentLoaded', updateFileAttachments);\r\n    };\r\n  }, []);\r\n\r\n  if (\r\n    fileAttachments.embeddedFiles.length === 0 &&\r\n    Object.entries(fileAttachments.fileAttachmentAnnotations).length === 0\r\n  ) {\r\n    return (\r\n      <div className=\"fileAttachmentPanel\">\r\n        <div className=\"empty-panel-container\">\r\n          <Icon className=\"empty-icon\" glyph={panelData[panelNames.FILE_ATTACHMENT].icon}/>\r\n          <div className=\"empty-message\">{t('message.noAttachments')}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const attachmentPanelItemOnClick = async (fileAttachmentAnnot) => {\r\n    if (isMultiTab) {\r\n      dispatch(actions.openElement(DataElements.LOADING_MODAL));\r\n      setTimeout(async () => {\r\n        const blob = await fileAttachmentAnnot.getFileData();\r\n        const filename = getActualFileName(fileAttachmentAnnot.filename);\r\n        const newTabId = await tabManager.addTab(blob, { filename });\r\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\r\n        dispatch(actions.closeElement(DataElements.LEFT_PANEL));\r\n        await tabManager.setActiveTab(newTabId);\r\n      }, 100);\r\n    } else {\r\n      return core.getAnnotationManager().trigger('annotationDoubleClicked', fileAttachmentAnnot);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fileAttachmentPanel\">\r\n      <div className=\"section\">\r\n        {fileAttachments.embeddedFiles.length ? <h2 className=\"title\">{t('message.embeddedFiles')}</h2> : null}\r\n        <ul className=\"downloadable\">\r\n          {fileAttachments.embeddedFiles.map((file, idx) => renderAttachment(\r\n            getActualFileName(file.filename),\r\n            () => {\r\n              setFileIdProcessSpinner(`embeddedFile_${idx}`);\r\n              getEmbeddedFileData(file.fileObject).then((blob) => {\r\n                saveAs(blob, getActualFileName(file.filename));\r\n              }).finally(() => {\r\n                setFileIdProcessSpinner(null);\r\n              });\r\n            },\r\n            `embeddedFile_${idx}`,\r\n            showFileIdProcessSpinner\r\n          )\r\n          )}\r\n        </ul>\r\n      </div>\r\n\r\n      {Object.entries(fileAttachments.fileAttachmentAnnotations).map(([pageNumber, fileAttachmentAnnotsPerPage]) => {\r\n        return (\r\n          <div key={pageNumber} className=\"section\">\r\n            <h2 className=\"title\">\r\n              {t('message.pageNum')} {pageNumber}\r\n            </h2>\r\n            <ul className=\"downloadable\">\r\n              {fileAttachmentAnnotsPerPage.map((fileAttachmentAnnot, idx) => renderAttachment(\r\n                getActualFileName(fileAttachmentAnnot.filename),\r\n                async () => {\r\n                  core.setCurrentPage(fileAttachmentAnnot['PageNumber']);\r\n                  core.selectAnnotation(fileAttachmentAnnot);\r\n                  await attachmentPanelItemOnClick(fileAttachmentAnnot);\r\n                },\r\n                `fileAttachmentAnnotation_${idx}`,\r\n              ),\r\n              )}\r\n            </ul>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileAttachmentPanel;\r\n","import FileAttachmentPanel from './FileAttachmentPanel';\r\n\r\nexport default FileAttachmentPanel;\r\n"],"sourceRoot":""}