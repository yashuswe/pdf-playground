{"version":3,"sources":["webpack:///./src/ui/src/components/PrintModal/PrintModal.scss?9a1b","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.scss?66f7","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.scss","webpack:///./src/ui/src/components/PrintModal/PrintModal.scss","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/web-fonts.js","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.js","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/index.js","webpack:///./src/ui/src/components/PrintModal/PrintModal.js","webpack:///./src/ui/src/components/PrintModal/PrintModalContainer.js","webpack:///./src/ui/src/components/PrintModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","FONTS","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_callSuper","_getPrototypeOf","_typeof","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","Boolean","valueOf","Reflect","construct","_isNativeReflectConstruct","constructor","_setPrototypeOf","_defineProperty","toPrimitive","String","Number","_toPrimitive","WATERMARK_LOCATIONS","CENTER","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOT_LEFT","BOT_RIGHT","BOT_CENTER","FORM_FIELD_KEYS","DEFAULT_VALS","Core","Annotations","Color","WATERMARK_API_LOCATIONS","WatermarkModal","_React$PureComponent","props","_this","_classCallCheck","isVisible","setState","locationSettings","state","previousLocationSettings","_callee","_context","core","getWatermark","preExistingWatermark","addWatermarks","removeWatermarkCreatedByModal","setWatermark","watermarkOptions","createWatermarks","pageHeight","getPageHeight","pageIndexToView","desiredZoomForWidth","getPageWidth","desiredZoomForHeight","desiredZoom","Math","min","pageNumber","getDocument","loadCanvas","zoom","drawComplete","canvas","nodes","canvasContainerRef","current","childNodes","removeChild","style","border","height","backgroundColor","setAttribute","concat","fontStyles","isBolded","getFontStyles","BOLD","isItalic","ITALIC","isUnderlined","UNDERLINE","fontSize","fontFamily","font","color","toString","opacity","text","watermarks","keys","temp","constructWatermarkOption","modalClosed","currLocationSettings","_objectSpread","currSelectedLocation","getCurrentSelectedLocation","event","preventDefault","resetLocationSettings","formSubmitted","visible","isColorPaletteVisible","locationKey","locationSetting","isSelected","assign","_objectDestructuringEmpty","location","watermarkLocations","_this$props$watermark","_tempWatermarkProps$f","watermarkStrVal","tempWatermarkProps","colorArray","slice","replace","split","includes","trim","object","find","newColor","currLocation","currLocationSetting","R","B","initializeLocationSettings","undefined","lockFocus","React","createRef","_inherits","_createClass","prevProps","_this2","addEventListener","this","closeModal","handleWatermarkOnVisibilityChanged","_this3","_this$props","isCustomizableUI","formInfo","hexColor","toHexString","dropdownHalfWidth","isMobile","dropdownFullWidth","createElement","DataElementWrapper","className","id","data-element","ModalWrapper","isOpen","title","closeButtonDataElement","onCloseClick","swipeToClose","closeHandler","ref","onSubmit","htmlFor","Dropdown","labelledById","dataElement","items","getTranslationLabel","currentSelectionKey","onClickItem","onLocationChanged","width","onChange","handleInputChange","target","type","FontSizeDropdown","fontUnit","onFontSizeChange","val","parseInt","maxFontSize","initialFontValue","initialMaxFontValue","Slider","property","displayProperty","max","step","getDisplayValue","round","withInputField","inputFieldType","onSliderChange","onStyleChange","getLocalValue","Button","ariaLabel","onClick","setColorPaletteVisibility","img","isActive","ColorPalette","onColorChanged","resetForm","onOkPressed","PureComponent","PropTypes","bool","number","func","isRequired","withTranslation","PrintModal","_ref","isDisabled","isApplyWatermarkDisabled","isFullAPIEnabled","currentPage","printQuality","isGrayscale","setIsGrayscale","setIsCurrentView","isCurrentViewDisabled","includeAnnotations","setIncludeAnnotations","includeComments","setIncludeComments","isWatermarkModalVisible","setIsWatermarkModalVisible","watermarkModalOptions","existingWatermarksRef","setAllowWatermarkModal","closePrintModal","createPagesAndPrint","pagesToPrint","setPagesToPrint","count","isPrinting","layoutMode","useEmbeddedPrint","pageLabels","propTypes","array","string","dispatch","useDispatch","_slicedToArray","useTranslation","allPages","useRef","currentPageRef","customPages","includeCommentsRef","currentView","_useState2","useState","embedPrintValid","setEmbedPrintValid","_useState4","specifiedPages","setSpecifiedPages","_useState6","pageNumberError","setPageNumberError","_useState8","isCustomPagesChecked","setIsCustomPagesChecked","customizableUI","useSelector","_selectors$getFeature","selectors","getFeatureFlags","printQualityOptions","1","2","setWatermarkModalVisibility","getClassName","customPagesLabelElement","Fragment","classNames","error","PageNumberInput","selectedPageNumbers","pageCount","getTotalPages","onSelectedPageNumbersChange","pageNumbers","onBlurHandler","onError","customPageLabels","enablePageLabels","useEffect","_currentView$current","_customPages$current","_allPages$current","_currentView$current2","_currentPageRef$curre","_customPages$current2","_currentView$current3","checked","LayoutMode","FacingCover","FacingCoverContinuous","FacingContinuous","Facing","watermark","getType","openWaterMarkModalWithFocusTransfer","useFocusHandler","submitWatermarkModalOptions","useFocusOnClose","actions","setWatermarkModalOptions","DataElements","PRINT_MODAL","containerOnClick","stopPropagation","Choice","name","radio","label","defaultChecked","disabled","center","prevState","PRINT_QUALITY","item","quality","setPrintQuality","PRINT_WATERMARK","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","from","test","_unsupportedIterableToArray","_nonIterableRest","PrintModalContainer","_useSelector2","isElementDisabled","isElementOpen","getCurrentPage","getPrintQuality","getDefaultPrintOptions","getPageLabels","getSortStrategy","getColorMap","getDisplayMode","getPrintedNoteDateFormat","getCurrentLanguage","getWatermarkModalOptions","getTimezone","isEmbedPrintSupported","shallowEqual","defaultPrintOptions","sortStrategy","colorMap","printedNoteDateFormat","language","timezone","allowWatermarkModal","setCount","maintainPageOrientation","setMaintainPageOrientation","_useState0","_useState10","_useState12","_useState14","_useState16","isCurrentView","_useState18","setIsCurrentViewDisabled","_defaultPrintOptions$","_defaultPrintOptions$2","_defaultPrintOptions$3","checkCurrentView","closeElements","SIGNATURE_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","visiblePagesArray","getDisplayModeObject","getVisiblePages","embeddedPrinting","isAlwaysPrintAnnotationsInColorEnabled","printingOptions","annotationManager","_t","_t2","getDocumentViewer","getAnnotationManager","printEmbeddedPDF","processEmbeddedPrintOptions","rasterPrinting","printOptions","createCanvases","createPages","createRasterizedPrintPages","_ref2","_callee2","pagePromise","_context2","_x","all","pages","printPages","closePrintModalAfterPrint","console","closeElement","isFullPDFEnabled","fileType","warn"],"mappings":"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","file":"chunks/chunk.54.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PrintModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./WatermarkModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Watermark{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.Watermark .modal-container .wrapper .modal-content{padding:10px}.Watermark .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.Watermark .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.Watermark .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.Watermark .footer .modal-button.confirm{margin-inline-start:4px}.Watermark .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .footer .modal-button{padding:23px 8px}}.Watermark .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .swipe-indicator{width:32px}}.open.Watermark{visibility:visible}.closed.Watermark{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Watermark .button-container .button.add-watermark:hover,.Watermark .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.Watermark .button-container .button.add-watermark,.Watermark .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.Watermark .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.Watermark .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.Watermark .footer .modal-button.cancel:hover,.Watermark .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.Watermark .footer .modal-button.cancel,.Watermark .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.Watermark .footer .modal-button.cancel.disabled,.Watermark .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.Watermark .footer .modal-button.cancel.disabled span,.Watermark .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.Watermark{z-index:110}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .modal-container{overflow:visible}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .modal-container{overflow:visible}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .h2{font-size:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .h2{font-size:16px}}.Watermark .StylePopup{position:absolute;margin-top:-140px;background:var(--preset-background);display:flex;flex-direction:column;justify-content:center;border-radius:0 0 4px 4px;box-shadow:0 0 3px 0 var(--box-shadow);align-items:center;z-index:85}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.Watermark .StylePopup{margin-top:0}}.Watermark .StylePopup .ColorPalette{padding:10px}.Watermark .style-container{display:flex}.Watermark .style-container .Button{margin-inline-end:8px}.Watermark .style-container .Button:hover{background:var(--popup-button-hover)}.Watermark .style-container .Button.active{background:var(--popup-button-active)}.Watermark .form-content-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:16px;width:100%}.Watermark .form-content-container form{width:auto}@media(min-width:315px)and (max-width:480px){.Watermark .form-content-container form{width:auto}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .form-content-container{flex-direction:column;padding:16px 16px 0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .form-content-container{flex-direction:column;padding:16px 16px 0}}.Watermark .font-form-fields{display:flex;flex-direction:column;margin:0}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields{flex-direction:row}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields{flex-direction:row}}.Watermark .font-form-fields .form-font-type{margin-top:16px;margin-inline-start:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-type{width:160px;margin-inline-start:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-type{width:160px;margin-inline-start:0}}.Watermark .font-form-fields .form-font-type label{font-weight:700}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-type label{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-type label{font-size:13px}}.Watermark .font-form-fields .form-font-type .Dropdown__wrapper{margin-top:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-type .Dropdown__wrapper{width:160px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-type .Dropdown__wrapper{width:160px}}.Watermark .font-form-fields .form-font-type .Dropdown__wrapper .Dropdown{text-align:start;height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-type .Dropdown__wrapper .Dropdown{height:28px;width:160px;z-index:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-type .Dropdown__wrapper .Dropdown{height:28px;width:160px;z-index:0}}.Watermark .font-form-fields .form-font-type .Dropdown__wrapper .Dropdown__items{width:100%;inset-block-start:0}.Watermark .font-form-fields .form-font-type .Dropdown__wrapper#location .Dropdown__items{z-index:101}.Watermark .font-form-fields .form-font-size{margin-top:16px;margin-inline-start:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-size{width:160px;margin-inline-start:8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-size{width:160px;margin-inline-start:8px}}.Watermark .font-form-fields .form-font-size label{font-weight:700}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-size label{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-size label{font-size:13px}}.Watermark .font-form-fields .form-font-size .FontSizeDropdown{padding:2px;height:32px;margin-top:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .font-form-fields .form-font-size .FontSizeDropdown{height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .font-form-fields .form-font-size .FontSizeDropdown{height:28px}}.Watermark .font-form-fields .form-font-size .FontSizeDropdown .icon-button{cursor:pointer;width:14px;height:14px}.Watermark .font-form-fields .form-font-size .FontSizeDropdown .icon-button>.Icon{color:var(--icon-color);width:12px;height:16px;margin-top:2px}.Watermark .watermark-settings{display:flex;flex-direction:column;width:330px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings{width:100%;height:374px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings{width:100%;height:374px}}.Watermark .watermark-settings .form-field{display:flex;flex-direction:column;margin:16px 0 0 16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field{margin:0;width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field{margin:0;width:100%}}.Watermark .watermark-settings .form-field label{margin-bottom:8px;font-weight:700}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field label{margin-top:16px;font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field label{margin-top:16px;font-size:13px}}.Watermark .watermark-settings .form-field .text-input,.Watermark .watermark-settings .form-field select{height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field .text-input,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field select{height:28px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field .text-input,.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field select{height:28px}}.Watermark .watermark-settings .form-field.opacity-slider{display:flex;margin-bottom:0}.Watermark .watermark-settings .form-field.opacity-slider .slider-property{font-weight:700}.Watermark .watermark-settings .form-field.opacity-slider .slider-svg-container{margin:0;height:30px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.Watermark .watermark-settings .form-field.opacity-slider{align-items:stretch}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field.opacity-slider{font-size:13px;margin-top:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field.opacity-slider{font-size:13px;margin-top:16px}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field .Dropdown__wrapper{width:328px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field .Dropdown__wrapper{width:328px}}.Watermark .watermark-settings .form-field .Dropdown__wrapper button{width:314px}.Watermark .watermark-settings .form-field .Dropdown__wrapper .Dropdown{text-align:start;width:314px;height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field .Dropdown__wrapper .Dropdown{height:28px;z-index:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field .Dropdown__wrapper .Dropdown{height:28px;z-index:0}}.Watermark .watermark-settings .form-field .Dropdown__wrapper .Dropdown__items{width:100%;inset-block-start:0}.Watermark .watermark-settings .form-field .Dropdown__wrapper#location .Dropdown__items{z-index:101}.Watermark .watermark-settings .colorSelect{width:18px;height:18px;margin:7px;margin-inline-end:8px;border-radius:10000000px}.Watermark .watermark-settings .white-color{border:1px solid var(--white-color-palette-border)}.Watermark .watermark-settings .slider-input-field{height:32px}.Watermark .canvas-container{display:flex;justify-content:center;align-items:center;width:500px;height:436px;background-color:var(--file-preview-background);border:1px solid var(--lighter-border)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .canvas-container{display:block;width:328px;height:261px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .canvas-container{display:block;width:328px;height:261px}}.Watermark .canvas-container canvas{width:325px!important}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .canvas-container canvas{width:328px;height:261px;-o-object-fit:contain;object-fit:contain;background-color:var(--file-preview-background)}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .canvas-container canvas{width:328px;height:261px;-o-object-fit:contain;object-fit:contain;background-color:var(--file-preview-background)}}.Watermark .divider{height:1px;width:100%;background:var(--divider)}.Watermark .divider.separator{margin-top:16px}.Watermark .button-container{display:flex;justify-content:space-between;align-items:baseline;width:100%;padding:16px}.Watermark .button-container .button{padding:6px 18px;width:auto}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .button-container .button.add-watermark{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .button-container .button.add-watermark{font-size:13px}}.Watermark .button-container .button.cancel{color:var(--secondary-button-text);background:none}.Watermark .button-container .button.cancel:hover{color:var(--secondary-button-hover)}.Watermark .button-container .reset-settings{background-color:transparent;cursor:pointer;background:none;border:0;border-radius:4px;color:var(--secondary-button-text);display:flex;font-size:13px;padding:6px 18px}:host(:not([data-tabbing=true])) .Watermark .button-container .reset-settings,html:not([data-tabbing=true]) .Watermark .button-container .reset-settings{outline:none}.Watermark .button-container .reset-settings:hover{color:var(--secondary-button-hover)}.Watermark .button-container .reset-settings.focus-visible,.Watermark .button-container .reset-settings:focus-visible{outline:var(--focus-visible-outline)!important}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .button-container .reset-settings{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .button-container .reset-settings{font-size:13px}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.PrintModal{visibility:visible}.closed.PrintModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PrintModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.PrintModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.PrintModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.PrintModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.PrintModal .footer .modal-button.cancel:hover,.PrintModal .footer .modal-button.secondary-btn-custom:hover,.PrintModal .modal-container .apply-watermark:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.PrintModal .footer .modal-button.cancel,.PrintModal .footer .modal-button.secondary-btn-custom,.PrintModal .modal-container .apply-watermark{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.PrintModal .footer .modal-button.cancel.disabled,.PrintModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.PrintModal .footer .modal-button.cancel.disabled span,.PrintModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.PrintModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.PrintModal .modal-container .wrapper .modal-content{padding:10px}.PrintModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.PrintModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.PrintModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.PrintModal .footer .modal-button.confirm{margin-inline-start:4px}.PrintModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .footer .modal-button{padding:23px 8px}}.PrintModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .swipe-indicator{width:32px}}.PrintModal .modal-container{width:480px;overflow:hidden}.PrintModal .modal-container .settings{display:flex;flex-direction:column;width:100%;padding:24px}.PrintModal .modal-container .settings .ui__choice{margin:10px 4px 4px 0}.PrintModal .modal-container .settings .ui__choice--disabled{opacity:.5}.PrintModal .modal-container .settings .ui__input{border:none}.PrintModal .modal-container .settings .ui__input.ui__input--focused{box-shadow:none}.PrintModal .modal-container .settings .settings-form{margin-bottom:0}.PrintModal .modal-container .settings .specifyPagesChoiceLabel{display:flex}.PrintModal .modal-container .settings .specifyPagesChoiceLabel .specifyPagesExampleLabel{margin-inline-start:4px;color:var(--faded-text)}.PrintModal .modal-container .settings .page-number-input-container{margin-top:8px}.PrintModal .modal-container .divider{height:1px;width:100%;background:var(--divider)}.PrintModal .modal-container .section{padding-bottom:16px}.PrintModal .modal-container .section.watermark-section{padding-bottom:0}.PrintModal .modal-container .section .section-label{font-weight:700}.PrintModal .modal-container .section .hidden{display:none}.PrintModal .modal-container label.section-label,.PrintModal .modal-container label.ui__choice__label{padding:2px 0 2px 4px}.PrintModal .modal-container .print-quality-section-label{padding:0;margin-bottom:8px}.PrintModal .modal-container #printQualityOptions button.Dropdown{height:32px;margin-top:8px}.PrintModal .modal-container #printQualityOptions.Dropdown__wrapper .Dropdown{text-align:start}.PrintModal .modal-container #printQualityOptions.Dropdown__wrapper .Dropdown__items{width:274px;inset-inline-start:0}.PrintModal .modal-container input[type=text]{width:100%;height:32px;padding-inline-start:8px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding-bottom:6px;padding-inline-end:42px;padding-top:4px;margin-top:6px}.PrintModal .modal-container input[type=text]:focus{outline:none;border:1px solid var(--focus-border)}.PrintModal .modal-container input[type=text]::-moz-placeholder{color:var(--placeholder-text)}.PrintModal .modal-container input[type=text]::placeholder{color:var(--placeholder-text)}.PrintModal .modal-container input[type=text].page-number-input--error{border-color:var(--error-border-color)}.PrintModal .modal-container .total{display:flex;flex-direction:row;padding-bottom:16px;color:var(--text-color)}.PrintModal .modal-container .background{width:100%;height:10px;transform:translateY(-50%);fill:#e2f3fe}.PrintModal .modal-container .progress{height:10px;transform:translateY(-50%);fill:#077bc5}.PrintModal .modal-container .buttons{display:flex;flex-direction:row;justify-content:flex-end;width:100%;padding:20px}.PrintModal .modal-container .buttons .button{background-color:transparent;display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);padding:6px 18px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;border:0;height:32px;cursor:pointer;font-size:13px}:host(:not([data-tabbing=true])) .PrintModal .modal-container .buttons .button,html:not([data-tabbing=true]) .PrintModal .modal-container .buttons .button{outline:none}.PrintModal .modal-container .buttons .button:hover:not(:disabled){background:var(--primary-button-hover)}.PrintModal .modal-container .buttons .button:disabled{opacity:.5;cursor:auto}.PrintModal .modal-container .specify-pages-choice{margin-bottom:18px}.PrintModal .modal-container .specify-pages-choice input{width:195px;margin-top:0}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .modal-container .specify-pages-choice input{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .modal-container .specify-pages-choice input{width:100%}}.PrintModal .modal-container .specify-pages-choice label{display:grid}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .modal-container .specify-pages-choice label{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .modal-container .specify-pages-choice label{width:100%}}.PrintModal .modal-container .specify-pages-choice.ui__choice--checked{align-items:baseline;height:80px}.PrintModal .modal-container .specify-pages-choice.ui__choice--checked .ui__choice__input{inset-block-start:3px}.PrintModal .modal-container .apply-watermark{margin-top:10px;width:auto;padding:6px 16px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","// https://websitesetup.org/web-safe-fonts-html-css/\nexport const FONTS = [\n  'Arial',\n  'Times New Roman',\n  'Tahoma ',\n  'Trebuchet MS',\n  'Courier',\n  'Verdana',\n  'Georgia',\n  'Palatino',\n  'Comic Sans MS',\n  'Arial Black',\n  'Impact',\n];","import ColorPalette from 'components/ColorPalette';\nimport Slider from 'components/Slider';\nimport core from 'core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport Button from 'components/Button';\nimport FontSizeDropdown from 'components/FontSizeDropdown';\nimport { FONTS } from './web-fonts';\nimport './WatermarkModal.scss';\nimport ModalWrapper from '../../ModalWrapper';\n\nimport DataElementWrapper from 'src/components/DataElementWrapper';\nimport Dropdown from 'src/components/Dropdown';\n\nimport { isMobile } from 'helpers/device';\n\nconst DESIRED_WIDTH = 300;\nconst DESIRED_HEIGHT = 300;\n\nconst DEFAULT_FONT_SIZE = 48;\n\nconst DROPDOWN_WIDTH = 314;\nconst DROPDOWN_MOBILE_WIDTH = 160;\nconst DROPDOWN_WIDTH_LONG = 328;\n\nconst WATERMARK_LOCATIONS = {\n  CENTER: 'center',\n  TOP_LEFT: 'topLeft',\n  TOP_RIGHT: 'topRight',\n  TOP_CENTER: 'topCenter',\n  BOT_LEFT: 'bottomLeft',\n  BOT_RIGHT: 'bottomRight',\n  BOT_CENTER: 'bottomCenter',\n};\n\nconst FORM_FIELD_KEYS = {\n  location: 'location',\n  fontSize: 'fontSize',\n  text: 'text',\n  color: 'color',\n  opacity: 'opacity',\n  font: 'font',\n  isBolded: 'isBolded',\n  isItalic: 'isItalic',\n  isUnderlined: 'isUnderlined',\n};\n\nconst DEFAULT_VALS = {\n  [FORM_FIELD_KEYS.location]: WATERMARK_LOCATIONS.CENTER,\n  [FORM_FIELD_KEYS.fontSize]: DEFAULT_FONT_SIZE,\n  [FORM_FIELD_KEYS.text]: '',\n  // red\n  [FORM_FIELD_KEYS.color]: new window.Core.Annotations.Color(228, 66, 52),\n  [FORM_FIELD_KEYS.opacity]: 100,\n  [FORM_FIELD_KEYS.font]: FONTS[0],\n  [FORM_FIELD_KEYS.isBolded]: false,\n  [FORM_FIELD_KEYS.isItalic]: false,\n  [FORM_FIELD_KEYS.isUnderlined]: false,\n};\n\n// Values come from https://docs.apryse.com/api/web/Core.DocumentViewer.html#setWatermark__anchor\nconst WATERMARK_API_LOCATIONS = {\n  [WATERMARK_LOCATIONS.CENTER]: 'diagonal',\n  [WATERMARK_LOCATIONS.TOP_LEFT]: 'headerLeft',\n  [WATERMARK_LOCATIONS.TOP_RIGHT]: 'headerRight',\n  [WATERMARK_LOCATIONS.TOP_CENTER]: 'headerCenter',\n  [WATERMARK_LOCATIONS.BOT_LEFT]: 'footerLeft',\n  [WATERMARK_LOCATIONS.BOT_RIGHT]: 'footerRight',\n  [WATERMARK_LOCATIONS.BOT_CENTER]: 'footerCenter',\n};\n\nclass WatermarkModal extends React.PureComponent {\n  static propTypes = {\n    isVisible: PropTypes.bool,\n    pageIndexToView: PropTypes.number,\n    watermarkLocations: PropTypes.object,\n    modalClosed: PropTypes.func,\n    formSubmitted: PropTypes.func,\n    t: PropTypes.func.isRequired,\n    isCustomizableUI: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n    const locationSettings = this.initializeLocationSettings();\n    this.preExistingWatermark = undefined;\n    this.state = {\n      isColorPaletteVisible: false,\n      locationSettings,\n      previousLocationSettings: locationSettings,\n      lockFocus: false,\n    };\n    this.canvasContainerRef = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    core.addEventListener('documentLoaded', this.closeModal);\n\n    if (this.props.isVisible !== prevProps.isVisible) {\n      // Sets focus with a slight delay after modal becomes visible in order to\n      // prevent stack overflow with competing print modal focus lock.\n      if (this.props.isVisible) {\n        this.setState({ lockFocus: true });\n      } else {\n        this.setState({ lockFocus: false });\n      }\n\n      this.setState(\n        {\n          isColorPaletteVisible: false,\n        },\n        () => this.handleWatermarkOnVisibilityChanged(),\n      );\n    }\n  }\n\n  handleWatermarkOnVisibilityChanged = () => {\n    if (this.props.isVisible) {\n      this.setState(\n        {\n          locationSettings: this.state.previousLocationSettings,\n        },\n        async () => {\n          // Store the pre-existing watermark (if any) before we overwrite it\n          this.preExistingWatermark = await core.getWatermark();\n          this.addWatermarks();\n        },\n      );\n    } else {\n      this.removeWatermarkCreatedByModal();\n      core.setWatermark(this.preExistingWatermark);\n    }\n  };\n\n  addWatermarks = () => {\n    const watermarkOptions = this.createWatermarks();\n    const { t } = this.props;\n    core.setWatermark(watermarkOptions);\n\n    const pageHeight = core.getPageHeight(this.props.pageIndexToView + 1);\n    const pageWidth = core.getPageWidth(this.props.pageIndexToView + 1);\n\n    const desiredZoomForWidth = DESIRED_WIDTH / pageWidth;\n    const desiredZoomForHeight = DESIRED_HEIGHT / pageHeight;\n\n    const desiredZoom = Math.min(desiredZoomForHeight, desiredZoomForWidth);\n    const pageNumber = this.props.pageIndexToView + 1;\n\n    core.getDocument().loadCanvas({\n      pageNumber: pageNumber,\n      zoom: desiredZoom,\n      drawComplete: (canvas) => {\n        const nodes = this.canvasContainerRef.current.childNodes;\n        if (nodes && nodes.length > 0) {\n          this.canvasContainerRef.current.removeChild(nodes[0]);\n        }\n        canvas.style.border = this.canvasContainerRef.current.style.border;\n        canvas.style.height = this.canvasContainerRef.current.style.height;\n        canvas.style.backgroundColor = this.canvasContainerRef.current.style.backgroundColor;\n        canvas.setAttribute('role', 'img');\n        canvas.setAttribute('aria-label', `${t('action.page')} ${pageNumber}`);\n        this.canvasContainerRef.current.appendChild(canvas);\n      },\n    });\n\n    // Note: do not update and refresh the doc else it may affect other docs as well\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  constructWatermarkOption = (value) => {\n    const fontStyles = [];\n    if (value.isBolded) {\n      fontStyles.push(core.getFontStyles().BOLD);\n    }\n    if (value.isItalic) {\n      fontStyles.push(core.getFontStyles().ITALIC);\n    }\n    if (value.isUnderlined) {\n      fontStyles.push(core.getFontStyles().UNDERLINE);\n    }\n    const watermarkOption = {\n      fontSize: value.fontSize,\n      fontFamily: value.font,\n      color: value.color.toString(),\n      opacity: value.opacity,\n      text: value.text,\n      fontStyles,\n    };\n\n    return watermarkOption;\n  };\n\n  createWatermarks = () => {\n    const watermarks = {};\n\n    Object.keys(WATERMARK_LOCATIONS).forEach((key) => {\n      const temp = this.constructWatermarkOption(\n        this.state.locationSettings[key],\n      );\n      const value = WATERMARK_LOCATIONS[key];\n      watermarks[WATERMARK_API_LOCATIONS[value]] = temp;\n    });\n    return watermarks;\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  removeWatermarkCreatedByModal = () => {\n    core.setWatermark({});\n  };\n\n  closeModal = () => {\n    this.props.modalClosed();\n  };\n\n  handleInputChange = (key, value) => {\n    const currLocationSettings = {\n      ...this.state.locationSettings,\n    };\n    const currSelectedLocation = this.getCurrentSelectedLocation();\n    currLocationSettings[currSelectedLocation] = {\n      ...currLocationSettings[currSelectedLocation],\n      [key]: value,\n    };\n\n    this.setState(\n      {\n        locationSettings: currLocationSettings,\n      },\n      () => {\n        this.addWatermarks();\n      },\n    );\n  };\n\n  resetForm = (event) => {\n    event.preventDefault();\n    const locationSettings = this.resetLocationSettings();\n    this.setState(\n      {\n        locationSettings,\n      },\n      () => this.addWatermarks(),\n    );\n  };\n\n  onOkPressed = () => {\n    this.setState(\n      {\n        previousLocationSettings: this.state.locationSettings,\n      },\n      () => {\n        // the order of these fxn calls matter\n        this.props.modalClosed();\n        const watermarkOptions = this.createWatermarks();\n        this.props.formSubmitted(watermarkOptions);\n      },\n    );\n  };\n\n  setColorPaletteVisibility = (visible) => {\n    this.setState({ isColorPaletteVisible: visible });\n  };\n\n  onLocationChanged = (key) => {\n    const currLocationSettings = {\n      ...this.state.locationSettings,\n    };\n    Object.keys(currLocationSettings).forEach((locationKey) => {\n      let locationSetting = currLocationSettings[locationKey];\n      locationSetting = {\n        ...locationSetting,\n        isSelected: key === locationKey,\n      };\n      currLocationSettings[locationKey] = locationSetting;\n    });\n\n    this.setState(\n      {\n        locationSettings: currLocationSettings,\n      },\n      () => {\n        this.addWatermarks();\n      },\n    );\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  resetLocationSettings = () => {\n    const locationSettings = {};\n    Object.keys(WATERMARK_LOCATIONS).forEach((key) => {\n      // ignore location as it is redundant as we already have location key\n      const { ...others } = DEFAULT_VALS;\n      const temp = {\n        ...others,\n        isSelected: WATERMARK_LOCATIONS[key] === DEFAULT_VALS.location,\n      };\n      locationSettings[key] = temp;\n    });\n\n    return locationSettings;\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  initializeLocationSettings = () => {\n    const locationSettings = this.resetLocationSettings();\n\n    if (this.props.watermarkLocations) {\n      Object.keys(WATERMARK_LOCATIONS).forEach((key) => {\n        const watermarkStrVal = WATERMARK_LOCATIONS[key];\n        const tempWatermarkProps = this.props.watermarkLocations[WATERMARK_API_LOCATIONS[watermarkStrVal]] ?? false;\n        if (!tempWatermarkProps) {\n          return;\n        }\n\n        const temp = this.constructWatermarkOption(\n          tempWatermarkProps\n        );\n\n        locationSettings[key].text = temp.text;\n\n        const colorStr = tempWatermarkProps.color;\n        const colorArray = colorStr.slice(5).replace(')', '').split(',');\n        const color = new window.Core.Annotations.Color(\n          colorArray[0],\n          colorArray[1],\n          colorArray[2],\n          colorArray[3]\n        );\n\n        locationSettings[key].color = color;\n        locationSettings[key].opacity = temp.opacity;\n        locationSettings[key].fontSize = temp.fontSize;\n\n        if (tempWatermarkProps.fontStyles) {\n          locationSettings[key].isBolded = tempWatermarkProps['fontStyles'].includes('BOLD');\n          locationSettings[key].isItalic = tempWatermarkProps['fontStyles'].includes('ITALIC');\n          locationSettings[key].isUnderlined = tempWatermarkProps['fontStyles'].includes('UNDERLINE');\n        }\n\n        const fontFamily = tempWatermarkProps.fontFamily ?? false;\n\n        if (!fontFamily || fontFamily.trim().length === 0) {\n          locationSettings[key] = DEFAULT_VALS.font;\n        }\n      });\n    }\n\n    return locationSettings;\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getKeyByValue = (object, value) => Object.keys(object).find((key) => object[key] === value);\n\n  getCurrentSelectedLocation = () => Object.keys(this.state.locationSettings).find((locationKey) => {\n    const locationSetting = this.state.locationSettings[locationKey];\n    return locationSetting.isSelected;\n  });\n\n  onColorChanged = (newColor) => {\n    const currLocation = this.getCurrentSelectedLocation();\n    const currLocationSetting = this.state.locationSettings[currLocation];\n    currLocationSetting[FORM_FIELD_KEYS.color] = new window.Core.Annotations.Color(\n      newColor.R,\n      newColor.G,\n      newColor.B,\n    );\n    const locationSettings = {\n      ...this.state.locationSettings,\n    };\n    if (!currLocationSetting[FORM_FIELD_KEYS.text]) {\n      // if text is undefined, persist the changed color to other location settings (customer's request)\n      Object.keys(WATERMARK_LOCATIONS).forEach((location) => {\n        const locationSetting = locationSettings[location];\n        if (!locationSetting[FORM_FIELD_KEYS.text]) {\n          locationSetting[FORM_FIELD_KEYS.color] = new window.Core.Annotations.Color(\n            newColor.R,\n            newColor.G,\n            newColor.B,\n          );\n        }\n      });\n    }\n    this.setState(\n      {\n        locationSettings,\n      },\n      () => {\n        this.addWatermarks();\n      },\n    );\n  };\n\n  render() {\n    const { isVisible } = this.props;\n    if (!isVisible) {\n      return null;\n    }\n\n    const { t, isCustomizableUI } = this.props;\n\n    const currLocation = this.getCurrentSelectedLocation();\n    const formInfo = this.state.locationSettings[currLocation];\n    const hexColor = formInfo[FORM_FIELD_KEYS.color].toHexString();\n    const dropdownHalfWidth = isMobile() ? DROPDOWN_MOBILE_WIDTH : DROPDOWN_WIDTH;\n    const dropdownFullWidth = isMobile() ? DROPDOWN_WIDTH_LONG : DROPDOWN_WIDTH;\n    return (\n      <DataElementWrapper\n        className={'Modal Watermark'}\n        id=\"watermarkModal\"\n        data-element=\"watermarkModal\"\n      >\n        <ModalWrapper\n          isOpen={this.state.lockFocus} title={'option.watermark.addWatermark'}\n          closeButtonDataElement={'watermarkModalCloseButton'}\n          onCloseClick={this.closeModal}\n          swipeToClose\n          closeHandler={this.closeModal}\n        >\n          <div className=\"swipe-indicator\" />\n\n          <div className=\"form-content-container\">\n            <div\n              className=\"canvas-container\"\n              ref={this.canvasContainerRef}\n            ></div>\n\n            <div className=\"watermark-settings\">\n              <form id=\"form\" onSubmit={(e) => e.preventDefault()}>\n                <div className=\"form-field\">\n                  <label className=\"section-label print-quality-section-label\" htmlFor=\"location\" id=\"watermark-location-dropdown-label\">{t('option.watermark.location')}</label>\n                  <Dropdown\n                    id=\"location\"\n                    labelledById='watermark-location-dropdown-label'\n                    dataElement=\"watermarkLocation\"\n                    items={Object.keys(WATERMARK_LOCATIONS)}\n                    getTranslationLabel={(key) => t(`option.watermark.locations.${WATERMARK_LOCATIONS[key]}`)}\n                    currentSelectionKey={currLocation}\n                    onClickItem={this.onLocationChanged}\n                    width={dropdownFullWidth}\n                  />\n                  <div className=\"separator divider\"></div>\n                </div>\n\n                <div className=\"form-field\">\n                  <label htmlFor=\"textInput\">{t('option.watermark.text')}</label>\n                  <input\n                    className=\"text-input\"\n                    id=\"textInput\"\n                    value={formInfo[FORM_FIELD_KEYS.text]}\n                    onChange={(event) => this.handleInputChange(\n                      FORM_FIELD_KEYS.text,\n                      event.target.value,\n                    )\n                    }\n                    type=\"text\"\n                  />\n                </div>\n                <div className=\"font-form-fields\">\n                  <div className=\"form-font-type\">\n                    <label htmlFor=\"fonts\" id=\"watermark-font-dropdown-label\">{t('option.watermark.font')}</label>\n                    <Dropdown\n                      id=\"fonts\"\n                      labelledById='watermark-font-dropdown-label'\n                      dataElement=\"watermarkFont\"\n                      items={FONTS}\n                      currentSelectionKey={formInfo[FORM_FIELD_KEYS.font]}\n                      onClickItem={(key) => this.handleInputChange(\n                        FORM_FIELD_KEYS.font,\n                        key\n                      )}\n                      width={dropdownHalfWidth}\n                    />\n                  </div>\n                  <div className=\"form-font-size\">\n                    <label htmlFor=\"fontSize\">{t('option.watermark.size')}</label>\n                    <FontSizeDropdown\n                      fontSize={formInfo[FORM_FIELD_KEYS.fontSize]}\n                      key=\"fontSize\"\n                      fontUnit=\"pt\"\n                      onFontSizeChange={(val) => this.handleInputChange(FORM_FIELD_KEYS.fontSize, Number.parseInt(val))}\n                      maxFontSize={1600}\n                      initialFontValue={1}\n                      initialMaxFontValue={512}\n                      width={dropdownHalfWidth}\n                    />\n                  </div>\n                </div>\n                <div className=\"form-field opacity-slider\" id=\"opacitySlider\">\n                  <Slider\n                    dataElement={'watermarkOpacitySlider'}\n                    property={'Opacity'}\n                    displayProperty={'opacity'}\n                    min={0}\n                    max={100}\n                    step={1}\n                    value={formInfo[FORM_FIELD_KEYS.opacity]}\n                    getDisplayValue={(opacity) => `${Math.round(opacity)}%`}\n                    withInputField={isCustomizableUI}\n                    inputFieldType={'number'}\n                    onSliderChange={() => { }}\n                    onStyleChange={(property, value) => this.handleInputChange(\n                      FORM_FIELD_KEYS.opacity,\n                      Math.round(value * 100),\n                    )}\n                    getLocalValue={(opacity) => parseInt(opacity) / 100}\n                  />\n                </div>\n                <div className=\"form-field\">\n                  <label>{t('option.watermark.style')}</label>\n                  <div className=\"style-container\">\n                    <Button\n                      id=\"currentColorCell\"\n                      // eslint-disable-next-line custom/no-hex-colors\n                      className={`colorSelect ${hexColor === '#FFFFFF' ? 'white-color' : ''}`}\n                      ariaLabel=\"colorSelectButton\"\n                      style={{\n                        backgroundColor: hexColor,\n                      }}\n                      onClick={() => this.setColorPaletteVisibility(\n                        !this.state.isColorPaletteVisible,\n                      )\n                      }\n                    />\n                    <div className=\"style-container\">\n                      <Button\n                        dataElement=\"boldText\"\n                        img=\"icon-text-bold\"\n                        isActive={formInfo[FORM_FIELD_KEYS.isBolded]}\n                        onClick={() => this.handleInputChange(\n                          FORM_FIELD_KEYS.isBolded,\n                          !formInfo[FORM_FIELD_KEYS.isBolded],\n                        )}\n                        ariaLabel={t('option.richText.bold')}\n                      />\n                      <Button\n                        dataElement=\"italicizeText\"\n                        img=\"icon-text-italic\"\n                        isActive={formInfo[FORM_FIELD_KEYS.isItalic]}\n                        onClick={() => this.handleInputChange(\n                          FORM_FIELD_KEYS.isItalic,\n                          !formInfo[FORM_FIELD_KEYS.isItalic],\n                        )}\n                        ariaLabel={t('option.richText.italic')}\n                      />\n                      <Button\n                        dataElement=\"underlineText\"\n                        img=\"icon-text-underline\"\n                        isActive={formInfo[FORM_FIELD_KEYS.isUnderlined]}\n                        onClick={() => this.handleInputChange(\n                          FORM_FIELD_KEYS.isUnderlined,\n                          !formInfo[FORM_FIELD_KEYS.isUnderlined],\n                        )}\n                        ariaLabel={t('option.richText.underline')}\n                      />\n                    </div>\n                  </div>\n\n                  {this.state.isColorPaletteVisible && (\n                    <div\n                      className={'Popup StylePopup'}\n                      id=\"stylePopup\"\n                      onClick={() => this.setColorPaletteVisibility(false)}\n                    >\n                      <ColorPalette\n                        color={formInfo[FORM_FIELD_KEYS.color]}\n                        property={'TextColor'} // arbitrary property name. this property isn't used in this file\n                        onStyleChange={(property, color) => {\n                          this.onColorChanged(color);\n                          this.setColorPaletteVisibility(false);\n                        }}\n                      />\n                    </div>\n                  )}\n\n                </div>\n              </form>\n            </div>\n          </div>\n\n          <div className=\"divider\"></div>\n          <div className=\"button-container\">\n            <button\n              className=\"reset-settings\"\n              id=\"reset\"\n              onClick={this.resetForm}\n            >\n              {t('option.watermark.resetAllSettings')}\n            </button>\n            <Button\n              className=\"add-watermark button\"\n              id=\"submit\"\n              onClick={this.onOkPressed}\n            >\n              {t('action.add')}\n            </Button>\n          </div>\n        </ModalWrapper>\n      </DataElementWrapper>\n    );\n  }\n}\n\nexport default withTranslation()(WatermarkModal);\n","import WatermarkModal from './WatermarkModal';\n\nexport default WatermarkModal;\n","import React, { useEffect, useRef, useState } from 'react';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport classNames from 'classnames';\nimport core from 'core';\nimport PropTypes from 'prop-types';\nimport getClassName from 'helpers/getClassName';\nimport LayoutMode from 'constants/layoutMode';\nimport WatermarkModal from 'components/PrintModal/WatermarkModal';\nimport Choice from 'components/Choice/Choice';\nimport ModalWrapper from 'components/ModalWrapper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport DataElements from 'constants/dataElement';\nimport DataElementWrapper from '../DataElementWrapper';\nimport Dropdown from '../Dropdown';\nimport PageNumberInput from '../PageReplacementModal/PageNumberInput';\nimport useFocusHandler from 'hooks/useFocusHandler';\nimport useFocusOnClose from 'hooks/useFocusOnClose';\nimport './PrintModal.scss';\nimport Button from '../Button';\n\nconst PrintModal = ({\n  isDisabled,\n  isOpen,\n  isApplyWatermarkDisabled,\n  isFullAPIEnabled,\n  currentPage,\n  printQuality,\n  isGrayscale,\n  setIsGrayscale,\n  setIsCurrentView,\n  isCurrentViewDisabled,\n  includeAnnotations,\n  setIncludeAnnotations,\n  includeComments,\n  setIncludeComments,\n  isWatermarkModalVisible,\n  setIsWatermarkModalVisible,\n  watermarkModalOptions,\n  existingWatermarksRef,\n  setAllowWatermarkModal,\n  closePrintModal,\n  createPagesAndPrint,\n  pagesToPrint,\n  setPagesToPrint,\n  count,\n  isPrinting,\n  layoutMode,\n  useEmbeddedPrint,\n  pageLabels\n}) => {\n  PrintModal.propTypes = {\n    isDisabled: PropTypes.bool,\n    isOpen: PropTypes.bool,\n    isApplyWatermarkDisabled: PropTypes.bool,\n    isFullAPIEnabled: PropTypes.bool,\n    currentPage: PropTypes.number,\n    printQuality: PropTypes.number,\n    isGrayscale: PropTypes.bool,\n    setIsGrayscale: PropTypes.func,\n    setIsCurrentView: PropTypes.func,\n    isCurrentViewDisabled: PropTypes.bool,\n    includeAnnotations: PropTypes.bool,\n    setIncludeAnnotations: PropTypes.func,\n    includeComments: PropTypes.bool,\n    setIncludeComments: PropTypes.func,\n    isWatermarkModalVisible: PropTypes.bool,\n    setIsWatermarkModalVisible: PropTypes.func,\n    watermarkModalOptions: PropTypes.object,\n    existingWatermarksRef: PropTypes.object,\n    setAllowWatermarkModal: PropTypes.func,\n    closePrintModal: PropTypes.func,\n    createPagesAndPrint: PropTypes.func,\n    pagesToPrint: PropTypes.array,\n    setPagesToPrint: PropTypes.func,\n    count: PropTypes.number,\n    isPrinting: PropTypes.bool,\n    layoutMode: PropTypes.string,\n    useEmbeddedPrint: PropTypes.bool,\n    pageLabels: PropTypes.array\n  };\n\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const allPages = useRef();\n  const currentPageRef = useRef();\n  const customPages = useRef();\n  const includeCommentsRef = useRef();\n  const currentView = useRef();\n  const [embedPrintValid, setEmbedPrintValid] = useState(false);\n  const [specifiedPages, setSpecifiedPages] = useState([]);\n  const [pageNumberError, setPageNumberError] = useState('');\n  const [isCustomPagesChecked, setIsCustomPagesChecked] = useState(false);\n\n  const customizableUI = useSelector((state) => selectors.getFeatureFlags(state)?.customizableUI);\n\n  const printQualityOptions = {\n    1: `${t('option.print.qualityNormal')}`,\n    2: `${t('option.print.qualityHigh')}`\n  };\n\n  const setWatermarkModalVisibility = (visible) => {\n    setIsWatermarkModalVisible(visible);\n  };\n\n  const className = getClassName('Modal PrintModal', { isOpen });\n\n  const handlePageNumberError = (pageNumber) => {\n    if (pageNumber) {\n      setPageNumberError(`${t('message.errorPageNumber')} ${core.getTotalPages()}`);\n    }\n  };\n\n  const handlePageNumberChange = (pageNumbers) => {\n    if (pageNumbers.length > 0) {\n      setPageNumberError('');\n      setSpecifiedPages(pageNumbers);\n    }\n  };\n\n  const customPagesLabelElement = (\n    <>\n      <label htmlFor=\"specifyPagesInput\" className=\"specifyPagesChoiceLabel\">\n        <span>{t('option.print.specifyPages')}</span>\n        {isCustomPagesChecked && (\n          <span className=\"specifyPagesExampleLabel\">\n            - {t('option.thumbnailPanel.multiSelectPagesExample')}\n          </span>\n        )}\n      </label>\n      {isCustomPagesChecked && (\n        <div className={classNames('page-number-input-container', { error: !!pageNumberError })}>\n          <PageNumberInput\n            id=\"specifyPagesInput\"\n            selectedPageNumbers={specifiedPages}\n            pageCount={core.getTotalPages()}\n            onSelectedPageNumbersChange={handlePageNumberChange}\n            onBlurHandler={setSpecifiedPages}\n            onError={handlePageNumberError}\n            pageNumberError={pageNumberError}\n            customPageLabels={pageLabels}\n            enablePageLabels={true}\n          />\n        </div>\n      )}\n    </>\n  );\n\n  useEffect(() => {\n    onChange();\n  }, [specifiedPages]);\n\n  const onChange = () => {\n    let pagesToPrint = [];\n    setIsCurrentView(currentView.current?.checked);\n    setIsCustomPagesChecked(customPages.current?.checked);\n    if (allPages.current?.checked || (currentView.current?.checked && embedPrintValid)) {\n      for (let i = 1; i <= core.getTotalPages(); i++) {\n        pagesToPrint.push(i);\n      }\n    } else if (currentPageRef.current?.checked) {\n      const pageCount = core.getTotalPages();\n\n      // when displaying 2 pages, \"Current\" should print both of them\n      switch (layoutMode) {\n        case LayoutMode.FacingCover:\n        case LayoutMode.FacingCoverContinuous:\n          if (\n            currentPage === 1 ||\n            (currentPage === pageCount && pageCount % 2 === 0)\n          ) {\n            // first page or last page if single page\n            pagesToPrint.push(currentPage);\n          } else {\n            pagesToPrint =\n              currentPage % 2\n                ? [currentPage - 1, currentPage]\n                : [currentPage, currentPage + 1];\n          }\n          break;\n        case LayoutMode.FacingContinuous:\n        case LayoutMode.Facing:\n          if (currentPage === pageCount && pageCount % 2 === 1) {\n            // last page if single page\n            pagesToPrint.push(currentPage);\n          } else {\n            pagesToPrint =\n              currentPage % 2\n                ? [currentPage, currentPage + 1]\n                : [currentPage - 1, currentPage];\n          }\n          break;\n        default:\n          pagesToPrint.push(currentPage);\n          break;\n      }\n    } else if (customPages.current?.checked) {\n      pagesToPrint = specifiedPages;\n    } else if (currentView.current?.checked) {\n      pagesToPrint = [currentPage];\n    }\n\n    setPagesToPrint(pagesToPrint);\n  };\n\n  useEffect(() => {\n    onChange();\n\n    core.getWatermark().then((watermark) => {\n      setAllowWatermarkModal(\n        watermark === undefined ||\n        watermark === null ||\n        Object.keys(watermark).length === 0\n      );\n      existingWatermarksRef.current = watermark;\n    });\n\n    return () => {\n      core.setWatermark(existingWatermarksRef.current);\n      setIsWatermarkModalVisible(false);\n    };\n  }, []);\n\n  useEffect(() => {\n    (core.getDocument().getType() !== 'xod' && useEmbeddedPrint) ? setEmbedPrintValid(true) : setEmbedPrintValid(false);\n  }, [useEmbeddedPrint]);\n\n  const handlePrintQualityChange = (quality) => {\n    dispatch(actions.setPrintQuality(Number(quality)));\n  };\n\n  const openWaterMarkModalWithFocusTransfer = useFocusHandler(() => {\n    if (!isPrinting) {\n      setWatermarkModalVisibility(true);\n    }\n  });\n\n  const submitWatermarkModalOptions = useFocusOnClose((value) => {\n    dispatch(actions.setWatermarkModalOptions(value));\n  }, 'applyWatermark');\n\n  return isDisabled ? null : (\n    <>\n      <WatermarkModal\n        isVisible={!!(isOpen && isWatermarkModalVisible)}\n        // pageIndex starts at index 0 and getCurrPage number starts at index 1\n        pageIndexToView={currentPage - 1}\n        modalClosed={setWatermarkModalVisibility}\n        formSubmitted={submitWatermarkModalOptions}\n        watermarkLocations={watermarkModalOptions}\n        isCustomizableUI={customizableUI}\n      />\n      <div\n        className={className}\n        data-element={DataElements.PRINT_MODAL}\n      >\n        <ModalWrapper\n          isOpen={isOpen && !isWatermarkModalVisible} title={'option.print.printSettings'}\n          containerOnClick={(e) => e.stopPropagation()} onCloseClick={closePrintModal}\n          closeButtonDataElement={'printModalCloseButton'}\n          swipeToClose\n          closeHandler={closePrintModal}\n        >\n          <div className=\"swipe-indicator\" />\n          <div className=\"settings\">\n            <div className=\"section\">\n              <div className=\"section-label\">{`${t('option.print.pages')}:`}</div>\n              <form\n                className=\"settings-form\"\n                onChange={onChange}\n                onSubmit={createPagesAndPrint}\n              >\n                <Choice\n                  dataElement=\"allPagesPrintOption\"\n                  ref={allPages}\n                  id=\"all-pages\"\n                  name=\"pages\"\n                  radio\n                  label={t('option.print.all')}\n                  defaultChecked\n                  disabled={isPrinting}\n                  center\n                />\n                <Choice\n                  dataElement=\"currentPagePrintOption\"\n                  ref={currentPageRef}\n                  id=\"current-page\"\n                  name=\"pages\"\n                  radio\n                  label={t('option.print.current')}\n                  disabled={isPrinting}\n                  center\n                />\n                <Choice\n                  dataElement=\"currentViewPrintOption\"\n                  ref={currentView}\n                  id=\"current-view\"\n                  name=\"pages\"\n                  radio\n                  label={t('option.print.view')}\n                  disabled={isCurrentViewDisabled}\n                  center\n                  title={t('option.print.printCurrentDisabled')}\n                />\n                <Choice\n                  dataElement=\"customPagesPrintOption\"\n                  ref={customPages}\n                  id=\"custom-pages\"\n                  name=\"pages\"\n                  className=\"specify-pages-choice\"\n                  radio\n                  label={customPagesLabelElement}\n                  disabled={isPrinting}\n                  center\n                />\n                <Choice\n                  dataElement=\"annotationsPrintOption\"\n                  id=\"include-annotations\"\n                  name=\"annotations\"\n                  label={t('option.print.includeAnnotations')}\n                  disabled={isPrinting}\n                  onChange={() => setIncludeAnnotations((prevState) => !prevState)}\n                  checked={includeAnnotations}\n                  center\n                />\n                {embedPrintValid && (\n                  <>\n                    {\n                      isFullAPIEnabled && (\n                        <>\n                          <Choice\n                            dataElement=\"grayscalePrintOption\"\n                            id=\"print-grayscale\"\n                            name=\"grayscale\"\n                            label={t('option.print.printGrayscale')}\n                            disabled={isPrinting}\n                            onChange={() => setIsGrayscale((prevState) => !prevState)}\n                            checked={isGrayscale}\n                            center\n                          />\n                          <Choice\n                            dataElement=\"commentsPrintOption\"\n                            ref={includeCommentsRef}\n                            id=\"include-comments\"\n                            name=\"comments\"\n                            label={t('option.print.includeComments')}\n                            onChange={() => setIncludeComments((prevState) => !prevState)}\n                            disabled={isPrinting}\n                            checked={includeComments}\n                            center\n                          />\n                        </>\n                      )\n                    }\n                  </>\n                )}\n                {!embedPrintValid && (\n                  <>\n                    <Choice\n                      dataElement=\"grayscalePrintOption\"\n                      id=\"print-grayscale\"\n                      name=\"grayscale\"\n                      label={t('option.print.printGrayscale')}\n                      disabled={isPrinting}\n                      onChange={() => setIsGrayscale((prevState) => !prevState)}\n                      checked={isGrayscale}\n                      center\n                    />\n                    <Choice\n                      dataElement=\"commentsPrintOption\"\n                      ref={includeCommentsRef}\n                      id=\"include-comments\"\n                      name=\"comments\"\n                      label={t('option.print.includeComments')}\n                      onChange={() => setIncludeComments((prevState) => !prevState)}\n                      disabled={isPrinting}\n                      checked={includeComments}\n                      center\n                    />\n                  </>\n                )}\n              </form>\n            </div>\n            {!embedPrintValid && (\n              <DataElementWrapper className=\"section\" dataElement={DataElements.PRINT_QUALITY}>\n                <label className=\"section-label print-quality-section-label\" htmlFor=\"printQualityOptions\" id=\"print-quality-options-label\">{`${t('option.print.pageQuality')}:`}</label>\n                <Dropdown\n                  id=\"printQualityOptions\"\n                  labelledById='print-quality-options-label'\n                  dataElement=\"printQualityOptions\"\n                  items={Object.keys(printQualityOptions)}\n                  getDisplayValue={(item) => printQualityOptions[item]}\n                  onClickItem={handlePrintQualityChange}\n                  currentSelectionKey={printQuality?.toString()}\n                  width={274}\n                />\n              </DataElementWrapper>\n            )}\n            <div className=\"total\">\n              {isPrinting ? (\n                <div>{`${t('message.processing')} ${count}/${pagesToPrint.length}`}</div>\n              ) : (\n                <div>{t('message.printTotalPageCount', { count: pagesToPrint.length })}</div>\n              )}\n            </div>\n            {!isApplyWatermarkDisabled && (\n              <DataElementWrapper className=\"section watermark-section\" dataElement={DataElements.PRINT_WATERMARK}>\n                <div className=\"section-label\">{t('option.watermark.title')}</div>\n                <Button\n                  dataElement=\"applyWatermark\"\n                  className=\"apply-watermark\"\n                  disabled={isPrinting}\n                  onClick={openWaterMarkModalWithFocusTransfer}\n                >\n                  {t('option.watermark.addNew')}\n                </Button>\n              </DataElementWrapper>\n            )}\n          </div>\n          <div className=\"divider\"></div>\n          <div className=\"buttons\">\n            <Button\n              className=\"button\"\n              onClick={createPagesAndPrint}\n              label={t('action.print')}\n              ariaLabel={t('action.print')}\n            />\n          </div>\n        </ModalWrapper>\n      </div>\n    </>\n  );\n};\n\nexport default PrintModal;\n","import React, { useState, useEffect, useRef } from 'react';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport DataElements from 'constants/dataElement';\n\nimport core from 'core';\n\nimport { printPages } from 'helpers/print';\nimport { createRasterizedPrintPages } from 'helpers/rasterPrint';\nimport { processEmbeddedPrintOptions, printEmbeddedPDF } from 'helpers/embeddedPrint';\nimport PrintModal from './PrintModal';\nimport useFocusOnClose from 'hooks/useFocusOnClose';\n\nimport './PrintModal.scss';\n\nconst PrintModalContainer = () => {\n  const dispatch = useDispatch();\n  const [\n    isDisabled,\n    isOpen,\n    isApplyWatermarkDisabled,\n    currentPage,\n    printQuality,\n    defaultPrintOptions,\n    pageLabels,\n    sortStrategy,\n    colorMap,\n    layoutMode,\n    printedNoteDateFormat,\n    language,\n    watermarkModalOptions,\n    timezone,\n    useEmbeddedPrint,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.PRINT_MODAL),\n      selectors.isElementOpen(state, DataElements.PRINT_MODAL),\n      selectors.isElementDisabled(state, 'applyWatermark'),\n      selectors.getCurrentPage(state),\n      selectors.getPrintQuality(state),\n      selectors.getDefaultPrintOptions(state),\n      selectors.getPageLabels(state, 'pageLabels'),\n      selectors.getSortStrategy(state),\n      selectors.getColorMap(state),\n      selectors.getDisplayMode(state),\n      selectors.getPrintedNoteDateFormat(state),\n      selectors.getCurrentLanguage(state),\n      selectors.getWatermarkModalOptions(state),\n      selectors.getTimezone(state),\n      selectors.isEmbedPrintSupported(state, 'useEmbeddedPrint')\n    ],\n    shallowEqual\n  );\n\n  const existingWatermarksRef = useRef();\n\n  const [allowWatermarkModal, setAllowWatermarkModal] = useState(false);\n  const [count, setCount] = useState(-1);\n\n  const [maintainPageOrientation, setMaintainPageOrientation] = useState(false);\n  const [pagesToPrint, setPagesToPrint] = useState([]);\n  const [isGrayscale, setIsGrayscale] = useState(false);\n  const [isWatermarkModalVisible, setIsWatermarkModalVisible] = useState(false);\n  const [includeAnnotations, setIncludeAnnotations] = useState(true);\n  const [includeComments, setIncludeComments] = useState(false);\n  const [isCurrentView, setIsCurrentView] = useState(false);\n  const [isCurrentViewDisabled, setIsCurrentViewDisabled] = useState(false);\n\n  useEffect(() => {\n    if (defaultPrintOptions) {\n      setIncludeAnnotations(defaultPrintOptions.includeAnnotations ?? includeAnnotations);\n      setIncludeComments(defaultPrintOptions.includeComments ?? includeComments);\n      setMaintainPageOrientation(defaultPrintOptions.maintainPageOrientation ?? maintainPageOrientation);\n    }\n  }, [defaultPrintOptions]);\n\n  const isPrinting = count >= 0;\n\n  useEffect(() => {\n    if (isOpen) {\n      if (useEmbeddedPrint) {\n        checkCurrentView();\n      }\n\n      dispatch(actions.closeElements([\n        DataElements.SIGNATURE_MODAL,\n        DataElements.LOADING_MODAL,\n        DataElements.PROGRESS_MODAL,\n        DataElements.ERROR_MODAL,\n      ]));\n    }\n  }, [isOpen, dispatch]);\n\n  const checkCurrentView = () => {\n    if (isCurrentViewDisabled) {\n      return;\n    }\n\n    const virtualDisplayMode = core.getDisplayModeObject();\n    const visiblePagesArray = virtualDisplayMode.getVisiblePages(0, 0);\n\n    if (visiblePagesArray?.length > 1) {\n      setIsCurrentViewDisabled(true);\n    } else {\n      setIsCurrentViewDisabled(false);\n    }\n  };\n\n  const createPagesAndPrint = (e) => {\n    const document = core.getDocument();\n    const fileType = document.getType();\n\n    if (useEmbeddedPrint && fileType === 'xod') {\n      console.warn('Falling back to raster printing, XOD files and Embedded Printing is not supported');\n    }\n\n    if (useEmbeddedPrint && fileType !== 'xod') {\n      embeddedPrinting();\n    } else {\n      rasterPrinting(e);\n    }\n  };\n\n  const embeddedPrinting = async () => {\n    const isAlwaysPrintAnnotationsInColorEnabled = core.getDocumentViewer().isAlwaysPrintAnnotationsInColorEnabled();\n    const printingOptions = {\n      isCurrentView,\n      includeAnnotations,\n      includeComments,\n      watermarkModalOptions,\n      pagesToPrint,\n      isGrayscale,\n      isAlwaysPrintAnnotationsInColorEnabled,\n    };\n    const document = core.getDocument();\n    const annotationManager = core.getAnnotationManager();\n    printEmbeddedPDF(await processEmbeddedPrintOptions(printingOptions, document, annotationManager));\n  };\n\n  const rasterPrinting = (e) => {\n    e.preventDefault();\n\n    if (pagesToPrint.length < 1) {\n      return;\n    }\n\n    setCount(0);\n\n    if (allowWatermarkModal) {\n      core.setWatermark(watermarkModalOptions);\n    } else {\n      core.setWatermark(existingWatermarksRef.current);\n    }\n\n    const printOptions = {\n      includeComments,\n      includeAnnotations,\n      maintainPageOrientation,\n      printQuality,\n      sortStrategy,\n      colorMap: colorMap,\n      printedNoteDateFormat,\n      isCurrentView,\n      language,\n      timezone,\n      createCanvases: false,\n      isGrayscale\n    };\n\n    const createPages = createRasterizedPrintPages(\n      pagesToPrint,\n      printOptions,\n      undefined\n    );\n    createPages.forEach(async (pagePromise) => {\n      await pagePromise;\n      setCount(count < pagesToPrint.length && (count !== -1 ? count + 1 : count));\n    });\n    Promise.all(createPages)\n      .then((pages) => {\n        printPages(pages);\n        closePrintModalAfterPrint();\n      })\n      .catch((e) => {\n        console.error(e);\n        setCount(-1);\n      });\n  };\n\n\n  const closePrintModal = () => {\n    setCount(-1);\n    dispatch(actions.closeElement(DataElements.PRINT_MODAL));\n  };\n\n  const closePrintModalAfterPrint = useFocusOnClose(closePrintModal);\n\n  return (\n    <PrintModal\n      isDisabled={isDisabled}\n      isOpen={isOpen}\n      isApplyWatermarkDisabled={isApplyWatermarkDisabled}\n      isFullAPIEnabled={core.isFullPDFEnabled()}\n      currentPage={currentPage}\n      printQuality={printQuality}\n      isGrayscale={isGrayscale}\n      setIsGrayscale={setIsGrayscale}\n      setIsCurrentView={setIsCurrentView}\n      isCurrentViewDisabled={isCurrentViewDisabled}\n      checkCurrentView={checkCurrentView}\n      includeAnnotations={includeAnnotations}\n      setIncludeAnnotations={setIncludeAnnotations}\n      includeComments={includeComments}\n      setIncludeComments={setIncludeComments}\n      isWatermarkModalVisible={isWatermarkModalVisible}\n      setIsWatermarkModalVisible={setIsWatermarkModalVisible}\n      watermarkModalOptions={watermarkModalOptions}\n      existingWatermarksRef={existingWatermarksRef}\n      setAllowWatermarkModal={setAllowWatermarkModal}\n      closePrintModal={closePrintModal}\n      createPagesAndPrint={createPagesAndPrint}\n      pagesToPrint={pagesToPrint}\n      setPagesToPrint={setPagesToPrint}\n      count={count}\n      isPrinting={isPrinting}\n      pageLabels={pageLabels}\n      layoutMode={layoutMode}\n      useEmbeddedPrint={useEmbeddedPrint}\n    />\n  );\n};\n\nexport default PrintModalContainer;\n","import PrintModalContainer from './PrintModalContainer';\n\nexport default PrintModalContainer;\n"],"sourceRoot":""}