{"version":3,"sources":["webpack:///./src/ui/src/components/CustomizablePopup/CustomizablePopup.js","webpack:///./src/ui/src/components/CustomizablePopup/index.js"],"names":["propTypes","dataElement","PropTypes","string","isRequired","children","arrayOf","any","CustomizablePopup","_ref","childrenClassName","items","useSelector","state","selectors","getPopupItems","shallowEqual","childrenArray","React","Children","toArray","map","item","i","type","hidden","key","concat","mediaQueryClassName","screen","join","component","find","child","props","_objectSpread","className","createElement","ToolButton","ToolGroupButton","ToggleElementButton","ActionButton","StatefulButton","CustomElement","_extends","cloneElement"],"mappings":"qxDAaA,IAAMA,EAAY,CAGhBC,YAAaC,IAAUC,OAAOC,WAE9BC,SAAUH,IAAUI,QAAQJ,IAAUK,KAAKH,YAGvCI,EAAoB,SAAHC,GAAqD,IAA/CR,EAAWQ,EAAXR,YAAaI,EAAQI,EAARJ,SAAUK,EAAiBD,EAAjBC,kBAC5CC,EAAQC,aACZ,SAACC,GAAK,OAAKC,IAAUC,cAAcF,EAAOZ,KAC1Ce,KAGIC,EAAgBC,IAAMC,SAASC,QAAQf,GA2B7C,OAAOM,EAAMU,KAAI,SAACC,EAAMC,GACtB,IAAQtB,EAA8BqB,EAA9BrB,YAAauB,EAAiBF,EAAjBE,KAAMC,EAAWH,EAAXG,OACrBC,EAAM,GAAHC,OAAMH,EAAI,KAAAG,OAAI1B,GAAesB,GAChCK,EAAsBH,aAAM,EAANA,EACxBJ,KAAI,SAACQ,GAAM,iBAAAF,OAAgBE,MAC5BC,KAAK,KACJC,EAAYd,EAAce,MAC5B,SAACC,GAAK,OAAKA,EAAMC,MAAMjC,cAAgBA,KAIzC,IAAK8B,EAAW,CACd,IAAMG,EAAKC,IAAA,GAAQb,GAAI,IAAEM,sBAAqBQ,UAAW1B,IAE5C,eAATc,IACFO,EAAYb,IAAAmB,cAACC,IAAeJ,IAGjB,oBAATV,IACFO,EAAYb,IAAAmB,cAACE,IAAoBL,IAGtB,wBAATV,IACFO,EAAYb,IAAAmB,cAACG,IAAwBN,IAG1B,iBAATV,IACFO,EAAYb,IAAAmB,cAACI,IAAiBP,IAGnB,mBAATV,IACFO,EAAYb,IAAAmB,cAACK,IAAmBR,IAGrB,kBAATV,IACFO,EAAYb,IAAAmB,cAACM,IAAkBT,IAGpB,WAATV,GAA8B,YAATA,IACvBO,EACEb,IAAAmB,cAAA,MAAAO,EAAA,CAAKR,UAAS,GAAAT,OAAKH,EAAI,KAAAG,OAAIC,IAA2BM,KAK5D,OAAOH,EACHb,IAAM2B,aAAad,EAAW,CAC9BL,QAEA,SAIRlB,EAAkBR,UAAYA,EAEfQ,QC3GAA","file":"chunks/chunk.9.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\n\nimport ToolButton from 'components/ToolButton';\nimport ToolGroupButton from 'components/ToolGroupButton';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport ActionButton from 'components/ActionButton';\nimport StatefulButton from 'components/StatefulButton';\nimport CustomElement from 'components/CustomElement';\n\nimport selectors from 'selectors';\n\nconst propTypes = {\n  // The data element of the popup component.\n  // Used to grab button props from redux and use those props to override the existing ones, if there're any\n  dataElement: PropTypes.string.isRequired,\n  // An object that maps an item's dataElement to a functional React component\n  children: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nconst CustomizablePopup = ({ dataElement, children, childrenClassName }) => {\n  const items = useSelector(\n    (state) => selectors.getPopupItems(state, dataElement),\n    shallowEqual,\n  );\n\n  const childrenArray = React.Children.toArray(children);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // give a error message in the console if a child's dataElement in the childrenArray isn't in the redux state\n    childrenArray.forEach((child) => {\n      const found = items.some(\n        ({ dataElement }) => dataElement === child.props.dataElement,\n      );\n      if (!found) {\n        const error = `\n        A React component with dataElement ${child.props.dataElement} won't be rendered because it isn't in the redux state. Modify initialState.js like below to fix this issue:\n\n        {\n          viewer: {\n            ...,\n            ${dataElement}: [\n              ...,\n              { dataElement: '${child.props.dataElement}' },\n            ]\n          }\n        }\n      `;\n        console.error(error.replace(/\\s+/, ''));\n      }\n    });\n  }\n\n  return items.map((item, i) => {\n    const { dataElement, type, hidden } = item;\n    const key = `${type}-${dataElement || i}`;\n    const mediaQueryClassName = hidden\n      ?.map((screen) => `hide-in-${screen}`)\n      .join(' ');\n    let component = childrenArray.find(\n      (child) => child.props.dataElement === dataElement,\n    );\n\n    // duplicate code in HeaderItems.js, must clean up after 6.0\n    if (!component) {\n      const props = { ...item, mediaQueryClassName, className: childrenClassName };\n\n      if (type === 'toolButton') {\n        component = <ToolButton {...props} />;\n      }\n\n      if (type === 'toolGroupButton') {\n        component = <ToolGroupButton {...props} />;\n      }\n\n      if (type === 'toggleElementButton') {\n        component = <ToggleElementButton {...props} />;\n      }\n\n      if (type === 'actionButton') {\n        component = <ActionButton {...props} />;\n      }\n\n      if (type === 'statefulButton') {\n        component = <StatefulButton {...props} />;\n      }\n\n      if (type === 'customElement') {\n        component = <CustomElement {...props} />;\n      }\n\n      if (type === 'spacer' || type === 'divider') {\n        component = (\n          <div className={`${type} ${mediaQueryClassName}`} {...props} />\n        );\n      }\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n};\n\nCustomizablePopup.propTypes = propTypes;\n\nexport default CustomizablePopup;\n","import CustomizablePopup from './CustomizablePopup';\n\nexport default CustomizablePopup;"],"sourceRoot":""}