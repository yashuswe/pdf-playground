{"version":3,"sources":["webpack:///./src/ui/src/components/OpenFileModal/OpenFileModal.scss?6968","webpack:///./src/ui/src/components/OpenFileModal/OpenFileModal.scss","webpack:///./src/ui/src/components/OpenFileModal/OpenFileModal.js","webpack:///./src/ui/src/components/OpenFileModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","OpenFileModal","_ref","isDisabled","isOpen","tabManager","closeElements","useTranslation","selectedTab","useSelector","state","selectors","getSelectedTab","_useState2","useState","src","setSrc","_useState4","extension","setExtension","_useState6","filename","setFilename","_useState8","size","setSize","_useState0","error","setError","_useState10","urlInputError","setUrlInputError","closeModal","DataElements","OPEN_FILE_MODAL","useEffect","PRINT_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","MODEL3D_MODAL","handleAddTab","_ref2","_callee","source","_extension","_filename","_size","useDb","_t","_context","acceptFormats","indexOf","TabManager","MAX_FILE_SIZE","core","createDocument","addTab","setActive","saveCurrentActiveTabState","useDB","console","_x","_x2","_x3","_x4","modalClass","classNames","Modal","open","closed","extensionRegExp","handleFileChange","_ref3","_callee2","file","ext","_filename2","_size2","_src","_context2","Core","Document","type","mimeTypeToExtension","exec","URL","createObjectURL","_x5","handleURLChange","_ref4","_callee3","url","_context3","trim","substring","lastIndexOf","split","_x6","getHashParameters","SupportedFileFormats","SERVER","CLIENT","reduce","uniqueArr","curr","React","createElement","className","data-element","onMouseDown","stopPropagation","ModalWrapper","title","closeButtonDataElement","onCloseClick","swipeToClose","closeHandler","Tabs","id","role","Tab","dataElement","TabPanel","FileInputPanel","onFileSelect","defaultValue","FilePickerPanel","onFileProcessed","urlError","fileError","extensionError","Button","label","style","width","onClick","useFocusOnClose","disabled","propTypes","PropTypes","bool","instanceOf","isRequired","func","mapDispatchToProps","actions","connect","isElementDisabled","isElementOpen","getTabManager"],"mappings":"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","file":"chunks/chunk.74.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OpenFileModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OpenFileModal .container .footer .modal-btn.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.OpenFileModal .container .footer .modal-btn.disabled span{color:var(--primary-button-text)}.OpenFileModal .container{overflow-y:unset;width:600px}.OpenFileModal .container .footer .modal-btn{color:var(--tab-footer-button-color);border:none}.OpenFileModal .container .footer .modal-btn.disabled span{color:var(--tab-footer-button-color)}.OpenFileModal .container .tab-list .tab-options-divider+.tab-options-button{border-inline-start:none!important}.OpenFileModal .container .tab-list .tab-options-button{border-top:1px solid var(--tab-border-color);border-bottom:1px solid var(--tab-border-color)}.OpenFileModal .container .tab-list .tab-options-button:first-child{border-inline-start:1px solid var(--tab-border-color)}.OpenFileModal .container .tab-list .tab-options-button:last-child{border-inline-end:1px solid var(--tab-border-color)}.OpenFileModal .container .tab-list .tab-options-button:hover{background:var(--tab-background-color-hover);border-top:1px solid var(--tab-border-color-hover);border-bottom:1px solid var(--tab-border-color-hover);border-inline-end:1px solid var(--tab-border-color-hover)}.OpenFileModal .container .tab-list .tab-options-button:hover+button,.OpenFileModal .container .tab-list .tab-options-button:hover+div{border-inline-start:none}.OpenFileModal .container .tab-list .tab-options-button.selected{background:var(--tab-color-selected);border:1px solid var(--tab-color-selected);color:var(--tab-text-color-selected)}.OpenFileModal .container .tab-list .tab-options-button.selected+button,.OpenFileModal .container .tab-list .tab-options-button.selected+div{border-inline-start:none!important}.OpenFileModal .container .tab-list .tab-options-button:not(.selected){border-inline-end:solid 1px var(--tab-border-color)}.OpenFileModal .image-signature{height:240px!important;width:100%}.OpenFileModal .error{color:red;margin:5px}.OpenFileModal .extension-dropdown{padding:0 16px;display:flex;flex-direction:column}.OpenFileModal .extension-dropdown label,.OpenFileModal .extension-dropdown p{width:100%;font-size:13px;line-height:16px;font-weight:700;order:1;margin-bottom:8px}.OpenFileModal .extension-dropdown label{margin-top:13px}.OpenFileModal .extension-dropdown .Dropdown__wrapper{order:2;width:100%}.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown{width:100%!important}.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown:disabled{border:1px solid var(--gray-4)}.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown:disabled .arrow,.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown:disabled .picked-option{color:var(--gray-5)}.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown__items{width:100%}.OpenFileModal .extension-dropdown .Dropdown__wrapper .arrow{flex:unset;width:12px;height:16px;margin-top:2px}.OpenFileModal .extension-dropdown .Dropdown__wrapper .Dropdown .picked-option .picked-option-text{flex:none;width:unset}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useEffect, useState } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport TabManager from 'helpers/TabManager';\nimport classNames from 'classnames';\nimport getHashParameters from 'helpers/getHashParameters';\nimport Button from 'components/Button';\nimport { useTranslation } from 'react-i18next';\nimport { Tabs, Tab, TabPanel } from 'components/Tabs';\nimport FileInputPanel from 'components/PageReplacementModal/FileInputPanel';\nimport FilePickerPanel from 'components/PageReplacementModal/FilePickerPanel';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\nimport ModalWrapper from '../ModalWrapper';\nimport useFocusOnClose from 'hooks/useFocusOnClose';\n\nimport '../PageReplacementModal/PageReplacementModal.scss';\nimport './OpenFileModal.scss';\nimport core from 'core';\nimport PropTypes from 'prop-types';\n\nconst OpenFileModal = ({ isDisabled, isOpen, tabManager, closeElements }) => {\n  const { t } = useTranslation();\n  const [selectedTab] = useSelector((state) => [\n    selectors.getSelectedTab(state, 'openFileModal'),\n  ]);\n  const [src, setSrc] = useState('');\n  const [extension, setExtension] = useState('pdf');\n  const [filename, setFilename] = useState();\n  const [size, setSize] = useState();\n  const [error, setError] = useState({ 'fileError': '', 'urlError': '', 'extensionError': '' });\n  const [urlInputError, setUrlInputError] = useState(null);\n\n  const closeModal = () => {\n    setSrc('');\n    setError({ 'fileError': '', 'urlError': '' });\n    setFilename(null);\n    setExtension('pdf');\n    setSize(null);\n    closeElements([DataElements.OPEN_FILE_MODAL]);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      closeElements([\n        DataElements.PRINT_MODAL,\n        DataElements.LOADING_MODAL,\n        DataElements.PROGRESS_MODAL,\n        DataElements.ERROR_MODAL,\n        DataElements.MODEL3D_MODAL,\n      ]);\n    } else {\n      setSrc('');\n      setError({ 'fileError': '', 'urlError': '' });\n      setFilename(null);\n      setExtension(null);\n      setSize(null);\n    }\n  }, [isOpen]);\n\n  const handleAddTab = async (source, _extension, _filename, _size) => {\n    setUrlInputError(null);\n\n    if (!source) {\n      return setError({ 'urlError': 'URL or File must be provided' });\n    }\n\n    if (!_extension || acceptFormats.indexOf(_extension) === -1) {\n      return setError({ 'extensionError': 'Extension must be provided' });\n    }\n\n    const useDb = !_size || TabManager.MAX_FILE_SIZE > _size;\n    try {\n      const document = await core.createDocument(source);\n\n      if (document) {\n        await tabManager.addTab(document, {\n          extension: _extension,\n          filename: _filename,\n          setActive: true,\n          saveCurrentActiveTabState: true,\n          useDB: useDb\n        });\n      }\n    } catch (error) {\n      setUrlInputError(t('message.urlInputFileLoadError'));\n      console.error('Error adding tab:', error);\n    }\n  };\n\n  const modalClass = classNames({\n    Modal: true,\n    OpenFileModal: true,\n    open: isOpen,\n    closed: !isOpen,\n  });\n\n  const extensionRegExp = /(?:\\.([^.?]+))?$/;\n\n  const handleFileChange = async (file) => {\n    setError(null);\n    if (!file) {\n      return;\n    }\n    if (file instanceof window.Core.Document) {\n      await handleAddTab(file, file.type, file.filename);\n    } else {\n      const ext = window.Core.mimeTypeToExtension[file.type] || extensionRegExp.exec(file.name)[1] || null;\n      const filename = file.name;\n      const size = file.size;\n      const src = URL.createObjectURL(file);\n      setSrc(src);\n      setFilename(filename);\n      setExtension(ext);\n      setSize(size);\n      await handleAddTab(file, ext, filename, size);\n    }\n  };\n\n  const handleURLChange = async (url) => {\n    setError(null);\n    setSrc(url.trim());\n    const filename = url.substring(url.lastIndexOf('/') + 1).split('?')[0];\n    setFilename(filename);\n    setExtension(extensionRegExp.exec(filename)[1]);\n    setSize(null);\n  };\n\n  const wvServer = !!getHashParameters('webviewerServerURL', null);\n  let acceptFormats = wvServer ? window.Core.SupportedFileFormats.SERVER : window.Core.SupportedFileFormats.CLIENT;\n  acceptFormats = acceptFormats.reduce((uniqueArr, curr) => {\n    if (uniqueArr.indexOf(curr) === -1) {\n      uniqueArr.push(curr);\n    }\n    return uniqueArr;\n  }, []);\n\n  return !isDisabled && (\n    <div className={modalClass} data-element={DataElements.OPEN_FILE_MODAL} onMouseDown={closeModal}>\n      <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\n        <ModalWrapper\n          title={t('OpenFile.newTab')}\n          isOpen={isOpen}\n          closeButtonDataElement={'openFileModalClose'}\n          onCloseClick={closeModal}\n          swipeToClose\n          closeHandler={closeModal}\n        >\n          <div className=\"swipe-indicator\" />\n          <Tabs className=\"open-file-modal-tabs\" id=\"openFileModal\">\n            <div className=\"tabs-header-container\">\n              <div role=\"tablist\" className=\"tab-list\">\n                <Tab dataElement=\"urlInputPanelButton\">\n                  <button role=\"tab\" className=\"tab-options-button\">\n                    {t('link.url')}\n                  </button>\n                </Tab>\n                <div className=\"tab-options-divider\" />\n                <Tab dataElement=\"filePickerPanelButton\">\n                  <button role=\"tab\" className=\"tab-options-button\">\n                    {t('option.pageReplacementModal.localFile')}\n                  </button>\n                </Tab>\n              </div>\n            </div>\n            <TabPanel dataElement=\"urlInputPanel\">\n              <div className=\"panel-body\">\n                <FileInputPanel\n                  onFileSelect={(url) => {\n                    handleURLChange(url);\n                  }}\n                  error={urlInputError}\n                  acceptFormats={acceptFormats}\n                  extension={(!src.length || !extension?.length) ? '' : extension}\n                  setExtension={setExtension}\n                  defaultValue={src}\n                />\n              </div>\n            </TabPanel>\n            <TabPanel dataElement=\"filePickerPanel\">\n              <div className=\"panel-body\">\n                <FilePickerPanel\n                  onFileProcessed={(file) => handleFileChange(file)}\n                />\n              </div>\n            </TabPanel>\n          </Tabs>\n          <div className=\"page-replacement-divider\" />\n          <div className=\"footer\">\n            {error?.urlError && <p className=\"error\">* {error.urlError}</p>}\n            {error?.fileError && <p className=\"error\">* {error.fileError}</p>}\n            {error?.extensionError && <p className=\"error\">* {error.extensionError}</p>}\n            <Button\n              className=\"modal-btn\"\n              dataElement=\"linkSubmitButton\"\n              label={t('OpenFile.addTab')}\n              style={{ width: 90 }}\n              onClick={useFocusOnClose(() => handleAddTab(src, extension, filename, size))}\n              disabled={selectedTab !== 'urlInputPanelButton' || (!src.length || !extension?.length)}\n            />\n          </div>\n        </ModalWrapper>\n      </div>\n    </div>\n  );\n};\n\nOpenFileModal.propTypes = {\n  isDisabled: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  tabManager: PropTypes.instanceOf(TabManager).isRequired,\n  closeElements: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  isDisabled: selectors.isElementDisabled(state, DataElements.OPEN_FILE_MODAL),\n  isOpen: selectors.isElementOpen(state, DataElements.OPEN_FILE_MODAL),\n  tabManager: selectors.getTabManager(state),\n});\n\nconst mapDispatchToProps = {\n  closeElements: actions.closeElements,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(OpenFileModal);\n","import OpenFileModal from './OpenFileModal';\n\nexport default OpenFileModal;\n"],"sourceRoot":""}