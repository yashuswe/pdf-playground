{"version":3,"sources":["webpack:///./src/ui/src/components/Model3DModal/Model3DModal.scss?5118","webpack:///./src/ui/src/components/Model3DModal/Model3DModal.scss","webpack:///./src/ui/src/components/Model3DModal/Model3DModal.js","webpack:///./src/ui/src/components/Model3DModal/Model3DModalContainer.js","webpack:///./src/ui/src/components/Model3DModal/Model3DModalRedux.js","webpack:///./src/ui/src/components/Model3DModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","e","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","apply","_objectSpread","arguments","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","Number","_toPrimitive","_toPropertyKey","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_slicedToArray","Array","isArray","_arrayWithHoles","next","_iterableToArrayLimit","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","Model3DModal","_ref","fileInput","urlInput","error","setError","file","setFile","url","setURL","closeModal","isDisabled","isOpen","useTranslation","_useState2","useState","typeOfInput","setTypeOfInput","_useState4","base64","setBase64","urlInputRadio","React","createRef","fileInputRadio","draw3DAnnotation","model3DAnnotation","Core","Annotations","Model3DAnnotation","set3DData","zoom","core","getZoom","X","layerX","Y","layerY","Width","Height","Author","getCurrentUser","setPageNumber","getCurrentPage","addAnnotations","drawAnnotationsFromList","removeEventListener","getExtension","fileName","split","pop","drawModel3DHandler","_ref2","_callee3","base64StrGenerator","_t","_t2","_context3","preventDefault","_ref3","_callee2","urlToBase64Str","_context2","xhr","XMLHttpRequest","_callee","reader","_context","FileReader","onloadend","result","readAsDataURL","response","open","responseType","send","_x2","setToolMode","getViewerElement","style","cursor","addEventListener","_x","modalClass","classNames","Modal","closed","handleFileChange","_ref5","_callee4","event","fileToBase64","_context4","target","files","_x3","urlInputElement","createElement","className","type","ref","onChange","trim","current","handleURLChange","onFocus","click","placeholder","fileInputElement","accept","Swipeable","onSwipedUp","onSwipedDown","preventDefaultTouchmoveEvent","data-element","onMouseDown","stopPropagation","onSubmit","Choice","dataElement","id","radio","label","center","urlError","fileError","Button","onClick","Model3DModalContainer","props","close3DModal","rest","_objectWithoutProperties","_excluded","useCallback","newProps","Model3DModalRedux","dispatch","useDispatch","_useState6","_useSelector2","useSelector","state","selectors","isElementDisabled","DataElements","MODEL3D_MODAL","isElementOpen","useEffect","onToolUpdated","actions","closeElement","focus","closeElements","PRINT_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","OPEN_FILE_MODAL"],"mappings":"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","file":"chunks/chunk.71.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Model3DModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach((el) => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach((el) => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function() {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.Model3DModal{visibility:visible}.closed.Model3DModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Model3DModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover);border-color:var(--primary-button-hover);color:var(--gray-0)}.Model3DModal .footer .modal-button.confirm{background:var(--primary-button);border-color:var(--primary-button);color:var(--primary-button-text)}.Model3DModal .footer .modal-button.confirm.disabled{cursor:default;background:var(--disabled-button-color);color:var(--primary-button-text)}.Model3DModal .footer .modal-button.confirm.disabled span{color:var(--primary-button-text)}.Model3DModal .footer .modal-button.cancel:hover,.Model3DModal .footer .modal-button.secondary-btn-custom:hover{border:none;box-shadow:inset 0 0 0 1px var(--blue-6);color:var(--blue-6)}.Model3DModal .footer .modal-button.cancel,.Model3DModal .footer .modal-button.secondary-btn-custom{border:none;box-shadow:inset 0 0 0 1px var(--primary-button);color:var(--primary-button)}.Model3DModal .footer .modal-button.cancel.disabled,.Model3DModal .footer .modal-button.secondary-btn-custom.disabled{cursor:default;border:none;box-shadow:inset 0 0 0 1px rgba(43,115,171,.5);color:rgba(43,115,171,.5)}.Model3DModal .footer .modal-button.cancel.disabled span,.Model3DModal .footer .modal-button.secondary-btn-custom.disabled span{color:rgba(43,115,171,.5)}.Model3DModal{position:fixed;inset-inline-start:0;inset-block-end:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.Model3DModal .modal-container .wrapper .modal-content{padding:10px}.Model3DModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.Model3DModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.Model3DModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.Model3DModal .footer .modal-button.confirm{margin-inline-start:4px}.Model3DModal .footer .modal-button.secondary-btn-custom{border-radius:4px;padding:2px 20px 4px;cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Model3DModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Model3DModal .footer .modal-button{padding:23px 8px}}.Model3DModal .swipe-indicator{background:var(--swipe-indicator-bg);border-radius:2px;height:4px;width:38px;position:absolute;inset-block-start:12px;margin-inline-start:auto;margin-inline-end:auto;inset-inline-start:0;inset-inline-end:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Model3DModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .Model3DModal .swipe-indicator{display:none}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Model3DModal .swipe-indicator{width:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Model3DModal .swipe-indicator{width:32px}}.Model3DModal .container{overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .Model3DModal .container,.Model3DModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .Model3DModal .container,.Model3DModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Model3DModal .container,.Model3DModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;inset-inline-start:0;inset-block-end:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Model3DModal .container,.Model3DModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;inset-inline-start:0;inset-block-end:0;padding-top:4px;min-width:100px}}.Model3DModal .container{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;border-radius:4px;padding:8px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Model3DModal .container{padding-top:24px;padding-bottom:16px;padding-inline-start:24px;padding-inline-end:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Model3DModal .container{padding-top:24px;padding-bottom:16px;padding-inline-start:24px;padding-inline-end:24px}}.Model3DModal .container .inputWrapper>label{width:100%}.Model3DModal .container .divider{height:1px;width:100%;background:var(--divider);margin:16px 0}.Model3DModal .container input{margin-top:8px;width:100%;height:30px;padding-inline-start:8px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding-bottom:6px;padding-inline-end:42px;padding-top:4px}.Model3DModal .container input:focus{outline:none;border:1px solid var(--focus-border)}.Model3DModal .container input::-moz-placeholder{color:var(--placeholder-text)}.Model3DModal .container input::placeholder{color:var(--placeholder-text)}.Model3DModal .container input::-webkit-inner-spin-button,.Model3DModal .container input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.Model3DModal .container input[type=number]{-moz-appearance:textfield}.Model3DModal .container form{width:100%}.Model3DModal .container .error{width:100%;color:red;margin:5px 0}.Model3DModal .container .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);font-weight:600;padding:6px 18px;margin-top:8px;margin-inline-start:5px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:30px;cursor:pointer}.Model3DModal .container .Button:hover{background:var(--primary-button-hover)}.Model3DModal .container .Button.disabled{background:var(--gray-6);border-color:var(--gray-6);cursor:not-allowed}.model-3D-btn{padding:0;border:none;background-color:transparent;border:1px solid var(--icon-color);width:162px;height:26px;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-inline-end:8px}:host(:not([data-tabbing=true])) .model-3D-btn,html:not([data-tabbing=true]) .model-3D-btn{outline:none}.model-3D-btn img{max-width:100%;max-height:100%}.model-3D-btn.interactable:hover{background:var(--tools-overlay-button-hover)}.model-3D-btn.active,.model-3D-btn.interactable.active{background:var(--tools-overlay-button-active)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .model-3D-btn.add-btn{width:auto;padding-inline-start:0;width:190px;height:30px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .model-3D-btn.add-btn{width:auto;padding-inline-start:0;width:190px;height:30px}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'components/Button';\r\nimport core from 'core';\r\nimport Choice from '../Choice/Choice';\r\n\r\nimport { Swipeable } from 'react-swipeable';\r\nimport './Model3DModal.scss';\r\n\r\nconst Model3DModal = ({\r\n  fileInput,\r\n  urlInput,\r\n  error,\r\n  setError,\r\n  file,\r\n  setFile,\r\n  url,\r\n  setURL,\r\n  closeModal,\r\n  isDisabled,\r\n  isOpen,\r\n}) => {\r\n  const [t] = useTranslation();\r\n\r\n  const [typeOfInput, setTypeOfInput] = useState('url');\r\n  const [base64, setBase64] = useState('');\r\n  const urlInputRadio = React.createRef();\r\n  const fileInputRadio = React.createRef();\r\n\r\n  const draw3DAnnotation = (e) => {\r\n    const defaultW = 300;\r\n    const defaultH = 300;\r\n\r\n    const model3DAnnotation = new window.Core.Annotations.Model3DAnnotation();\r\n    model3DAnnotation.set3DData(base64);\r\n    if (typeOfInput === 'url') {\r\n      model3DAnnotation.set3DData(url, 'url');\r\n    }\r\n    // reset x and y position with current zoom level\r\n    const zoom = core.getZoom();\r\n    model3DAnnotation.X = e.layerX / zoom;\r\n    model3DAnnotation.Y = e.layerY / zoom;\r\n    model3DAnnotation.Width = defaultW;\r\n    model3DAnnotation.Height = defaultH;\r\n    model3DAnnotation.Author = core.getCurrentUser();\r\n    model3DAnnotation.setPageNumber(core.getCurrentPage());\r\n    core.addAnnotations([model3DAnnotation]);\r\n    core.drawAnnotationsFromList([model3DAnnotation]);\r\n    core.removeEventListener('click', draw3DAnnotation);\r\n  };\r\n\r\n  const getExtension = (fileName) => {\r\n    return fileName.split('.').pop();\r\n  };\r\n\r\n  const drawModel3DHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (typeOfInput === 'url') {\r\n      // convert url to base 64\r\n      if (getExtension(url) !== 'glb') {\r\n        setError({ ...error, ...{ 'urlError': t('Model3D.formatError') } });\r\n        return;\r\n      }\r\n      const base64StrGenerator = async (url) => {\r\n        // build base64 string from the given file url\r\n        const urlToBase64Str = (url) => {\r\n          return new Promise(function(resolve) {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onload = async function() {\r\n              const reader = new FileReader();\r\n              reader.onloadend = function() {\r\n                resolve(reader.result);\r\n              };\r\n              await reader.readAsDataURL(xhr.response);\r\n            };\r\n            xhr.open('GET', url);\r\n            xhr.responseType = 'blob';\r\n            xhr.send();\r\n          });\r\n        };\r\n        // eslint-disable-next-line no-return-await\r\n        return await urlToBase64Str(url);\r\n      };\r\n      setBase64(await base64StrGenerator(url));\r\n    } else if (typeOfInput === 'file') {\r\n      if (getExtension(file.name) !== 'glb') {\r\n        setError({ ...error, ...{ 'urlError': t('Model3D.formatError') } });\r\n        return;\r\n      }\r\n    }\r\n\r\n    closeModal();\r\n    core.setToolMode('Pan');\r\n    // eslint-disable-next-line no-undef\r\n    const viewer = core.getViewerElement();\r\n    viewer.style.cursor = 'crosshair';\r\n    core.addEventListener('click', draw3DAnnotation);\r\n  };\r\n\r\n  const modalClass = classNames({\r\n    Modal: true,\r\n    Model3DModal: true,\r\n    open: isOpen,\r\n    closed: !isOpen,\r\n  });\r\n\r\n  const handleFileChange = async (event) => {\r\n    setTypeOfInput('file');\r\n    const file = event.target.files[0];\r\n    setFile(file);\r\n    const fileToBase64 = (file) => new Promise(() => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        return setBase64(reader.result);\r\n      };\r\n    });\r\n    await fileToBase64(file);\r\n    setError({});\r\n    setURL('');\r\n  };\r\n\r\n  const handleURLChange = (url) => {\r\n    setTypeOfInput('url');\r\n    setURL(url.trim());\r\n    setError('');\r\n    fileInput.current.value = null;\r\n  };\r\n\r\n  const urlInputElement = (\r\n    <input\r\n      className=\"urlInput\"\r\n      type=\"url\"\r\n      ref={urlInput}\r\n      value={url}\r\n      onChange={(e) => handleURLChange(e.target.value)}\r\n      onFocus={() => urlInputRadio.current.click()}\r\n      placeholder={t('Model3D.enterurl')}\r\n    />\r\n  );\r\n\r\n  const fileInputElement = (\r\n    <input\r\n      type=\"file\"\r\n      ref={fileInput}\r\n      onChange={handleFileChange}\r\n      accept=\".glb\"\r\n      onFocus={() => fileInputRadio.current.click()}\r\n    />\r\n  );\r\n\r\n  return isDisabled ? null : (\r\n    <Swipeable onSwipedUp={closeModal} onSwipedDown={closeModal} preventDefaultTouchmoveEvent>\r\n      <div className={modalClass} data-element=\"Model3DModal\" onMouseDown={closeModal}>\r\n        <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\r\n          <div className=\"swipe-indicator\" />\r\n          <form onSubmit={drawModel3DHandler}>\r\n            <div className=\"col\">{t('Model3D.enterurlOrLocalFile')}</div>\r\n            <Choice\r\n              dataElement=\"3DAnnotationLink\"\r\n              id=\"3D-annotation-link\"\r\n              name=\"3DInput\"\r\n              className=\"inputWrapper\"\r\n              ref={urlInputRadio}\r\n              radio\r\n              label={urlInputElement}\r\n              center\r\n            />\r\n            {error?.urlError && <p className=\"error\">* {error.urlError}</p>}\r\n            <Choice\r\n              dataElement=\"3DAnnotationLocalFile\"\r\n              id=\"3D-annotation-file\"\r\n              name=\"3DInput\"\r\n              className=\"inputWrapper\"\r\n              ref={fileInputRadio}\r\n              radio\r\n              label={fileInputElement}\r\n              center\r\n            />\r\n            {error?.fileError && <p className=\"error\">* {error.fileError}</p>}\r\n            <Button dataElement=\"linkSubmitButton\" label={t('action.draw')} onClick={drawModel3DHandler} />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Swipeable>\r\n  );\r\n};\r\n\r\nexport default Model3DModal;\r\n","import React, { useCallback } from 'react';\r\nimport Model3DModal from './Model3DModal';\r\n\r\nfunction Model3DModalContainer(props) {\r\n  const { close3DModal, ...rest } = props;\r\n\r\n  const closeModal = useCallback(() => {\r\n    close3DModal();\r\n  }, [close3DModal]);\r\n\r\n  const newProps = {\r\n    ...rest,\r\n    closeModal,\r\n  };\r\n\r\n  return <Model3DModal {...newProps} />;\r\n}\r\n\r\nexport default Model3DModalContainer;\r\n","import React, { useEffect, useState } from 'react';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport core from 'core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Model3DModalContainer from './Model3DModalContainer';\nimport DataElements from 'constants/dataElement';\n\nfunction Model3DModalRedux(props) {\n  const dispatch = useDispatch();\n  const [url, setURL] = useState('');\n  const [file, setFile] = useState({});\n  const [error, setError] = useState({ 'fileError': '', 'urlError': '' });\n  const fileInput = React.createRef();\n  const urlInput = React.createRef();\n\n\n  const [isDisabled, isOpen] = useSelector((state) => [\n    selectors.isElementDisabled(state, DataElements.MODEL3D_MODAL),\n    selectors.isElementOpen(state, DataElements.MODEL3D_MODAL),\n  ]);\n\n  const close3DModal = () => {\n    dispatch(actions.closeElement(DataElements.MODEL3D_MODAL));\n    setURL('');\n    setFile({});\n    setError({});\n    if (fileInput.current) {\n      fileInput.current.value = null;\n    }\n  };\n\n\n  // Hack to close modal if hotkey to open other tool is used.\n  useEffect(() => {\n    const onToolUpdated = () => {\n      dispatch(actions.closeElement(DataElements.MODEL3D_MODAL));\n    };\n    core.addEventListener('toolUpdated', onToolUpdated);\n    return () => core.removeEventListener('toolUpdated', onToolUpdated);\n  }, []);\n\n  useEffect(() => {\n    if (isOpen) {\n      urlInput.current.focus();\n      dispatch(actions.closeElements([\n        DataElements.PRINT_MODAL,\n        DataElements.LOADING_MODAL,\n        DataElements.PROGRESS_MODAL,\n        DataElements.ERROR_MODAL,\n        DataElements.OPEN_FILE_MODAL,\n      ]));\n    }\n  }, [dispatch, isOpen]);\n\n\n  const newProps = {\n    ...props,\n    isDisabled,\n    isOpen,\n    close3DModal,\n    fileInput,\n    urlInput,\n    error,\n    setError,\n    file,\n    setFile,\n    url,\n    setURL\n  };\n  return <Model3DModalContainer {...newProps} />;\n}\n\nexport default Model3DModalRedux;\n","import Model3DModalRedux from './Model3DModalRedux';\n\nexport default Model3DModalRedux;"],"sourceRoot":""}